"use strict";(self.webpackChunkrefresh_website=self.webpackChunkrefresh_website||[]).push([[957],{463:(C,g)=>{var r;r={value:!0},g.A=(c,f)=>{const e=c.__vccOpts||c;for(const[o,l]of f)e[o]=l;return e}},1813:(C,g,r)=>{r.d(g,{q:()=>c});let c=(f,e,o,l)=>({title:f,meta:[{name:"title",content:f},{hid:"description",name:"description",content:e},{property:"og:type",content:"website"},{property:"og:url",content:o},{property:"og:title",content:f},{property:"og:description",content:e},{property:"og:image",content:l},{property:"twitter:card",content:"summary_large_image"},{property:"twitter:url",content:o},{property:"twitter:title",content:f},{property:"twitter:description",content:e},{property:"twitter:image",content:l}]})},4772:(C,g,r)=>{r.d(g,{A:()=>w});var c=r(2214),f=r(1438);const e=["href"],o=["src"],w={__name:"profile",props:{profile:null},setup(h){const j=h;return(F,Q)=>h.profile?((0,c.uX)(),(0,c.CE)("a",{key:0,href:"https://steamcommunity.com/profiles/"+h.profile.id,target:"_blank",class:"profile"},[(0,c.Lk)("img",{src:h.profile.avatar},null,8,o),(0,c.Lk)("span",null,(0,f.v_)(h.profile.name),1)],8,e)):(0,c.Q3)("",!0)}}},9338:(C,g,r)=>{r.r(g),r.d(g,{default:()=>ve});var c=r(4772),f=r(3778),e=r(2214),o=r(1438),l=r(9222),x=r(8797);const w={class:"version"},h={class:"version-date"},j={class:"changelog"},F=["href"],Q="version",D={__name:"map-version",props:{map:null,index:null,version:null},setup(n){const t=(0,l.KR)("el"),a=n,k={fix:"fixed",revert:"reverted",improved:"improvement",remove:"removed",add:"added"},m=(0,x.lq)(),s=a.version.suffix,u=Q+"-"+s,y=m.path+"#"+u;(0,e.sV)(()=>{(a.index==0||m.hash=="#"+u)&&(t._value.open=!0)});const R=_=>{E(_),t._value.open=!0},E=_=>{_.preventDefault(),console.log("linked",t),window.location.hash=u,navigator.clipboard.writeText(window.location.host+y),t._value.open=!0},v=_=>{let p=_.toLowerCase();return k[p]||p},i=_=>{let p=v(_);return p=="improvement"?"lime":p=="reverted"?"yellow":p=="removed"?"red":p=="fixed"?"green":p=="added"?"blue":"white"},b=()=>[a.map.prefix,a.map.name,a.version.suffix].join("_");return(_,p)=>((0,e.uX)(),(0,e.CE)("details",{id:u,ref_key:"el",ref:t,class:"map-version"},[(0,e.Lk)("summary",null,[(0,e.Lk)("div",w,[(0,e.Lk)("h4",null,(0,o.v_)(n.version.suffix),1),(0,e.Lk)("span",h,(0,o.v_)(a.version.date),1),(0,e.Lk)("a",{href:y,onClick:R},p[0]||(p[0]=[(0,e.Lk)("i",{class:"rfi rfi-link"},null,-1)]))])]),(0,e.Lk)("div",j,[(0,e.Lk)("ul",null,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(a.version.changes,L=>((0,e.uX)(),(0,e.CE)("li",null,[(0,e.Lk)("div",{class:(0,o.C4)("tag "+i(L.type))},[(0,e.Lk)("span",null,(0,o.v_)(v(L.type)),1)],2),(0,e.Lk)("span",null,(0,o.v_)(L.message),1)]))),256))]),(0,e.Lk)("a",{class:"button",href:n.version.download,target:"_blank"},[p[1]||(p[1]=(0,e.Lk)("i",{class:"rfi rfi-ic_file_download_48px"},null,-1)),(0,e.eW)(" "+(0,o.v_)(b()),1)],8,F)])],512))}};var M=r(9656);const U=["id"],P={key:0,class:"img-header"},K=["href"],B=["src"],T={class:"img-footer"},I={class:"toggleswitch"},V={key:0,class:"legend"};function N(n,t,a,k,m,s){return(0,e.uX)(),(0,e.CE)("div",{class:(0,o.C4)({"image-comparison-fullscreen":m.fullscreen}),onClick:t[5]||(t[5]=(...u)=>s.exitFullscreen&&s.exitFullscreen(...u)),id:n.uri},[(0,e.Lk)("div",{class:"image-comparison",onClick:t[4]||(t[4]=(0,M.D$)(()=>{},["stop"]))},[a.comp.title?((0,e.uX)(),(0,e.CE)("div",P,[(0,e.eW)((0,o.v_)(a.comp.title)+" ",1),(0,e.Lk)("a",{href:n.url,onClick:t[0]||(t[0]=(...u)=>n.linked&&n.linked(...u))},t[6]||(t[6]=[(0,e.Lk)("i",{class:"rfi rfi-link"},null,-1)]),8,K),(0,e.Lk)("a",{class:"toggle-fullscreen",onClick:t[1]||(t[1]=(...u)=>s.toggleFullscreen&&s.toggleFullscreen(...u))},[(0,e.Lk)("i",{class:(0,o.C4)(["rfi",{"rfi-screen-full":!m.fullscreen,"rfi-screen-normal":m.fullscreen}])},null,2)])])):(0,e.Q3)("",!0),(0,e.Lk)("div",{class:(0,o.C4)(["img-container",{active:m.active}])},[(0,e.Lk)("div",{class:"clickarea",onMousedown:t[2]||(t[2]=(...u)=>s.mouseDown&&s.mouseDown(...u))},null,32),(0,e.Lk)("img",{class:"img-after",src:m.after},null,8,B),(0,e.Lk)("div",{class:"image-slider",style:(0,o.Tr)({right:m.percent+"%",backgroundImage:"url("+m.before+")"})},t[7]||(t[7]=[(0,e.Lk)("div",{class:"handle"},null,-1)]),4),t[8]||(t[8]=(0,e.Lk)("span",null,"Before",-1)),t[9]||(t[9]=(0,e.Lk)("span",null,"After",-1))],2),(0,e.Lk)("div",T,[(0,e.Lk)("div",{class:"collision-toggle",onClick:t[3]||(t[3]=(...u)=>s.toggleCollision&&s.toggleCollision(...u))},[t[10]||(t[10]=(0,e.eW)(" Display collisions ")),(0,e.Lk)("div",I,[(0,e.Lk)("div",{class:(0,o.C4)(["switch",{on:m.collision}])},null,2)])]),m.collision?((0,e.uX)(),(0,e.CE)("div",V,t[11]||(t[11]=[(0,e.Lk)("span",{class:"brush-magenta"},"PlayerClip",-1),(0,e.Lk)("span",{class:"brush-purple"},"BlockBullet",-1),(0,e.Lk)("span",{class:"brush-red"},"Grate",-1),(0,e.Lk)("span",{class:"wireframe"},"Collision",-1)]))):(0,e.Q3)("",!0)])])],10,U)}const O={name:"image-comparison",mixins:[{data(){return{uriPrefix:"",uriValue:""}},computed:{uri(){return this.uriPrefix+"-"+this.uriValue},url(){return this.$route.path+"#"+this.uri},fullUrl(){return window.location.host+this.url}},methods:{linked(n){n.preventDefault(),window.location.hash=this.uri,navigator.clipboard.writeText(this.fullUrl),this.$el.open=!0}}}],props:{mapname:null,comp:null},data(){return{active:!1,before:null,after:null,percent:50,collision:!1,uriPrefix:"compared",uriValue:this.comp.name,fullscreen:!1}},created(){this.comparison={};const n="/comparison/"+this.mapname+"/";let t=n+this.comp.name+"_collision_off.jpg",a=n+this.comp.name+"_collision_on.jpg",k=n+this.comp.name+"_"+this.comp.version+"_collision_off.jpg",m=n+this.comp.name+"_"+this.comp.version+"_collision_on.jpg";this.comparison["before-normal"]=t,this.comparison["before-collision"]=a,this.comparison["after-normal"]=k,this.comparison["after-collision"]=m,this.before=this.comparison["before-normal"],this.after=this.comparison["after-normal"]},methods:{toggleFullscreen(){this.fullscreen=!this.fullscreen},exitFullscreen(){this.fullscreen=!1},toggleCollision(n){n.preventDefault(),this.collision=!this.collision,this.collision?(this.before=this.comparison["before-collision"],this.after=this.comparison["after-collision"]):(this.before=this.comparison["before-normal"],this.after=this.comparison["after-normal"])},mouseDown(n){n.which==1&&(this.active=!0,this.mouseMove(n),document.addEventListener("mousemove",this.mouseMove),document.addEventListener("mouseup",this.mouseUp),n.preventDefault())},mouseUp(n){this.active=!1,this.mouseMove(n),document.removeEventListener("mousemove",this.mouseMove),document.removeEventListener("mouseup",this.mouseUp),this.$forceUpdate()},mouseMove(n){let t=n.x-this.$el.getBoundingClientRect().x;t=Math.max(0,Math.min(t,this.$el.clientWidth)),this.percent=100-t/this.$el.clientWidth*100}}};var H=r(463);const G=(0,H.A)(O,[["render",N]]);var Y=r(1813),z=r(2299),A=r(8356),W=r(8195),J=r(7728);const S={class:"container",id:"map_page_info"},Z={class:"h1-prefix"},$={class:"h1-suffix"},q={class:"page_container"},ee={class:"summary"},te=["src"],se={key:0,class:"credits"},le={class:"credit"},ie={class:"ugc"},ne=["href"],oe={key:1,class:"credits"},re={class:"ugc"},ae={class:"links"},ue=["href"],pe={class:"sublinks"},me=["href"],ce=["href"],_e=["href"],de=["href"],fe={key:0},ve={__name:"[slug]",async setup(n){let t,a;const k=(0,x.lq)(),{data:m}=([t,a]=(0,e.E)(()=>(0,A.e6)("/meta",()=>(0,W.lj)("meta").first())),t=await t,a(),t),{data:s}=([t,a]=(0,e.E)(()=>(0,A.e6)(`/maps/${k.params.slug}`,()=>(0,W.lj)("maps").where("name","=",k.params.slug).first())),t=await t,a(),t),u=s.value.refreshAuthors.map(v=>Object.assign({id:v},m.value.credits[v]));(0,z.W)().value="images/"+s.value.thumbnail;const y=(0,l.KR)(),R=()=>{const v=y.value.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:v,behavior:"smooth"})};let E=()=>{let v=s.value.name.charAt(0).toUpperCase()+s.value.name.slice(1),i="https://refresh.tf",b=i+"/"+s.value.name.toLowerCase(),_=i+"/images/"+s.value.thumbnail,p="Refresh - "+v,L=s.value.description;return(0,Y.q)(p,L,b,_)};return(0,J.oU)(E()),(v,i)=>{const b=c.A,_=f.Ay,p=D,L=G;return(0,e.uX)(),(0,e.CE)("div",S,[(0,e.Lk)("h1",null,[(0,e.Lk)("span",null,[(0,e.Lk)("span",Z,(0,o.v_)((0,l.R1)(s).prefix),1),(0,e.eW)(" "+(0,o.v_)((0,l.R1)(s).name)+" ",1),(0,e.Lk)("span",$,(0,o.v_)((0,l.R1)(s).versions[0].suffix),1)])]),(0,e.Lk)("div",q,[i[11]||(i[11]=(0,e.Lk)("h2",null,"About",-1)),(0,e.Lk)("div",ee,[(0,e.Lk)("img",{class:"thumbnail",ref:"thumbnail",src:"/images/"+(0,l.R1)(s).thumbnail},null,8,te),(0,l.R1)(s).originalAuthors.length>0?((0,e.uX)(),(0,e.CE)("div",se,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)((0,l.R1)(s).originalAuthors,d=>((0,e.uX)(),(0,e.CE)("div",le,[(0,e.Lk)("p",ie,(0,o.v_)(d.comment),1),d.link?((0,e.uX)(),(0,e.CE)("a",{key:0,href:d.link,target:"_blank",class:"highlight"},i[0]||(i[0]=[(0,e.Lk)("i",{class:"rfi rfi-link-external"},null,-1)]),8,ne)):(0,e.Q3)("",!0)]))),256))])):(0,e.Q3)("",!0),(0,l.R1)(s).refreshAuthors.length>0?((0,e.uX)(),(0,e.CE)("div",oe,[(0,e.Lk)("p",null,[i[1]||(i[1]=(0,e.eW)("Refreshed By: ")),(0,e.bF)(_,null,{default:(0,e.k6)(()=>[(0,l.R1)(u)?((0,e.uX)(!0),(0,e.CE)(e.FK,{key:0},(0,e.pI)((0,l.R1)(u),d=>((0,e.uX)(),(0,e.Wv)(b,{profile:d,key:d.id},null,8,["profile"]))),128)):(0,e.Q3)("",!0)]),_:1})])])):(0,e.Q3)("",!0),(0,e.Lk)("p",re,(0,o.v_)((0,l.R1)(s).description),1),(0,e.Lk)("div",ae,[(0,l.R1)(s).versions.length>0?((0,e.uX)(),(0,e.CE)("a",{key:0,class:"button large",href:(0,l.R1)(s).versions[0].download,target:"_blank"},i[2]||(i[2]=[(0,e.Lk)("i",{class:"rfi rfi-ic_file_download_48px"},null,-1),(0,e.eW)(" Download latest version ")]),8,ue)):(0,e.Q3)("",!0),(0,e.Lk)("div",pe,[(0,l.R1)(s).workshopLink?((0,e.uX)(),(0,e.CE)("a",{key:0,class:"highlight",href:(0,l.R1)(s).workshopLink,target:"_blank",title:"workshop"},i[3]||(i[3]=[(0,e.Lk)("i",{class:"rfi rfi-steam"},null,-1)]),8,me)):(0,e.Q3)("",!0),(0,l.R1)(s).tftvLink?((0,e.uX)(),(0,e.CE)("a",{key:1,class:"highlight",href:(0,l.R1)(s).tftvLink,target:"_blank",title:"teamfortress.tv"},i[4]||(i[4]=[(0,e.Lk)("img",{src:"/icons/teamfortress_tv.png"},null,-1)]),8,ce)):(0,e.Q3)("",!0),(0,l.R1)(s).tf2mLink?((0,e.uX)(),(0,e.CE)("a",{key:2,class:"highlight",href:(0,l.R1)(s).tf2mLink,target:"_blank",title:"TF2Maps"},i[5]||(i[5]=[(0,e.Lk)("img",{src:"/icons/tf2maps.png"},null,-1)]),8,_e)):(0,e.Q3)("",!0),(0,l.R1)(s).githubLink?((0,e.uX)(),(0,e.CE)("a",{key:3,class:"highlight",href:(0,l.R1)(s).githubLink,target:"_blank",title:"Photo album"},i[6]||(i[6]=[(0,e.Lk)("i",{class:"rfi rfi-github"},null,-1)]),8,de)):(0,e.Q3)("",!0),(0,l.R1)(s).comparisons&&(0,l.R1)(s).comparisons.length>0?((0,e.uX)(),(0,e.CE)("a",{key:4,class:"highlight",onClick:R,title:"Photo album"},i[7]||(i[7]=[(0,e.Lk)("img",{src:"/icons/image.png"},null,-1)]))):(0,e.Q3)("",!0)])])]),(0,l.R1)(s).versions&&(0,l.R1)(s).versions.length>0?((0,e.uX)(),(0,e.CE)("div",fe,[i[8]||(i[8]=(0,e.Lk)("div",{class:"separator"},null,-1)),i[9]||(i[9]=(0,e.Lk)("h2",null,"Update History",-1)),((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)((0,l.R1)(s).versions,(d,X)=>((0,e.uX)(),(0,e.Wv)(p,{key:d.suffix,map:(0,l.R1)(s),index:X,version:d},null,8,["map","index","version"]))),128))])):(0,e.Q3)("",!0),(0,e.Lk)("div",{ref_key:"album",ref:y},[i[10]||(i[10]=(0,e.Lk)("div",{class:"separator"},null,-1)),((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)((0,l.R1)(s).comparisons,(d,X)=>((0,e.uX)(),(0,e.Wv)(L,{key:X,comp:d,mapname:(0,l.R1)(s).name},null,8,["comp","mapname"]))),128))],512)])])}}}}}]);
