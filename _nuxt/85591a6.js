"use strict";(self.webpackChunkrefresh_website=self.webpackChunkrefresh_website||[]).push([[746],{1746:(dt,pt,ke)=>{ke.d(pt,{A:()=>Mt});var Xe=(()=>{var Ce="file:///home/runner/work/website/website/node_modules/@sqlite.org/sqlite-wasm/sqlite-wasm/jswasm/sqlite3-bundler-friendly.mjs";return function(be={}){var ye,o=be,xe,Se,Ye=new Promise((e,t)=>{xe=e,Se=t}),Ze=typeof window=="object",ze=typeof importScripts=="function",jt=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer",Va=!Ze&&!jt&&!ze;const Bt=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,Bt.debugModule("globalThis.location =",globalThis.location);var mt=Object.assign({},o),zt=[],ht="./this.program",Ga=(e,t)=>{throw t},we="";function Ut(e){return o.locateFile?o.locateFile(e,we):we+e}var et,He;(Ze||ze)&&(ze?we=self.location.href:typeof document<"u"&&document.currentScript&&(we=document.currentScript.src),Ce&&(we=Ce),we.startsWith("blob:")?we="":we=we.substr(0,we.replace(/[?#].*/,"").lastIndexOf("/")+1),ze&&(He=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),et=e=>fetch(e,{credentials:"same-origin"}).then(t=>t.ok?t.arrayBuffer():Promise.reject(new Error(t.status+" : "+t.url))));var tt=o.print||console.log.bind(console),Te=o.printErr||console.error.bind(console);Object.assign(o,mt),mt=null,o.arguments&&(zt=o.arguments),o.thisProgram&&(ht=o.thisProgram);var Ve=o.wasmBinary,Pe,qt=!1,$a;function Ka(e,t){e||Re(t)}var Ja,he,De,Oe,Wt,le,pe,st,ve,Qt,rt;function gt(){var e=Pe.buffer;o.HEAP8=he=new Int8Array(e),o.HEAP16=Oe=new Int16Array(e),o.HEAPU8=De=new Uint8Array(e),o.HEAPU16=Wt=new Uint16Array(e),o.HEAP32=le=new Int32Array(e),o.HEAPU32=pe=new Uint32Array(e),o.HEAPF32=st=new Float32Array(e),o.HEAPF64=rt=new Float64Array(e),o.HEAP64=ve=new BigInt64Array(e),o.HEAPU64=Qt=new BigUint64Array(e)}if(o.wasmMemory)Pe=o.wasmMemory;else{var Ht=o.INITIAL_MEMORY||16777216;Pe=new WebAssembly.Memory({initial:Ht/65536,maximum:32768})}gt();var bt=[],yt=[],Xa=[],vt=[],Vt=!1;function Gt(){var e=o.preRun;e&&(typeof e=="function"&&(e=[e]),e.forEach(Jt)),at(bt)}function $t(){Vt=!0,!o.noFSInit&&!l.initialized&&l.init(),l.ignorePermissions=!1,Fe.init(),at(yt)}function Kt(){var e=o.postRun;e&&(typeof e=="function"&&(e=[e]),e.forEach(Yt)),at(vt)}function Jt(e){bt.unshift(e)}function Xt(e){yt.unshift(e)}function Ya(e){}function Yt(e){vt.unshift(e)}var Le=0,nt=null,Ue=null;function Za(e){return e}function it(e){Le++,o.monitorRunDependencies?.(Le)}function Ge(e){if(Le--,o.monitorRunDependencies?.(Le),Le==0&&(nt!==null&&(clearInterval(nt),nt=null),Ue)){var t=Ue;Ue=null,t()}}function Re(e){o.onAbort?.(e),e="Aborted("+e+")",Te(e),qt=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw Se(t),t}var Zt="data:application/octet-stream;base64,",wt=e=>e.startsWith(Zt),el=e=>e.startsWith("file://");function es(){if(o.locateFile){var e="sqlite3.wasm";return wt(e)?e:Ut(e)}return new URL(ke(7382),ke.b).href}var ot;function Et(e){if(e==ot&&Ve)return new Uint8Array(Ve);if(He)return He(e);throw"both async and sync fetching of the wasm failed"}function ts(e){return Ve?Promise.resolve().then(()=>Et(e)):et(e).then(t=>new Uint8Array(t),()=>Et(e))}function xt(e,t,s){return ts(e).then(i=>WebAssembly.instantiate(i,t)).then(s,i=>{Te(`failed to asynchronously prepare wasm: ${i}`),Re(i)})}function ss(e,t,s,i){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!wt(t)&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(r=>{var n=WebAssembly.instantiateStreaming(r,s);return n.then(i,function(p){return Te(`wasm streaming compile failed: ${p}`),Te("falling back to ArrayBuffer instantiation"),xt(t,s,i)})}):xt(t,s,i)}function rs(){return{env:Pt,wasi_snapshot_preview1:Pt}}function ns(){var e=rs();function t(i,r){return m=i.exports,Xt(m.__wasm_call_ctors),Ge("wasm-instantiate"),m}it("wasm-instantiate");function s(i){t(i.instance)}if(o.instantiateWasm)try{return o.instantiateWasm(e,t)}catch(i){Te(`Module.instantiateWasm callback failed with error: ${i}`),Se(i)}return ot??=es(),ss(Ve,ot,e,s).catch(Se),{}}function tl(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var at=e=>{e.forEach(t=>t(o))};function sl(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":return he[e];case"i8":return he[e];case"i16":return Oe[e>>1];case"i32":return le[e>>2];case"i64":return ve[e>>3];case"float":return st[e>>2];case"double":return rt[e>>3];case"*":return pe[e>>2];default:Re(`invalid type for getValue: ${t}`)}}var rl=o.noExitRuntime||!0;function nl(e,t,s="i8"){switch(s.endsWith("*")&&(s="*"),s){case"i1":he[e]=t;break;case"i8":he[e]=t;break;case"i16":Oe[e>>1]=t;break;case"i32":le[e>>2]=t;break;case"i64":ve[e>>3]=BigInt(t);break;case"float":st[e>>2]=t;break;case"double":rt[e>>3]=t;break;case"*":pe[e>>2]=t;break;default:Re(`invalid type for setValue: ${s}`)}}var il=e=>Lt(e),ol=()=>Ct(),ce={isAbs:e=>e.charAt(0)==="/",splitPath:e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return t.exec(e).slice(1)},normalizeArray:(e,t)=>{for(var s=0,i=e.length-1;i>=0;i--){var r=e[i];r==="."?e.splice(i,1):r===".."?(e.splice(i,1),s++):s&&(e.splice(i,1),s--)}if(t)for(;s;s--)e.unshift("..");return e},normalize:e=>{var t=ce.isAbs(e),s=e.substr(-1)==="/";return e=ce.normalizeArray(e.split("/").filter(i=>!!i),!t).join("/"),!e&&!t&&(e="."),e&&s&&(e+="/"),(t?"/":"")+e},dirname:e=>{var t=ce.splitPath(e),s=t[0],i=t[1];return!s&&!i?".":(i&&(i=i.substr(0,i.length-1)),s+i)},basename:e=>{if(e==="/")return"/";e=ce.normalize(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)},join:(...e)=>ce.normalize(e.join("/")),join2:(e,t)=>ce.normalize(e+"/"+t)},is=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>crypto.getRandomValues(e);Re("initRandomDevice")},St=e=>(St=is())(e),Ae={resolve:(...e)=>{for(var t="",s=!1,i=e.length-1;i>=-1&&!s;i--){var r=i>=0?e[i]:l.cwd();if(typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";t=r+"/"+t,s=ce.isAbs(r)}return t=ce.normalizeArray(t.split("/").filter(n=>!!n),!s).join("/"),(s?"/":"")+t||"."},relative:(e,t)=>{e=Ae.resolve(e).substr(1),t=Ae.resolve(t).substr(1);function s(R){for(var W=0;W<R.length&&R[W]==="";W++);for(var z=R.length-1;z>=0&&R[z]==="";z--);return W>z?[]:R.slice(W,z-W+1)}for(var i=s(e.split("/")),r=s(t.split("/")),n=Math.min(i.length,r.length),p=n,h=0;h<n;h++)if(i[h]!==r[h]){p=h;break}for(var P=[],h=p;h<i.length;h++)P.push("..");return P=P.concat(r.slice(p)),P.join("/")}},At=typeof TextDecoder<"u"?new TextDecoder:void 0,Ne=(e,t=0,s=NaN)=>{for(var i=t+s,r=t;e[r]&&!(r>=i);)++r;if(r-t>16&&e.buffer&&At)return At.decode(e.subarray(t,r));for(var n="";t<r;){var p=e[t++];if(!(p&128)){n+=String.fromCharCode(p);continue}var h=e[t++]&63;if((p&224)==192){n+=String.fromCharCode((p&31)<<6|h);continue}var P=e[t++]&63;if((p&240)==224?p=(p&15)<<12|h<<6|P:p=(p&7)<<18|h<<12|P<<6|e[t++]&63,p<65536)n+=String.fromCharCode(p);else{var R=p-65536;n+=String.fromCharCode(55296|R>>10,56320|R&1023)}}return n},lt=[],$e=e=>{for(var t=0,s=0;s<e.length;++s){var i=e.charCodeAt(s);i<=127?t++:i<=2047?t+=2:i>=55296&&i<=57343?(t+=4,++s):t+=3}return t},_t=(e,t,s,i)=>{if(!(i>0))return 0;for(var r=s,n=s+i-1,p=0;p<e.length;++p){var h=e.charCodeAt(p);if(h>=55296&&h<=57343){var P=e.charCodeAt(++p);h=65536+((h&1023)<<10)|P&1023}if(h<=127){if(s>=n)break;t[s++]=h}else if(h<=2047){if(s+1>=n)break;t[s++]=192|h>>6,t[s++]=128|h&63}else if(h<=65535){if(s+2>=n)break;t[s++]=224|h>>12,t[s++]=128|h>>6&63,t[s++]=128|h&63}else{if(s+3>=n)break;t[s++]=240|h>>18,t[s++]=128|h>>12&63,t[s++]=128|h>>6&63,t[s++]=128|h&63}}return t[s]=0,s-r};function It(e,t,s){var i=s>0?s:$e(e)+1,r=new Array(i),n=_t(e,r,0,r.length);return t&&(r.length=n),r}var os=()=>{if(!lt.length){var e=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(e=window.prompt("Input: "),e!==null&&(e+=`
`)),!e)return null;lt=It(e,!0)}return lt.shift()},Fe={ttys:[],init(){},shutdown(){},register(e,t){Fe.ttys[e]={input:[],output:[],ops:t},l.registerDevice(e,Fe.stream_ops)},stream_ops:{open(e){var t=Fe.ttys[e.node.rdev];if(!t)throw new l.ErrnoError(43);e.tty=t,e.seekable=!1},close(e){e.tty.ops.fsync(e.tty)},fsync(e){e.tty.ops.fsync(e.tty)},read(e,t,s,i,r){if(!e.tty||!e.tty.ops.get_char)throw new l.ErrnoError(60);for(var n=0,p=0;p<i;p++){var h;try{h=e.tty.ops.get_char(e.tty)}catch{throw new l.ErrnoError(29)}if(h===void 0&&n===0)throw new l.ErrnoError(6);if(h==null)break;n++,t[s+p]=h}return n&&(e.node.timestamp=Date.now()),n},write(e,t,s,i,r){if(!e.tty||!e.tty.ops.put_char)throw new l.ErrnoError(60);try{for(var n=0;n<i;n++)e.tty.ops.put_char(e.tty,t[s+n])}catch{throw new l.ErrnoError(29)}return i&&(e.node.timestamp=Date.now()),n}},default_tty_ops:{get_char(e){return os()},put_char(e,t){t===null||t===10?(tt(Ne(e.output)),e.output=[]):t!=0&&e.output.push(t)},fsync(e){e.output&&e.output.length>0&&(tt(Ne(e.output)),e.output=[])},ioctl_tcgets(e){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(e,t,s){return 0},ioctl_tiocgwinsz(e){return[24,80]}},default_tty1_ops:{put_char(e,t){t===null||t===10?(Te(Ne(e.output)),e.output=[]):t!=0&&e.output.push(t)},fsync(e){e.output&&e.output.length>0&&(Te(Ne(e.output)),e.output=[])}}},as=(e,t)=>{De.fill(0,e,e+t)},kt=(e,t)=>Math.ceil(e/t)*t,Tt=e=>{e=kt(e,65536);var t=Ot(65536,e);return t&&as(t,e),t},ne={ops_table:null,mount(e){return ne.createNode(null,"/",16895,0)},createNode(e,t,s,i){if(l.isBlkdev(s)||l.isFIFO(s))throw new l.ErrnoError(63);ne.ops_table||={dir:{node:{getattr:ne.node_ops.getattr,setattr:ne.node_ops.setattr,lookup:ne.node_ops.lookup,mknod:ne.node_ops.mknod,rename:ne.node_ops.rename,unlink:ne.node_ops.unlink,rmdir:ne.node_ops.rmdir,readdir:ne.node_ops.readdir,symlink:ne.node_ops.symlink},stream:{llseek:ne.stream_ops.llseek}},file:{node:{getattr:ne.node_ops.getattr,setattr:ne.node_ops.setattr},stream:{llseek:ne.stream_ops.llseek,read:ne.stream_ops.read,write:ne.stream_ops.write,allocate:ne.stream_ops.allocate,mmap:ne.stream_ops.mmap,msync:ne.stream_ops.msync}},link:{node:{getattr:ne.node_ops.getattr,setattr:ne.node_ops.setattr,readlink:ne.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ne.node_ops.getattr,setattr:ne.node_ops.setattr},stream:l.chrdev_stream_ops}};var r=l.createNode(e,t,s,i);return l.isDir(r.mode)?(r.node_ops=ne.ops_table.dir.node,r.stream_ops=ne.ops_table.dir.stream,r.contents={}):l.isFile(r.mode)?(r.node_ops=ne.ops_table.file.node,r.stream_ops=ne.ops_table.file.stream,r.usedBytes=0,r.contents=null):l.isLink(r.mode)?(r.node_ops=ne.ops_table.link.node,r.stream_ops=ne.ops_table.link.stream):l.isChrdev(r.mode)&&(r.node_ops=ne.ops_table.chrdev.node,r.stream_ops=ne.ops_table.chrdev.stream),r.timestamp=Date.now(),e&&(e.contents[t]=r,e.timestamp=r.timestamp),r},getFileDataAsTypedArray(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage(e,t){var s=e.contents?e.contents.length:0;if(!(s>=t)){var i=1024*1024;t=Math.max(t,s*(s<i?2:1.125)>>>0),s!=0&&(t=Math.max(t,256));var r=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0)}},resizeFileStorage(e,t){if(e.usedBytes!=t)if(t==0)e.contents=null,e.usedBytes=0;else{var s=e.contents;e.contents=new Uint8Array(t),s&&e.contents.set(s.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr(e){var t={};return t.dev=l.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,l.isDir(e.mode)?t.size=4096:l.isFile(e.mode)?t.size=e.usedBytes:l.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr(e,t){t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&ne.resizeFileStorage(e,t.size)},lookup(e,t){throw l.genericErrors[44]},mknod(e,t,s,i){return ne.createNode(e,t,s,i)},rename(e,t,s){if(l.isDir(e.mode)){var i;try{i=l.lookupNode(t,s)}catch{}if(i)for(var r in i.contents)throw new l.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=s,t.contents[s]=e,t.timestamp=e.parent.timestamp},unlink(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir(e,t){var s=l.lookupNode(e,t);for(var i in s.contents)throw new l.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir(e){var t=[".",".."];for(var s of Object.keys(e.contents))t.push(s);return t},symlink(e,t,s){var i=ne.createNode(e,t,41471,0);return i.link=s,i},readlink(e){if(!l.isLink(e.mode))throw new l.ErrnoError(28);return e.link}},stream_ops:{read(e,t,s,i,r){var n=e.node.contents;if(r>=e.node.usedBytes)return 0;var p=Math.min(e.node.usedBytes-r,i);if(p>8&&n.subarray)t.set(n.subarray(r,r+p),s);else for(var h=0;h<p;h++)t[s+h]=n[r+h];return p},write(e,t,s,i,r,n){if(t.buffer===he.buffer&&(n=!1),!i)return 0;var p=e.node;if(p.timestamp=Date.now(),t.subarray&&(!p.contents||p.contents.subarray)){if(n)return p.contents=t.subarray(s,s+i),p.usedBytes=i,i;if(p.usedBytes===0&&r===0)return p.contents=t.slice(s,s+i),p.usedBytes=i,i;if(r+i<=p.usedBytes)return p.contents.set(t.subarray(s,s+i),r),i}if(ne.expandFileStorage(p,r+i),p.contents.subarray&&t.subarray)p.contents.set(t.subarray(s,s+i),r);else for(var h=0;h<i;h++)p.contents[r+h]=t[s+h];return p.usedBytes=Math.max(p.usedBytes,r+i),i},llseek(e,t,s){var i=t;if(s===1?i+=e.position:s===2&&l.isFile(e.node.mode)&&(i+=e.node.usedBytes),i<0)throw new l.ErrnoError(28);return i},allocate(e,t,s){ne.expandFileStorage(e.node,t+s),e.node.usedBytes=Math.max(e.node.usedBytes,t+s)},mmap(e,t,s,i,r){if(!l.isFile(e.node.mode))throw new l.ErrnoError(43);var n,p,h=e.node.contents;if(!(r&2)&&h&&h.buffer===he.buffer)p=!1,n=h.byteOffset;else{if(p=!0,n=Tt(t),!n)throw new l.ErrnoError(48);h&&((s>0||s+t<h.length)&&(h.subarray?h=h.subarray(s,s+t):h=Array.prototype.slice.call(h,s,s+t)),he.set(h,n))}return{ptr:n,allocated:p}},msync(e,t,s,i,r){return ne.stream_ops.write(e,t,0,i,s,!1),0}}},ls=(e,t,s,i)=>{var r=i?"":`al ${e}`;et(e).then(n=>{t(new Uint8Array(n)),r&&Ge(r)},n=>{if(s)s();else throw`Loading data file "${e}" failed.`}),r&&it(r)},_s=(e,t,s,i,r,n)=>{l.createDataFile(e,t,s,i,r,n)},cs=o.preloadPlugins||[],us=(e,t,s,i)=>{typeof Browser<"u"&&Browser.init();var r=!1;return cs.forEach(n=>{r||n.canHandle(t)&&(n.handle(e,t,s,i),r=!0)}),r},fs=(e,t,s,i,r,n,p,h,P,R)=>{var W=t?Ae.resolve(ce.join2(e,t)):e,z=`cp ${W}`;function G(A){function I(T){R?.(),h||_s(e,t,T,i,r,P),n?.(),Ge(z)}us(A,W,I,()=>{p?.(),Ge(z)})||I(A)}it(z),typeof s=="string"?ls(s,G,p):G(s)},ds=e=>{var t={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},s=t[e];if(typeof s>"u")throw new Error(`Unknown file open mode: ${e}`);return s},ct=(e,t)=>{var s=0;return e&&(s|=365),t&&(s|=146),s},l={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(e){this.name="ErrnoError",this.errno=e}},genericErrors:{},filesystems:null,syncFSRequests:0,readFiles:{},FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(e){this.node=e}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(e){this.shared.flags=e}get position(){return this.shared.position}set position(e){this.shared.position=e}},FSNode:class{constructor(e,t,s,i){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=l.nextInode++,this.name=t,this.mode=s,this.node_ops={},this.stream_ops={},this.rdev=i,this.readMode=365,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(e){e?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(e){e?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return l.isDir(this.mode)}get isDevice(){return l.isChrdev(this.mode)}},lookupPath(e,t={}){if(e=Ae.resolve(e),!e)return{path:"",node:null};var s={follow_mount:!0,recurse_count:0};if(t=Object.assign(s,t),t.recurse_count>8)throw new l.ErrnoError(32);for(var i=e.split("/").filter(z=>!!z),r=l.root,n="/",p=0;p<i.length;p++){var h=p===i.length-1;if(h&&t.parent)break;if(r=l.lookupNode(r,i[p]),n=ce.join2(n,i[p]),l.isMountpoint(r)&&(!h||h&&t.follow_mount)&&(r=r.mounted.root),!h||t.follow)for(var P=0;l.isLink(r.mode);){var R=l.readlink(n);n=Ae.resolve(ce.dirname(n),R);var W=l.lookupPath(n,{recurse_count:t.recurse_count+1});if(r=W.node,P++>40)throw new l.ErrnoError(32)}}return{path:n,node:r}},getPath(e){for(var t;;){if(l.isRoot(e)){var s=e.mount.mountpoint;return t?s[s.length-1]!=="/"?`${s}/${t}`:s+t:s}t=t?`${e.name}/${t}`:e.name,e=e.parent}},hashName(e,t){for(var s=0,i=0;i<t.length;i++)s=(s<<5)-s+t.charCodeAt(i)|0;return(e+s>>>0)%l.nameTable.length},hashAddNode(e){var t=l.hashName(e.parent.id,e.name);e.name_next=l.nameTable[t],l.nameTable[t]=e},hashRemoveNode(e){var t=l.hashName(e.parent.id,e.name);if(l.nameTable[t]===e)l.nameTable[t]=e.name_next;else for(var s=l.nameTable[t];s;){if(s.name_next===e){s.name_next=e.name_next;break}s=s.name_next}},lookupNode(e,t){var s=l.mayLookup(e);if(s)throw new l.ErrnoError(s);for(var i=l.hashName(e.id,t),r=l.nameTable[i];r;r=r.name_next){var n=r.name;if(r.parent.id===e.id&&n===t)return r}return l.lookup(e,t)},createNode(e,t,s,i){var r=new l.FSNode(e,t,s,i);return l.hashAddNode(r),r},destroyNode(e){l.hashRemoveNode(e)},isRoot(e){return e===e.parent},isMountpoint(e){return!!e.mounted},isFile(e){return(e&61440)===32768},isDir(e){return(e&61440)===16384},isLink(e){return(e&61440)===40960},isChrdev(e){return(e&61440)===8192},isBlkdev(e){return(e&61440)===24576},isFIFO(e){return(e&61440)===4096},isSocket(e){return(e&49152)===49152},flagsToPermissionString(e){var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t},nodePermissions(e,t){return l.ignorePermissions?0:t.includes("r")&&!(e.mode&292)||t.includes("w")&&!(e.mode&146)||t.includes("x")&&!(e.mode&73)?2:0},mayLookup(e){if(!l.isDir(e.mode))return 54;var t=l.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate(e,t){try{var s=l.lookupNode(e,t);return 20}catch{}return l.nodePermissions(e,"wx")},mayDelete(e,t,s){var i;try{i=l.lookupNode(e,t)}catch(n){return n.errno}var r=l.nodePermissions(e,"wx");if(r)return r;if(s){if(!l.isDir(i.mode))return 54;if(l.isRoot(i)||l.getPath(i)===l.cwd())return 10}else if(l.isDir(i.mode))return 31;return 0},mayOpen(e,t){return e?l.isLink(e.mode)?32:l.isDir(e.mode)&&(l.flagsToPermissionString(t)!=="r"||t&512)?31:l.nodePermissions(e,l.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd(){for(var e=0;e<=l.MAX_OPEN_FDS;e++)if(!l.streams[e])return e;throw new l.ErrnoError(33)},getStreamChecked(e){var t=l.getStream(e);if(!t)throw new l.ErrnoError(8);return t},getStream:e=>l.streams[e],createStream(e,t=-1){return e=Object.assign(new l.FSStream,e),t==-1&&(t=l.nextfd()),e.fd=t,l.streams[t]=e,e},closeStream(e){l.streams[e]=null},dupStream(e,t=-1){var s=l.createStream(e,t);return s.stream_ops?.dup?.(s),s},chrdev_stream_ops:{open(e){var t=l.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open?.(e)},llseek(){throw new l.ErrnoError(70)}},major:e=>e>>8,minor:e=>e&255,makedev:(e,t)=>e<<8|t,registerDevice(e,t){l.devices[e]={stream_ops:t}},getDevice:e=>l.devices[e],getMounts(e){for(var t=[],s=[e];s.length;){var i=s.pop();t.push(i),s.push(...i.mounts)}return t},syncfs(e,t){typeof e=="function"&&(t=e,e=!1),l.syncFSRequests++,l.syncFSRequests>1&&Te(`warning: ${l.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var s=l.getMounts(l.root.mount),i=0;function r(p){return l.syncFSRequests--,t(p)}function n(p){if(p)return n.errored?void 0:(n.errored=!0,r(p));++i>=s.length&&r(null)}s.forEach(p=>{if(!p.type.syncfs)return n(null);p.type.syncfs(p,e,n)})},mount(e,t,s){var i=s==="/",r=!s,n;if(i&&l.root)throw new l.ErrnoError(10);if(!i&&!r){var p=l.lookupPath(s,{follow_mount:!1});if(s=p.path,n=p.node,l.isMountpoint(n))throw new l.ErrnoError(10);if(!l.isDir(n.mode))throw new l.ErrnoError(54)}var h={type:e,opts:t,mountpoint:s,mounts:[]},P=e.mount(h);return P.mount=h,h.root=P,i?l.root=P:n&&(n.mounted=h,n.mount&&n.mount.mounts.push(h)),P},unmount(e){var t=l.lookupPath(e,{follow_mount:!1});if(!l.isMountpoint(t.node))throw new l.ErrnoError(28);var s=t.node,i=s.mounted,r=l.getMounts(i);Object.keys(l.nameTable).forEach(p=>{for(var h=l.nameTable[p];h;){var P=h.name_next;r.includes(h.mount)&&l.destroyNode(h),h=P}}),s.mounted=null;var n=s.mount.mounts.indexOf(i);s.mount.mounts.splice(n,1)},lookup(e,t){return e.node_ops.lookup(e,t)},mknod(e,t,s){var i=l.lookupPath(e,{parent:!0}),r=i.node,n=ce.basename(e);if(!n||n==="."||n==="..")throw new l.ErrnoError(28);var p=l.mayCreate(r,n);if(p)throw new l.ErrnoError(p);if(!r.node_ops.mknod)throw new l.ErrnoError(63);return r.node_ops.mknod(r,n,t,s)},create(e,t){return t=t!==void 0?t:438,t&=4095,t|=32768,l.mknod(e,t,0)},mkdir(e,t){return t=t!==void 0?t:511,t&=1023,t|=16384,l.mknod(e,t,0)},mkdirTree(e,t){for(var s=e.split("/"),i="",r=0;r<s.length;++r)if(s[r]){i+="/"+s[r];try{l.mkdir(i,t)}catch(n){if(n.errno!=20)throw n}}},mkdev(e,t,s){return typeof s>"u"&&(s=t,t=438),t|=8192,l.mknod(e,t,s)},symlink(e,t){if(!Ae.resolve(e))throw new l.ErrnoError(44);var s=l.lookupPath(t,{parent:!0}),i=s.node;if(!i)throw new l.ErrnoError(44);var r=ce.basename(t),n=l.mayCreate(i,r);if(n)throw new l.ErrnoError(n);if(!i.node_ops.symlink)throw new l.ErrnoError(63);return i.node_ops.symlink(i,r,e)},rename(e,t){var s=ce.dirname(e),i=ce.dirname(t),r=ce.basename(e),n=ce.basename(t),p,h,P;if(p=l.lookupPath(e,{parent:!0}),h=p.node,p=l.lookupPath(t,{parent:!0}),P=p.node,!h||!P)throw new l.ErrnoError(44);if(h.mount!==P.mount)throw new l.ErrnoError(75);var R=l.lookupNode(h,r),W=Ae.relative(e,i);if(W.charAt(0)!==".")throw new l.ErrnoError(28);if(W=Ae.relative(t,s),W.charAt(0)!==".")throw new l.ErrnoError(55);var z;try{z=l.lookupNode(P,n)}catch{}if(R!==z){var G=l.isDir(R.mode),A=l.mayDelete(h,r,G);if(A)throw new l.ErrnoError(A);if(A=z?l.mayDelete(P,n,G):l.mayCreate(P,n),A)throw new l.ErrnoError(A);if(!h.node_ops.rename)throw new l.ErrnoError(63);if(l.isMountpoint(R)||z&&l.isMountpoint(z))throw new l.ErrnoError(10);if(P!==h&&(A=l.nodePermissions(h,"w"),A))throw new l.ErrnoError(A);l.hashRemoveNode(R);try{h.node_ops.rename(R,P,n),R.parent=P}catch(I){throw I}finally{l.hashAddNode(R)}}},rmdir(e){var t=l.lookupPath(e,{parent:!0}),s=t.node,i=ce.basename(e),r=l.lookupNode(s,i),n=l.mayDelete(s,i,!0);if(n)throw new l.ErrnoError(n);if(!s.node_ops.rmdir)throw new l.ErrnoError(63);if(l.isMountpoint(r))throw new l.ErrnoError(10);s.node_ops.rmdir(s,i),l.destroyNode(r)},readdir(e){var t=l.lookupPath(e,{follow:!0}),s=t.node;if(!s.node_ops.readdir)throw new l.ErrnoError(54);return s.node_ops.readdir(s)},unlink(e){var t=l.lookupPath(e,{parent:!0}),s=t.node;if(!s)throw new l.ErrnoError(44);var i=ce.basename(e),r=l.lookupNode(s,i),n=l.mayDelete(s,i,!1);if(n)throw new l.ErrnoError(n);if(!s.node_ops.unlink)throw new l.ErrnoError(63);if(l.isMountpoint(r))throw new l.ErrnoError(10);s.node_ops.unlink(s,i),l.destroyNode(r)},readlink(e){var t=l.lookupPath(e),s=t.node;if(!s)throw new l.ErrnoError(44);if(!s.node_ops.readlink)throw new l.ErrnoError(28);return Ae.resolve(l.getPath(s.parent),s.node_ops.readlink(s))},stat(e,t){var s=l.lookupPath(e,{follow:!t}),i=s.node;if(!i)throw new l.ErrnoError(44);if(!i.node_ops.getattr)throw new l.ErrnoError(63);return i.node_ops.getattr(i)},lstat(e){return l.stat(e,!0)},chmod(e,t,s){var i;if(typeof e=="string"){var r=l.lookupPath(e,{follow:!s});i=r.node}else i=e;if(!i.node_ops.setattr)throw new l.ErrnoError(63);i.node_ops.setattr(i,{mode:t&4095|i.mode&-4096,timestamp:Date.now()})},lchmod(e,t){l.chmod(e,t,!0)},fchmod(e,t){var s=l.getStreamChecked(e);l.chmod(s.node,t)},chown(e,t,s,i){var r;if(typeof e=="string"){var n=l.lookupPath(e,{follow:!i});r=n.node}else r=e;if(!r.node_ops.setattr)throw new l.ErrnoError(63);r.node_ops.setattr(r,{timestamp:Date.now()})},lchown(e,t,s){l.chown(e,t,s,!0)},fchown(e,t,s){var i=l.getStreamChecked(e);l.chown(i.node,t,s)},truncate(e,t){if(t<0)throw new l.ErrnoError(28);var s;if(typeof e=="string"){var i=l.lookupPath(e,{follow:!0});s=i.node}else s=e;if(!s.node_ops.setattr)throw new l.ErrnoError(63);if(l.isDir(s.mode))throw new l.ErrnoError(31);if(!l.isFile(s.mode))throw new l.ErrnoError(28);var r=l.nodePermissions(s,"w");if(r)throw new l.ErrnoError(r);s.node_ops.setattr(s,{size:t,timestamp:Date.now()})},ftruncate(e,t){var s=l.getStreamChecked(e);if((s.flags&2097155)===0)throw new l.ErrnoError(28);l.truncate(s.node,t)},utime(e,t,s){var i=l.lookupPath(e,{follow:!0}),r=i.node;r.node_ops.setattr(r,{timestamp:Math.max(t,s)})},open(e,t,s){if(e==="")throw new l.ErrnoError(44);t=typeof t=="string"?ds(t):t,t&64?(s=typeof s>"u"?438:s,s=s&4095|32768):s=0;var i;if(typeof e=="object")i=e;else{e=ce.normalize(e);try{var r=l.lookupPath(e,{follow:!(t&131072)});i=r.node}catch{}}var n=!1;if(t&64)if(i){if(t&128)throw new l.ErrnoError(20)}else i=l.mknod(e,s,0),n=!0;if(!i)throw new l.ErrnoError(44);if(l.isChrdev(i.mode)&&(t&=-513),t&65536&&!l.isDir(i.mode))throw new l.ErrnoError(54);if(!n){var p=l.mayOpen(i,t);if(p)throw new l.ErrnoError(p)}t&512&&!n&&l.truncate(i,0),t&=-131713;var h=l.createStream({node:i,path:l.getPath(i),flags:t,seekable:!0,position:0,stream_ops:i.stream_ops,ungotten:[],error:!1});return h.stream_ops.open&&h.stream_ops.open(h),o.logReadFiles&&!(t&1)&&(e in l.readFiles||(l.readFiles[e]=1)),h},close(e){if(l.isClosed(e))throw new l.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(t){throw t}finally{l.closeStream(e.fd)}e.fd=null},isClosed(e){return e.fd===null},llseek(e,t,s){if(l.isClosed(e))throw new l.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new l.ErrnoError(70);if(s!=0&&s!=1&&s!=2)throw new l.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,s),e.ungotten=[],e.position},read(e,t,s,i,r){if(i<0||r<0)throw new l.ErrnoError(28);if(l.isClosed(e))throw new l.ErrnoError(8);if((e.flags&2097155)===1)throw new l.ErrnoError(8);if(l.isDir(e.node.mode))throw new l.ErrnoError(31);if(!e.stream_ops.read)throw new l.ErrnoError(28);var n=typeof r<"u";if(!n)r=e.position;else if(!e.seekable)throw new l.ErrnoError(70);var p=e.stream_ops.read(e,t,s,i,r);return n||(e.position+=p),p},write(e,t,s,i,r,n){if(i<0||r<0)throw new l.ErrnoError(28);if(l.isClosed(e))throw new l.ErrnoError(8);if((e.flags&2097155)===0)throw new l.ErrnoError(8);if(l.isDir(e.node.mode))throw new l.ErrnoError(31);if(!e.stream_ops.write)throw new l.ErrnoError(28);e.seekable&&e.flags&1024&&l.llseek(e,0,2);var p=typeof r<"u";if(!p)r=e.position;else if(!e.seekable)throw new l.ErrnoError(70);var h=e.stream_ops.write(e,t,s,i,r,n);return p||(e.position+=h),h},allocate(e,t,s){if(l.isClosed(e))throw new l.ErrnoError(8);if(t<0||s<=0)throw new l.ErrnoError(28);if((e.flags&2097155)===0)throw new l.ErrnoError(8);if(!l.isFile(e.node.mode)&&!l.isDir(e.node.mode))throw new l.ErrnoError(43);if(!e.stream_ops.allocate)throw new l.ErrnoError(138);e.stream_ops.allocate(e,t,s)},mmap(e,t,s,i,r){if((i&2)!==0&&(r&2)===0&&(e.flags&2097155)!==2)throw new l.ErrnoError(2);if((e.flags&2097155)===1)throw new l.ErrnoError(2);if(!e.stream_ops.mmap)throw new l.ErrnoError(43);if(!t)throw new l.ErrnoError(28);return e.stream_ops.mmap(e,t,s,i,r)},msync(e,t,s,i,r){return e.stream_ops.msync?e.stream_ops.msync(e,t,s,i,r):0},ioctl(e,t,s){if(!e.stream_ops.ioctl)throw new l.ErrnoError(59);return e.stream_ops.ioctl(e,t,s)},readFile(e,t={}){if(t.flags=t.flags||0,t.encoding=t.encoding||"binary",t.encoding!=="utf8"&&t.encoding!=="binary")throw new Error(`Invalid encoding type "${t.encoding}"`);var s,i=l.open(e,t.flags),r=l.stat(e),n=r.size,p=new Uint8Array(n);return l.read(i,p,0,n,0),t.encoding==="utf8"?s=Ne(p):t.encoding==="binary"&&(s=p),l.close(i),s},writeFile(e,t,s={}){s.flags=s.flags||577;var i=l.open(e,s.flags,s.mode);if(typeof t=="string"){var r=new Uint8Array($e(t)+1),n=_t(t,r,0,r.length);l.write(i,r,0,n,void 0,s.canOwn)}else if(ArrayBuffer.isView(t))l.write(i,t,0,t.byteLength,void 0,s.canOwn);else throw new Error("Unsupported data type");l.close(i)},cwd:()=>l.currentPath,chdir(e){var t=l.lookupPath(e,{follow:!0});if(t.node===null)throw new l.ErrnoError(44);if(!l.isDir(t.node.mode))throw new l.ErrnoError(54);var s=l.nodePermissions(t.node,"x");if(s)throw new l.ErrnoError(s);l.currentPath=t.path},createDefaultDirectories(){l.mkdir("/tmp"),l.mkdir("/home"),l.mkdir("/home/web_user")},createDefaultDevices(){l.mkdir("/dev"),l.registerDevice(l.makedev(1,3),{read:()=>0,write:(i,r,n,p,h)=>p}),l.mkdev("/dev/null",l.makedev(1,3)),Fe.register(l.makedev(5,0),Fe.default_tty_ops),Fe.register(l.makedev(6,0),Fe.default_tty1_ops),l.mkdev("/dev/tty",l.makedev(5,0)),l.mkdev("/dev/tty1",l.makedev(6,0));var e=new Uint8Array(1024),t=0,s=()=>(t===0&&(t=St(e).byteLength),e[--t]);l.createDevice("/dev","random",s),l.createDevice("/dev","urandom",s),l.mkdir("/dev/shm"),l.mkdir("/dev/shm/tmp")},createSpecialDirectories(){l.mkdir("/proc");var e=l.mkdir("/proc/self");l.mkdir("/proc/self/fd"),l.mount({mount(){var t=l.createNode(e,"fd",16895,73);return t.node_ops={lookup(s,i){var r=+i,n=l.getStreamChecked(r),p={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>n.path}};return p.parent=p,p}},t}},{},"/proc/self/fd")},createStandardStreams(e,t,s){e?l.createDevice("/dev","stdin",e):l.symlink("/dev/tty","/dev/stdin"),t?l.createDevice("/dev","stdout",null,t):l.symlink("/dev/tty","/dev/stdout"),s?l.createDevice("/dev","stderr",null,s):l.symlink("/dev/tty1","/dev/stderr");var i=l.open("/dev/stdin",0),r=l.open("/dev/stdout",1),n=l.open("/dev/stderr",1)},staticInit(){[44].forEach(e=>{l.genericErrors[e]=new l.ErrnoError(e),l.genericErrors[e].stack="<generic error, no stack>"}),l.nameTable=new Array(4096),l.mount(ne,{},"/"),l.createDefaultDirectories(),l.createDefaultDevices(),l.createSpecialDirectories(),l.filesystems={MEMFS:ne}},init(e,t,s){l.initialized=!0,e??=o.stdin,t??=o.stdout,s??=o.stderr,l.createStandardStreams(e,t,s)},quit(){l.initialized=!1;for(var e=0;e<l.streams.length;e++){var t=l.streams[e];t&&l.close(t)}},findObject(e,t){var s=l.analyzePath(e,t);return s.exists?s.object:null},analyzePath(e,t){try{var s=l.lookupPath(e,{follow:!t});e=s.path}catch{}var i={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var s=l.lookupPath(e,{parent:!0});i.parentExists=!0,i.parentPath=s.path,i.parentObject=s.node,i.name=ce.basename(e),s=l.lookupPath(e,{follow:!t}),i.exists=!0,i.path=s.path,i.object=s.node,i.name=s.node.name,i.isRoot=s.path==="/"}catch(r){i.error=r.errno}return i},createPath(e,t,s,i){e=typeof e=="string"?e:l.getPath(e);for(var r=t.split("/").reverse();r.length;){var n=r.pop();if(n){var p=ce.join2(e,n);try{l.mkdir(p)}catch{}e=p}}return p},createFile(e,t,s,i,r){var n=ce.join2(typeof e=="string"?e:l.getPath(e),t),p=ct(i,r);return l.create(n,p)},createDataFile(e,t,s,i,r,n){var p=t;e&&(e=typeof e=="string"?e:l.getPath(e),p=t?ce.join2(e,t):e);var h=ct(i,r),P=l.create(p,h);if(s){if(typeof s=="string"){for(var R=new Array(s.length),W=0,z=s.length;W<z;++W)R[W]=s.charCodeAt(W);s=R}l.chmod(P,h|146);var G=l.open(P,577);l.write(G,s,0,s.length,0,n),l.close(G),l.chmod(P,h)}},createDevice(e,t,s,i){var r=ce.join2(typeof e=="string"?e:l.getPath(e),t),n=ct(!!s,!!i);l.createDevice.major??=64;var p=l.makedev(l.createDevice.major++,0);return l.registerDevice(p,{open(h){h.seekable=!1},close(h){i?.buffer?.length&&i(10)},read(h,P,R,W,z){for(var G=0,A=0;A<W;A++){var I;try{I=s()}catch{throw new l.ErrnoError(29)}if(I===void 0&&G===0)throw new l.ErrnoError(6);if(I==null)break;G++,P[R+A]=I}return G&&(h.node.timestamp=Date.now()),G},write(h,P,R,W,z){for(var G=0;G<W;G++)try{i(P[R+G])}catch{throw new l.ErrnoError(29)}return W&&(h.node.timestamp=Date.now()),G}}),l.mkdev(r,n,p)},forceLoadFile(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{e.contents=He(e.url),e.usedBytes=e.contents.length}catch{throw new l.ErrnoError(29)}},createLazyFile(e,t,s,i,r){class n{constructor(){this.lengthKnown=!1,this.chunks=[]}get(A){if(!(A>this.length-1||A<0)){var I=A%this.chunkSize,T=A/this.chunkSize|0;return this.getter(T)[I]}}setDataGetter(A){this.getter=A}cacheLength(){var A=new XMLHttpRequest;if(A.open("HEAD",s,!1),A.send(null),!(A.status>=200&&A.status<300||A.status===304))throw new Error("Couldn't load "+s+". Status: "+A.status);var I=Number(A.getResponseHeader("Content-length")),T,E=(T=A.getResponseHeader("Accept-Ranges"))&&T==="bytes",b=(T=A.getResponseHeader("Content-Encoding"))&&T==="gzip",F=1024*1024;E||(F=I);var N=(y,j)=>{if(y>j)throw new Error("invalid range ("+y+", "+j+") or no bytes requested!");if(j>I-1)throw new Error("only "+I+" bytes available! programmer error!");var u=new XMLHttpRequest;if(u.open("GET",s,!1),I!==F&&u.setRequestHeader("Range","bytes="+y+"-"+j),u.responseType="arraybuffer",u.overrideMimeType&&u.overrideMimeType("text/plain; charset=x-user-defined"),u.send(null),!(u.status>=200&&u.status<300||u.status===304))throw new Error("Couldn't load "+s+". Status: "+u.status);return u.response!==void 0?new Uint8Array(u.response||[]):It(u.responseText||"",!0)},M=this;M.setDataGetter(y=>{var j=y*F,u=(y+1)*F-1;if(u=Math.min(u,I-1),typeof M.chunks[y]>"u"&&(M.chunks[y]=N(j,u)),typeof M.chunks[y]>"u")throw new Error("doXHR failed!");return M.chunks[y]}),(b||!I)&&(F=I=1,I=this.getter(0).length,F=I,tt("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=I,this._chunkSize=F,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!ze)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var p=new n,h={isDevice:!1,contents:p}}else var h={isDevice:!1,url:s};var P=l.createFile(e,t,h,i,r);h.contents?P.contents=h.contents:h.url&&(P.contents=null,P.url=h.url),Object.defineProperties(P,{usedBytes:{get:function(){return this.contents.length}}});var R={},W=Object.keys(P.stream_ops);W.forEach(G=>{var A=P.stream_ops[G];R[G]=(...I)=>(l.forceLoadFile(P),A(...I))});function z(G,A,I,T,E){var b=G.node.contents;if(E>=b.length)return 0;var F=Math.min(b.length-E,T);if(b.slice)for(var N=0;N<F;N++)A[I+N]=b[E+N];else for(var N=0;N<F;N++)A[I+N]=b.get(E+N);return F}return R.read=(G,A,I,T,E)=>(l.forceLoadFile(P),z(G,A,I,T,E)),R.mmap=(G,A,I,T,E)=>{l.forceLoadFile(P);var b=Tt(A);if(!b)throw new l.ErrnoError(48);return z(G,he,b,A,I),{ptr:b,allocated:!0}},P.stream_ops=R,P}},ps=(e,t)=>e?Ne(De,e,t):"",ie={DEFAULT_POLLMASK:5,calculateAt(e,t,s){if(ce.isAbs(t))return t;var i;if(e===-100)i=l.cwd();else{var r=ie.getStreamFromFD(e);i=r.path}if(t.length==0){if(!s)throw new l.ErrnoError(44);return i}return ce.join2(i,t)},doStat(e,t,s){var i=e(t);le[s>>2]=i.dev,le[s+4>>2]=i.mode,pe[s+8>>2]=i.nlink,le[s+12>>2]=i.uid,le[s+16>>2]=i.gid,le[s+20>>2]=i.rdev,ve[s+24>>3]=BigInt(i.size),le[s+32>>2]=4096,le[s+36>>2]=i.blocks;var r=i.atime.getTime(),n=i.mtime.getTime(),p=i.ctime.getTime();return ve[s+40>>3]=BigInt(Math.floor(r/1e3)),pe[s+48>>2]=r%1e3*1e3*1e3,ve[s+56>>3]=BigInt(Math.floor(n/1e3)),pe[s+64>>2]=n%1e3*1e3*1e3,ve[s+72>>3]=BigInt(Math.floor(p/1e3)),pe[s+80>>2]=p%1e3*1e3*1e3,ve[s+88>>3]=BigInt(i.ino),0},doMsync(e,t,s,i,r){if(!l.isFile(t.node.mode))throw new l.ErrnoError(43);if(i&2)return 0;var n=De.slice(e,e+s);l.msync(t,n,r,s,i)},getStreamFromFD(e){var t=l.getStreamChecked(e);return t},varargs:void 0,getStr(e){var t=ps(e);return t}};function ms(e,t){try{return e=ie.getStr(e),l.chmod(e,t),0}catch(s){if(typeof l>"u"||s.name!=="ErrnoError")throw s;return-s.errno}}function hs(e,t,s,i){try{if(t=ie.getStr(t),t=ie.calculateAt(e,t),s&-8)return-28;var r=l.lookupPath(t,{follow:!0}),n=r.node;if(!n)return-44;var p="";return s&4&&(p+="r"),s&2&&(p+="w"),s&1&&(p+="x"),p&&l.nodePermissions(n,p)?-2:0}catch(h){if(typeof l>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}function qs(e,t){try{return l.fchmod(e,t),0}catch(s){if(typeof l>"u"||s.name!=="ErrnoError")throw s;return-s.errno}}function gs(e,t,s){try{return l.fchown(e,t,s),0}catch(i){if(typeof l>"u"||i.name!=="ErrnoError")throw i;return-i.errno}}function Ke(){var e=le[+ie.varargs>>2];return ie.varargs+=4,e}var Me=Ke;function bs(e,t,s){ie.varargs=s;try{var i=ie.getStreamFromFD(e);switch(t){case 0:{var r=Ke();if(r<0)return-28;for(;l.streams[r];)r++;var n;return n=l.dupStream(i,r),n.fd}case 1:case 2:return 0;case 3:return i.flags;case 4:{var r=Ke();return i.flags|=r,0}case 12:{var r=Me(),p=0;return Oe[r+p>>1]=2,0}case 13:case 14:return 0}return-28}catch(h){if(typeof l>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}function ys(e,t){try{var s=ie.getStreamFromFD(e);return ie.doStat(l.stat,s.path,t)}catch(i){if(typeof l>"u"||i.name!=="ErrnoError")throw i;return-i.errno}}var vs=9007199254740992,ws=-9007199254740992,We=e=>e<ws||e>vs?NaN:Number(e);function Es(e,t){t=We(t);try{return isNaN(t)?61:(l.ftruncate(e,t),0)}catch(s){if(typeof l>"u"||s.name!=="ErrnoError")throw s;return-s.errno}}var je=(e,t,s)=>_t(e,De,t,s);function xs(e,t){try{if(t===0)return-28;var s=l.cwd(),i=$e(s)+1;return t<i?-68:(je(s,e,t),i)}catch(r){if(typeof l>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}function Ss(e,t,s){ie.varargs=s;try{var i=ie.getStreamFromFD(e);switch(t){case 21509:return i.tty?0:-59;case 21505:{if(!i.tty)return-59;if(i.tty.ops.ioctl_tcgets){var r=i.tty.ops.ioctl_tcgets(i),n=Me();le[n>>2]=r.c_iflag||0,le[n+4>>2]=r.c_oflag||0,le[n+8>>2]=r.c_cflag||0,le[n+12>>2]=r.c_lflag||0;for(var p=0;p<32;p++)he[n+p+17]=r.c_cc[p]||0;return 0}return 0}case 21510:case 21511:case 21512:return i.tty?0:-59;case 21506:case 21507:case 21508:{if(!i.tty)return-59;if(i.tty.ops.ioctl_tcsets){for(var n=Me(),h=le[n>>2],P=le[n+4>>2],R=le[n+8>>2],W=le[n+12>>2],z=[],p=0;p<32;p++)z.push(he[n+p+17]);return i.tty.ops.ioctl_tcsets(i.tty,t,{c_iflag:h,c_oflag:P,c_cflag:R,c_lflag:W,c_cc:z})}return 0}case 21519:{if(!i.tty)return-59;var n=Me();return le[n>>2]=0,0}case 21520:return i.tty?-28:-59;case 21531:{var n=Me();return l.ioctl(i,t,n)}case 21523:{if(!i.tty)return-59;if(i.tty.ops.ioctl_tiocgwinsz){var G=i.tty.ops.ioctl_tiocgwinsz(i.tty),n=Me();Oe[n>>1]=G[0],Oe[n+2>>1]=G[1]}return 0}case 21524:return i.tty?0:-59;case 21515:return i.tty?0:-59;default:return-28}}catch(A){if(typeof l>"u"||A.name!=="ErrnoError")throw A;return-A.errno}}function As(e,t){try{return e=ie.getStr(e),ie.doStat(l.lstat,e,t)}catch(s){if(typeof l>"u"||s.name!=="ErrnoError")throw s;return-s.errno}}function Is(e,t,s){try{return t=ie.getStr(t),t=ie.calculateAt(e,t),t=ce.normalize(t),t[t.length-1]==="/"&&(t=t.substr(0,t.length-1)),l.mkdir(t,s,0),0}catch(i){if(typeof l>"u"||i.name!=="ErrnoError")throw i;return-i.errno}}function ks(e,t,s,i){try{t=ie.getStr(t);var r=i&256,n=i&4096;return i=i&-6401,t=ie.calculateAt(e,t,n),ie.doStat(r?l.lstat:l.stat,t,s)}catch(p){if(typeof l>"u"||p.name!=="ErrnoError")throw p;return-p.errno}}function Ts(e,t,s,i){ie.varargs=i;try{t=ie.getStr(t),t=ie.calculateAt(e,t);var r=i?Ke():0;return l.open(t,s,r).fd}catch(n){if(typeof l>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}function Fs(e,t,s,i){try{if(t=ie.getStr(t),t=ie.calculateAt(e,t),i<=0)return-28;var r=l.readlink(t),n=Math.min(i,$e(r)),p=he[s+n];return je(r,s,i+1),he[s+n]=p,n}catch(h){if(typeof l>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}function Ps(e){try{return e=ie.getStr(e),l.rmdir(e),0}catch(t){if(typeof l>"u"||t.name!=="ErrnoError")throw t;return-t.errno}}function Os(e,t){try{return e=ie.getStr(e),ie.doStat(l.stat,e,t)}catch(s){if(typeof l>"u"||s.name!=="ErrnoError")throw s;return-s.errno}}function Ls(e,t,s){try{return t=ie.getStr(t),t=ie.calculateAt(e,t),s===0?l.unlink(t):s===512?l.rmdir(t):Re("Invalid flags passed to unlinkat"),0}catch(i){if(typeof l>"u"||i.name!=="ErrnoError")throw i;return-i.errno}}var Ft=e=>pe[e>>2]+le[e+4>>2]*4294967296;function Cs(e,t,s,i){try{t=ie.getStr(t),t=ie.calculateAt(e,t,!0);var r=Date.now(),n,p;if(!s)n=r,p=r;else{var h=Ft(s),P=le[s+8>>2];P==1073741823?n=r:P==1073741822?n=-1:n=h*1e3+P/(1e3*1e3),s+=16,h=Ft(s),P=le[s+8>>2],P==1073741823?p=r:P==1073741822?p=-1:p=h*1e3+P/(1e3*1e3)}return(p!=-1||n!=-1)&&l.utime(t,n,p),0}catch(R){if(typeof l>"u"||R.name!=="ErrnoError")throw R;return-R.errno}}var Ds=1,Rs=()=>Ds,Ns=e=>e%4===0&&(e%100!==0||e%400===0),Ms=[0,31,60,91,121,152,182,213,244,274,305,335],js=[0,31,59,90,120,151,181,212,243,273,304,334],Bs=e=>{var t=Ns(e.getFullYear()),s=t?Ms:js,i=s[e.getMonth()]+e.getDate()-1;return i};function zs(e,t){e=We(e);var s=new Date(e*1e3);le[t>>2]=s.getSeconds(),le[t+4>>2]=s.getMinutes(),le[t+8>>2]=s.getHours(),le[t+12>>2]=s.getDate(),le[t+16>>2]=s.getMonth(),le[t+20>>2]=s.getFullYear()-1900,le[t+24>>2]=s.getDay();var i=Bs(s)|0;le[t+28>>2]=i,le[t+36>>2]=-(s.getTimezoneOffset()*60);var r=new Date(s.getFullYear(),0,1),n=new Date(s.getFullYear(),6,1).getTimezoneOffset(),p=r.getTimezoneOffset(),h=(n!=p&&s.getTimezoneOffset()==Math.min(p,n))|0;le[t+32>>2]=h}function Us(e,t,s,i,r,n,p){r=We(r);try{if(isNaN(r))return 61;var h=ie.getStreamFromFD(i),P=l.mmap(h,e,r,t,s),R=P.ptr;return le[n>>2]=P.allocated,pe[p>>2]=R,0}catch(W){if(typeof l>"u"||W.name!=="ErrnoError")throw W;return-W.errno}}function Ws(e,t,s,i,r,n){n=We(n);try{var p=ie.getStreamFromFD(r);s&2&&ie.doMsync(e,p,t,i,n)}catch(h){if(typeof l>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}var Qs=(e,t,s,i)=>{var r=new Date().getFullYear(),n=new Date(r,0,1),p=new Date(r,6,1),h=n.getTimezoneOffset(),P=p.getTimezoneOffset(),R=Math.max(h,P);pe[e>>2]=R*60,le[t>>2]=+(h!=P);var W=A=>{var I=A>=0?"-":"+",T=Math.abs(A),E=String(Math.floor(T/60)).padStart(2,"0"),b=String(T%60).padStart(2,"0");return`UTC${I}${E}${b}`},z=W(h),G=W(P);P<h?(je(z,s,17),je(G,i,17)):(je(z,i,17),je(G,s,17))},Hs=()=>Date.now(),Vs=()=>performance.now(),Gs=()=>2147483648,$s=e=>{var t=Pe.buffer,s=(e-t.byteLength+65535)/65536|0;try{return Pe.grow(s),gt(),1}catch{}},Ks=e=>{var t=De.length;e>>>=0;var s=Gs();if(e>s)return!1;for(var i=1;i<=4;i*=2){var r=t*(1+.2/i);r=Math.min(r,e+100663296);var n=Math.min(s,kt(Math.max(e,r),65536)),p=$s(n);if(p)return!0}return!1},ut={},Js=()=>ht||"./this.program",Qe=()=>{if(!Qe.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:Js()};for(var s in ut)ut[s]===void 0?delete t[s]:t[s]=ut[s];var i=[];for(var s in t)i.push(`${s}=${t[s]}`);Qe.strings=i}return Qe.strings},Xs=(e,t)=>{for(var s=0;s<e.length;++s)he[t++]=e.charCodeAt(s);he[t]=0},Ys=(e,t)=>{var s=0;return Qe().forEach((i,r)=>{var n=t+s;pe[e+r*4>>2]=n,Xs(i,n),s+=i.length+1}),0},Zs=(e,t)=>{var s=Qe();pe[e>>2]=s.length;var i=0;return s.forEach(r=>i+=r.length+1),pe[t>>2]=i,0};function er(e){try{var t=ie.getStreamFromFD(e);return l.close(t),0}catch(s){if(typeof l>"u"||s.name!=="ErrnoError")throw s;return s.errno}}function tr(e,t){try{var s=0,i=0,r=0,n=ie.getStreamFromFD(e),p=n.tty?2:l.isDir(n.mode)?3:l.isLink(n.mode)?7:4;return he[t]=p,Oe[t+2>>1]=r,ve[t+8>>3]=BigInt(s),ve[t+16>>3]=BigInt(i),0}catch(h){if(typeof l>"u"||h.name!=="ErrnoError")throw h;return h.errno}}var sr=(e,t,s,i)=>{for(var r=0,n=0;n<s;n++){var p=pe[t>>2],h=pe[t+4>>2];t+=8;var P=l.read(e,he,p,h,i);if(P<0)return-1;if(r+=P,P<h)break;typeof i<"u"&&(i+=P)}return r};function rr(e,t,s,i){try{var r=ie.getStreamFromFD(e),n=sr(r,t,s);return pe[i>>2]=n,0}catch(p){if(typeof l>"u"||p.name!=="ErrnoError")throw p;return p.errno}}function nr(e,t,s,i){t=We(t);try{if(isNaN(t))return 61;var r=ie.getStreamFromFD(e);return l.llseek(r,t,s),ve[i>>3]=BigInt(r.position),r.getdents&&t===0&&s===0&&(r.getdents=null),0}catch(n){if(typeof l>"u"||n.name!=="ErrnoError")throw n;return n.errno}}function ir(e){try{var t=ie.getStreamFromFD(e);return t.stream_ops?.fsync?t.stream_ops.fsync(t):0}catch(s){if(typeof l>"u"||s.name!=="ErrnoError")throw s;return s.errno}}var or=(e,t,s,i)=>{for(var r=0,n=0;n<s;n++){var p=pe[t>>2],h=pe[t+4>>2];t+=8;var P=l.write(e,he,p,h,i);if(P<0)return-1;if(r+=P,P<h)break;typeof i<"u"&&(i+=P)}return r};function ar(e,t,s,i){try{var r=ie.getStreamFromFD(e),n=or(r,t,s);return pe[i>>2]=n,0}catch(p){if(typeof l>"u"||p.name!=="ErrnoError")throw p;return p.errno}}l.createPreloadedFile=fs,l.staticInit();var Pt={__syscall_chmod:ms,__syscall_faccessat:hs,__syscall_fchmod:qs,__syscall_fchown32:gs,__syscall_fcntl64:bs,__syscall_fstat64:ys,__syscall_ftruncate64:Es,__syscall_getcwd:xs,__syscall_ioctl:Ss,__syscall_lstat64:As,__syscall_mkdirat:Is,__syscall_newfstatat:ks,__syscall_openat:Ts,__syscall_readlinkat:Fs,__syscall_rmdir:Ps,__syscall_stat64:Os,__syscall_unlinkat:Ls,__syscall_utimensat:Cs,_emscripten_get_now_is_monotonic:Rs,_localtime_js:zs,_mmap_js:Us,_munmap_js:Ws,_tzset_js:Qs,emscripten_date_now:Hs,emscripten_get_now:Vs,emscripten_resize_heap:Ks,environ_get:Ys,environ_sizes_get:Zs,fd_close:er,fd_fdstat_get:tr,fd_read:rr,fd_seek:nr,fd_sync:ir,fd_write:ar,memory:Pe},m=ns(),lr=()=>(lr=m.__wasm_call_ctors)(),_r=o._sqlite3_status64=(e,t,s,i)=>(_r=o._sqlite3_status64=m.sqlite3_status64)(e,t,s,i),cr=o._sqlite3_status=(e,t,s,i)=>(cr=o._sqlite3_status=m.sqlite3_status)(e,t,s,i),ur=o._sqlite3_db_status=(e,t,s,i,r)=>(ur=o._sqlite3_db_status=m.sqlite3_db_status)(e,t,s,i,r),fr=o._sqlite3_msize=e=>(fr=o._sqlite3_msize=m.sqlite3_msize)(e),dr=o._sqlite3_vfs_find=e=>(dr=o._sqlite3_vfs_find=m.sqlite3_vfs_find)(e),pr=o._sqlite3_initialize=()=>(pr=o._sqlite3_initialize=m.sqlite3_initialize)(),mr=o._sqlite3_malloc=e=>(mr=o._sqlite3_malloc=m.sqlite3_malloc)(e),hr=o._sqlite3_free=e=>(hr=o._sqlite3_free=m.sqlite3_free)(e),qr=o._sqlite3_vfs_register=(e,t)=>(qr=o._sqlite3_vfs_register=m.sqlite3_vfs_register)(e,t),gr=o._sqlite3_vfs_unregister=e=>(gr=o._sqlite3_vfs_unregister=m.sqlite3_vfs_unregister)(e),br=o._sqlite3_malloc64=e=>(br=o._sqlite3_malloc64=m.sqlite3_malloc64)(e),yr=o._sqlite3_realloc=(e,t)=>(yr=o._sqlite3_realloc=m.sqlite3_realloc)(e,t),vr=o._sqlite3_realloc64=(e,t)=>(vr=o._sqlite3_realloc64=m.sqlite3_realloc64)(e,t),wr=o._sqlite3_value_text=e=>(wr=o._sqlite3_value_text=m.sqlite3_value_text)(e),Er=o._sqlite3_randomness=(e,t)=>(Er=o._sqlite3_randomness=m.sqlite3_randomness)(e,t),xr=o._sqlite3_stricmp=(e,t)=>(xr=o._sqlite3_stricmp=m.sqlite3_stricmp)(e,t),Sr=o._sqlite3_strnicmp=(e,t,s)=>(Sr=o._sqlite3_strnicmp=m.sqlite3_strnicmp)(e,t,s),Ar=o._sqlite3_uri_parameter=(e,t)=>(Ar=o._sqlite3_uri_parameter=m.sqlite3_uri_parameter)(e,t),Ir=o._sqlite3_uri_boolean=(e,t,s)=>(Ir=o._sqlite3_uri_boolean=m.sqlite3_uri_boolean)(e,t,s),kr=o._sqlite3_serialize=(e,t,s,i)=>(kr=o._sqlite3_serialize=m.sqlite3_serialize)(e,t,s,i),Tr=o._sqlite3_prepare_v2=(e,t,s,i,r)=>(Tr=o._sqlite3_prepare_v2=m.sqlite3_prepare_v2)(e,t,s,i,r),Fr=o._sqlite3_step=e=>(Fr=o._sqlite3_step=m.sqlite3_step)(e),Pr=o._sqlite3_column_int64=(e,t)=>(Pr=o._sqlite3_column_int64=m.sqlite3_column_int64)(e,t),Or=o._sqlite3_reset=e=>(Or=o._sqlite3_reset=m.sqlite3_reset)(e),Lr=o._sqlite3_exec=(e,t,s,i,r)=>(Lr=o._sqlite3_exec=m.sqlite3_exec)(e,t,s,i,r),Cr=o._sqlite3_column_int=(e,t)=>(Cr=o._sqlite3_column_int=m.sqlite3_column_int)(e,t),Dr=o._sqlite3_finalize=e=>(Dr=o._sqlite3_finalize=m.sqlite3_finalize)(e),Rr=o._sqlite3_file_control=(e,t,s,i)=>(Rr=o._sqlite3_file_control=m.sqlite3_file_control)(e,t,s,i),Nr=o._sqlite3_column_name=(e,t)=>(Nr=o._sqlite3_column_name=m.sqlite3_column_name)(e,t),Mr=o._sqlite3_column_text=(e,t)=>(Mr=o._sqlite3_column_text=m.sqlite3_column_text)(e,t),jr=o._sqlite3_column_type=(e,t)=>(jr=o._sqlite3_column_type=m.sqlite3_column_type)(e,t),Br=o._sqlite3_errmsg=e=>(Br=o._sqlite3_errmsg=m.sqlite3_errmsg)(e),zr=o._sqlite3_deserialize=(e,t,s,i,r,n)=>(zr=o._sqlite3_deserialize=m.sqlite3_deserialize)(e,t,s,i,r,n),Ur=o._sqlite3_clear_bindings=e=>(Ur=o._sqlite3_clear_bindings=m.sqlite3_clear_bindings)(e),Wr=o._sqlite3_value_blob=e=>(Wr=o._sqlite3_value_blob=m.sqlite3_value_blob)(e),Qr=o._sqlite3_value_bytes=e=>(Qr=o._sqlite3_value_bytes=m.sqlite3_value_bytes)(e),Hr=o._sqlite3_value_double=e=>(Hr=o._sqlite3_value_double=m.sqlite3_value_double)(e),Vr=o._sqlite3_value_int=e=>(Vr=o._sqlite3_value_int=m.sqlite3_value_int)(e),Gr=o._sqlite3_value_int64=e=>(Gr=o._sqlite3_value_int64=m.sqlite3_value_int64)(e),$r=o._sqlite3_value_subtype=e=>($r=o._sqlite3_value_subtype=m.sqlite3_value_subtype)(e),Kr=o._sqlite3_value_pointer=(e,t)=>(Kr=o._sqlite3_value_pointer=m.sqlite3_value_pointer)(e,t),Jr=o._sqlite3_value_type=e=>(Jr=o._sqlite3_value_type=m.sqlite3_value_type)(e),Xr=o._sqlite3_value_nochange=e=>(Xr=o._sqlite3_value_nochange=m.sqlite3_value_nochange)(e),Yr=o._sqlite3_value_frombind=e=>(Yr=o._sqlite3_value_frombind=m.sqlite3_value_frombind)(e),Zr=o._sqlite3_value_dup=e=>(Zr=o._sqlite3_value_dup=m.sqlite3_value_dup)(e),en=o._sqlite3_value_free=e=>(en=o._sqlite3_value_free=m.sqlite3_value_free)(e),tn=o._sqlite3_result_blob=(e,t,s,i)=>(tn=o._sqlite3_result_blob=m.sqlite3_result_blob)(e,t,s,i),sn=o._sqlite3_result_error_toobig=e=>(sn=o._sqlite3_result_error_toobig=m.sqlite3_result_error_toobig)(e),rn=o._sqlite3_result_error_nomem=e=>(rn=o._sqlite3_result_error_nomem=m.sqlite3_result_error_nomem)(e),nn=o._sqlite3_result_double=(e,t)=>(nn=o._sqlite3_result_double=m.sqlite3_result_double)(e,t),on=o._sqlite3_result_error=(e,t,s)=>(on=o._sqlite3_result_error=m.sqlite3_result_error)(e,t,s),an=o._sqlite3_result_int=(e,t)=>(an=o._sqlite3_result_int=m.sqlite3_result_int)(e,t),ln=o._sqlite3_result_int64=(e,t)=>(ln=o._sqlite3_result_int64=m.sqlite3_result_int64)(e,t),_n=o._sqlite3_result_null=e=>(_n=o._sqlite3_result_null=m.sqlite3_result_null)(e),cn=o._sqlite3_result_pointer=(e,t,s,i)=>(cn=o._sqlite3_result_pointer=m.sqlite3_result_pointer)(e,t,s,i),un=o._sqlite3_result_subtype=(e,t)=>(un=o._sqlite3_result_subtype=m.sqlite3_result_subtype)(e,t),fn=o._sqlite3_result_text=(e,t,s,i)=>(fn=o._sqlite3_result_text=m.sqlite3_result_text)(e,t,s,i),dn=o._sqlite3_result_zeroblob=(e,t)=>(dn=o._sqlite3_result_zeroblob=m.sqlite3_result_zeroblob)(e,t),pn=o._sqlite3_result_zeroblob64=(e,t)=>(pn=o._sqlite3_result_zeroblob64=m.sqlite3_result_zeroblob64)(e,t),mn=o._sqlite3_result_error_code=(e,t)=>(mn=o._sqlite3_result_error_code=m.sqlite3_result_error_code)(e,t),hn=o._sqlite3_user_data=e=>(hn=o._sqlite3_user_data=m.sqlite3_user_data)(e),qn=o._sqlite3_context_db_handle=e=>(qn=o._sqlite3_context_db_handle=m.sqlite3_context_db_handle)(e),gn=o._sqlite3_vtab_nochange=e=>(gn=o._sqlite3_vtab_nochange=m.sqlite3_vtab_nochange)(e),bn=o._sqlite3_vtab_in_first=(e,t)=>(bn=o._sqlite3_vtab_in_first=m.sqlite3_vtab_in_first)(e,t),yn=o._sqlite3_vtab_in_next=(e,t)=>(yn=o._sqlite3_vtab_in_next=m.sqlite3_vtab_in_next)(e,t),vn=o._sqlite3_aggregate_context=(e,t)=>(vn=o._sqlite3_aggregate_context=m.sqlite3_aggregate_context)(e,t),wn=o._sqlite3_get_auxdata=(e,t)=>(wn=o._sqlite3_get_auxdata=m.sqlite3_get_auxdata)(e,t),En=o._sqlite3_set_auxdata=(e,t,s,i)=>(En=o._sqlite3_set_auxdata=m.sqlite3_set_auxdata)(e,t,s,i),xn=o._sqlite3_column_count=e=>(xn=o._sqlite3_column_count=m.sqlite3_column_count)(e),Sn=o._sqlite3_data_count=e=>(Sn=o._sqlite3_data_count=m.sqlite3_data_count)(e),An=o._sqlite3_column_blob=(e,t)=>(An=o._sqlite3_column_blob=m.sqlite3_column_blob)(e,t),In=o._sqlite3_column_bytes=(e,t)=>(In=o._sqlite3_column_bytes=m.sqlite3_column_bytes)(e,t),kn=o._sqlite3_column_double=(e,t)=>(kn=o._sqlite3_column_double=m.sqlite3_column_double)(e,t),Tn=o._sqlite3_column_value=(e,t)=>(Tn=o._sqlite3_column_value=m.sqlite3_column_value)(e,t),Fn=o._sqlite3_column_decltype=(e,t)=>(Fn=o._sqlite3_column_decltype=m.sqlite3_column_decltype)(e,t),Pn=o._sqlite3_bind_blob=(e,t,s,i,r)=>(Pn=o._sqlite3_bind_blob=m.sqlite3_bind_blob)(e,t,s,i,r),On=o._sqlite3_bind_double=(e,t,s)=>(On=o._sqlite3_bind_double=m.sqlite3_bind_double)(e,t,s),Ln=o._sqlite3_bind_int=(e,t,s)=>(Ln=o._sqlite3_bind_int=m.sqlite3_bind_int)(e,t,s),Cn=o._sqlite3_bind_int64=(e,t,s)=>(Cn=o._sqlite3_bind_int64=m.sqlite3_bind_int64)(e,t,s),Dn=o._sqlite3_bind_null=(e,t)=>(Dn=o._sqlite3_bind_null=m.sqlite3_bind_null)(e,t),Rn=o._sqlite3_bind_pointer=(e,t,s,i,r)=>(Rn=o._sqlite3_bind_pointer=m.sqlite3_bind_pointer)(e,t,s,i,r),Nn=o._sqlite3_bind_text=(e,t,s,i,r)=>(Nn=o._sqlite3_bind_text=m.sqlite3_bind_text)(e,t,s,i,r),Mn=o._sqlite3_bind_parameter_count=e=>(Mn=o._sqlite3_bind_parameter_count=m.sqlite3_bind_parameter_count)(e),jn=o._sqlite3_bind_parameter_name=(e,t)=>(jn=o._sqlite3_bind_parameter_name=m.sqlite3_bind_parameter_name)(e,t),Bn=o._sqlite3_bind_parameter_index=(e,t)=>(Bn=o._sqlite3_bind_parameter_index=m.sqlite3_bind_parameter_index)(e,t),zn=o._sqlite3_db_handle=e=>(zn=o._sqlite3_db_handle=m.sqlite3_db_handle)(e),Un=o._sqlite3_stmt_readonly=e=>(Un=o._sqlite3_stmt_readonly=m.sqlite3_stmt_readonly)(e),Wn=o._sqlite3_stmt_isexplain=e=>(Wn=o._sqlite3_stmt_isexplain=m.sqlite3_stmt_isexplain)(e),Qn=o._sqlite3_stmt_explain=(e,t)=>(Qn=o._sqlite3_stmt_explain=m.sqlite3_stmt_explain)(e,t),Hn=o._sqlite3_stmt_busy=e=>(Hn=o._sqlite3_stmt_busy=m.sqlite3_stmt_busy)(e),Vn=o._sqlite3_stmt_status=(e,t,s)=>(Vn=o._sqlite3_stmt_status=m.sqlite3_stmt_status)(e,t,s),Gn=o._sqlite3_sql=e=>(Gn=o._sqlite3_sql=m.sqlite3_sql)(e),$n=o._sqlite3_expanded_sql=e=>($n=o._sqlite3_expanded_sql=m.sqlite3_expanded_sql)(e),Kn=o._sqlite3_preupdate_old=(e,t,s)=>(Kn=o._sqlite3_preupdate_old=m.sqlite3_preupdate_old)(e,t,s),Jn=o._sqlite3_preupdate_count=e=>(Jn=o._sqlite3_preupdate_count=m.sqlite3_preupdate_count)(e),Xn=o._sqlite3_preupdate_depth=e=>(Xn=o._sqlite3_preupdate_depth=m.sqlite3_preupdate_depth)(e),Yn=o._sqlite3_preupdate_blobwrite=e=>(Yn=o._sqlite3_preupdate_blobwrite=m.sqlite3_preupdate_blobwrite)(e),Zn=o._sqlite3_preupdate_new=(e,t,s)=>(Zn=o._sqlite3_preupdate_new=m.sqlite3_preupdate_new)(e,t,s),ei=o._sqlite3_value_numeric_type=e=>(ei=o._sqlite3_value_numeric_type=m.sqlite3_value_numeric_type)(e),ti=o._sqlite3_set_authorizer=(e,t,s)=>(ti=o._sqlite3_set_authorizer=m.sqlite3_set_authorizer)(e,t,s),si=o._sqlite3_strglob=(e,t)=>(si=o._sqlite3_strglob=m.sqlite3_strglob)(e,t),ri=o._sqlite3_strlike=(e,t,s)=>(ri=o._sqlite3_strlike=m.sqlite3_strlike)(e,t,s),ni=o._sqlite3_auto_extension=e=>(ni=o._sqlite3_auto_extension=m.sqlite3_auto_extension)(e),ii=o._sqlite3_cancel_auto_extension=e=>(ii=o._sqlite3_cancel_auto_extension=m.sqlite3_cancel_auto_extension)(e),oi=o._sqlite3_reset_auto_extension=()=>(oi=o._sqlite3_reset_auto_extension=m.sqlite3_reset_auto_extension)(),ai=o._sqlite3_prepare_v3=(e,t,s,i,r,n)=>(ai=o._sqlite3_prepare_v3=m.sqlite3_prepare_v3)(e,t,s,i,r,n),li=o._sqlite3_create_module=(e,t,s,i)=>(li=o._sqlite3_create_module=m.sqlite3_create_module)(e,t,s,i),_i=o._sqlite3_create_module_v2=(e,t,s,i,r)=>(_i=o._sqlite3_create_module_v2=m.sqlite3_create_module_v2)(e,t,s,i,r),ci=o._sqlite3_drop_modules=(e,t)=>(ci=o._sqlite3_drop_modules=m.sqlite3_drop_modules)(e,t),ui=o._sqlite3_declare_vtab=(e,t)=>(ui=o._sqlite3_declare_vtab=m.sqlite3_declare_vtab)(e,t),fi=o._sqlite3_vtab_on_conflict=e=>(fi=o._sqlite3_vtab_on_conflict=m.sqlite3_vtab_on_conflict)(e),di=o._sqlite3_vtab_collation=(e,t)=>(di=o._sqlite3_vtab_collation=m.sqlite3_vtab_collation)(e,t),pi=o._sqlite3_vtab_in=(e,t,s)=>(pi=o._sqlite3_vtab_in=m.sqlite3_vtab_in)(e,t,s),mi=o._sqlite3_vtab_rhs_value=(e,t,s)=>(mi=o._sqlite3_vtab_rhs_value=m.sqlite3_vtab_rhs_value)(e,t,s),hi=o._sqlite3_vtab_distinct=e=>(hi=o._sqlite3_vtab_distinct=m.sqlite3_vtab_distinct)(e),qi=o._sqlite3_keyword_name=(e,t,s)=>(qi=o._sqlite3_keyword_name=m.sqlite3_keyword_name)(e,t,s),gi=o._sqlite3_keyword_count=()=>(gi=o._sqlite3_keyword_count=m.sqlite3_keyword_count)(),bi=o._sqlite3_keyword_check=(e,t)=>(bi=o._sqlite3_keyword_check=m.sqlite3_keyword_check)(e,t),yi=o._sqlite3_complete=e=>(yi=o._sqlite3_complete=m.sqlite3_complete)(e),vi=o._sqlite3_libversion=()=>(vi=o._sqlite3_libversion=m.sqlite3_libversion)(),wi=o._sqlite3_libversion_number=()=>(wi=o._sqlite3_libversion_number=m.sqlite3_libversion_number)(),Ei=o._sqlite3_shutdown=()=>(Ei=o._sqlite3_shutdown=m.sqlite3_shutdown)(),xi=o._sqlite3_last_insert_rowid=e=>(xi=o._sqlite3_last_insert_rowid=m.sqlite3_last_insert_rowid)(e),Si=o._sqlite3_set_last_insert_rowid=(e,t)=>(Si=o._sqlite3_set_last_insert_rowid=m.sqlite3_set_last_insert_rowid)(e,t),Ai=o._sqlite3_changes64=e=>(Ai=o._sqlite3_changes64=m.sqlite3_changes64)(e),Ii=o._sqlite3_changes=e=>(Ii=o._sqlite3_changes=m.sqlite3_changes)(e),ki=o._sqlite3_total_changes64=e=>(ki=o._sqlite3_total_changes64=m.sqlite3_total_changes64)(e),Ti=o._sqlite3_total_changes=e=>(Ti=o._sqlite3_total_changes=m.sqlite3_total_changes)(e),Fi=o._sqlite3_txn_state=(e,t)=>(Fi=o._sqlite3_txn_state=m.sqlite3_txn_state)(e,t),Pi=o._sqlite3_close_v2=e=>(Pi=o._sqlite3_close_v2=m.sqlite3_close_v2)(e),Oi=o._sqlite3_busy_handler=(e,t,s)=>(Oi=o._sqlite3_busy_handler=m.sqlite3_busy_handler)(e,t,s),Li=o._sqlite3_progress_handler=(e,t,s,i)=>(Li=o._sqlite3_progress_handler=m.sqlite3_progress_handler)(e,t,s,i),Ci=o._sqlite3_busy_timeout=(e,t)=>(Ci=o._sqlite3_busy_timeout=m.sqlite3_busy_timeout)(e,t),Di=o._sqlite3_interrupt=e=>(Di=o._sqlite3_interrupt=m.sqlite3_interrupt)(e),Ri=o._sqlite3_is_interrupted=e=>(Ri=o._sqlite3_is_interrupted=m.sqlite3_is_interrupted)(e),Ni=o._sqlite3_create_function=(e,t,s,i,r,n,p,h)=>(Ni=o._sqlite3_create_function=m.sqlite3_create_function)(e,t,s,i,r,n,p,h),Mi=o._sqlite3_create_function_v2=(e,t,s,i,r,n,p,h,P)=>(Mi=o._sqlite3_create_function_v2=m.sqlite3_create_function_v2)(e,t,s,i,r,n,p,h,P),ji=o._sqlite3_create_window_function=(e,t,s,i,r,n,p,h,P,R)=>(ji=o._sqlite3_create_window_function=m.sqlite3_create_window_function)(e,t,s,i,r,n,p,h,P,R),Bi=o._sqlite3_overload_function=(e,t,s)=>(Bi=o._sqlite3_overload_function=m.sqlite3_overload_function)(e,t,s),zi=o._sqlite3_trace_v2=(e,t,s,i)=>(zi=o._sqlite3_trace_v2=m.sqlite3_trace_v2)(e,t,s,i),Ui=o._sqlite3_commit_hook=(e,t,s)=>(Ui=o._sqlite3_commit_hook=m.sqlite3_commit_hook)(e,t,s),Wi=o._sqlite3_update_hook=(e,t,s)=>(Wi=o._sqlite3_update_hook=m.sqlite3_update_hook)(e,t,s),Qi=o._sqlite3_rollback_hook=(e,t,s)=>(Qi=o._sqlite3_rollback_hook=m.sqlite3_rollback_hook)(e,t,s),Hi=o._sqlite3_preupdate_hook=(e,t,s)=>(Hi=o._sqlite3_preupdate_hook=m.sqlite3_preupdate_hook)(e,t,s),Vi=o._sqlite3_error_offset=e=>(Vi=o._sqlite3_error_offset=m.sqlite3_error_offset)(e),Gi=o._sqlite3_errcode=e=>(Gi=o._sqlite3_errcode=m.sqlite3_errcode)(e),$i=o._sqlite3_extended_errcode=e=>($i=o._sqlite3_extended_errcode=m.sqlite3_extended_errcode)(e),Ki=o._sqlite3_errstr=e=>(Ki=o._sqlite3_errstr=m.sqlite3_errstr)(e),Ji=o._sqlite3_limit=(e,t,s)=>(Ji=o._sqlite3_limit=m.sqlite3_limit)(e,t,s),Xi=o._sqlite3_open=(e,t)=>(Xi=o._sqlite3_open=m.sqlite3_open)(e,t),Yi=o._sqlite3_open_v2=(e,t,s,i)=>(Yi=o._sqlite3_open_v2=m.sqlite3_open_v2)(e,t,s,i),Zi=o._sqlite3_create_collation=(e,t,s,i,r)=>(Zi=o._sqlite3_create_collation=m.sqlite3_create_collation)(e,t,s,i,r),eo=o._sqlite3_create_collation_v2=(e,t,s,i,r,n)=>(eo=o._sqlite3_create_collation_v2=m.sqlite3_create_collation_v2)(e,t,s,i,r,n),to=o._sqlite3_collation_needed=(e,t,s)=>(to=o._sqlite3_collation_needed=m.sqlite3_collation_needed)(e,t,s),so=o._sqlite3_get_autocommit=e=>(so=o._sqlite3_get_autocommit=m.sqlite3_get_autocommit)(e),ro=o._sqlite3_table_column_metadata=(e,t,s,i,r,n,p,h,P)=>(ro=o._sqlite3_table_column_metadata=m.sqlite3_table_column_metadata)(e,t,s,i,r,n,p,h,P),no=o._sqlite3_extended_result_codes=(e,t)=>(no=o._sqlite3_extended_result_codes=m.sqlite3_extended_result_codes)(e,t),io=o._sqlite3_uri_key=(e,t)=>(io=o._sqlite3_uri_key=m.sqlite3_uri_key)(e,t),oo=o._sqlite3_uri_int64=(e,t,s)=>(oo=o._sqlite3_uri_int64=m.sqlite3_uri_int64)(e,t,s),ao=o._sqlite3_db_name=(e,t)=>(ao=o._sqlite3_db_name=m.sqlite3_db_name)(e,t),lo=o._sqlite3_db_filename=(e,t)=>(lo=o._sqlite3_db_filename=m.sqlite3_db_filename)(e,t),_o=o._sqlite3_db_readonly=(e,t)=>(_o=o._sqlite3_db_readonly=m.sqlite3_db_readonly)(e,t),co=o._sqlite3_compileoption_used=e=>(co=o._sqlite3_compileoption_used=m.sqlite3_compileoption_used)(e),uo=o._sqlite3_compileoption_get=e=>(uo=o._sqlite3_compileoption_get=m.sqlite3_compileoption_get)(e),fo=o._sqlite3session_diff=(e,t,s,i)=>(fo=o._sqlite3session_diff=m.sqlite3session_diff)(e,t,s,i),po=o._sqlite3session_attach=(e,t)=>(po=o._sqlite3session_attach=m.sqlite3session_attach)(e,t),mo=o._sqlite3session_create=(e,t,s)=>(mo=o._sqlite3session_create=m.sqlite3session_create)(e,t,s),ho=o._sqlite3session_delete=e=>(ho=o._sqlite3session_delete=m.sqlite3session_delete)(e),qo=o._sqlite3session_table_filter=(e,t,s)=>(qo=o._sqlite3session_table_filter=m.sqlite3session_table_filter)(e,t,s),go=o._sqlite3session_changeset=(e,t,s)=>(go=o._sqlite3session_changeset=m.sqlite3session_changeset)(e,t,s),bo=o._sqlite3session_changeset_strm=(e,t,s)=>(bo=o._sqlite3session_changeset_strm=m.sqlite3session_changeset_strm)(e,t,s),yo=o._sqlite3session_patchset_strm=(e,t,s)=>(yo=o._sqlite3session_patchset_strm=m.sqlite3session_patchset_strm)(e,t,s),vo=o._sqlite3session_patchset=(e,t,s)=>(vo=o._sqlite3session_patchset=m.sqlite3session_patchset)(e,t,s),wo=o._sqlite3session_enable=(e,t)=>(wo=o._sqlite3session_enable=m.sqlite3session_enable)(e,t),Eo=o._sqlite3session_indirect=(e,t)=>(Eo=o._sqlite3session_indirect=m.sqlite3session_indirect)(e,t),xo=o._sqlite3session_isempty=e=>(xo=o._sqlite3session_isempty=m.sqlite3session_isempty)(e),So=o._sqlite3session_memory_used=e=>(So=o._sqlite3session_memory_used=m.sqlite3session_memory_used)(e),Ao=o._sqlite3session_object_config=(e,t,s)=>(Ao=o._sqlite3session_object_config=m.sqlite3session_object_config)(e,t,s),Io=o._sqlite3session_changeset_size=e=>(Io=o._sqlite3session_changeset_size=m.sqlite3session_changeset_size)(e),ko=o._sqlite3changeset_start=(e,t,s)=>(ko=o._sqlite3changeset_start=m.sqlite3changeset_start)(e,t,s),To=o._sqlite3changeset_start_v2=(e,t,s,i)=>(To=o._sqlite3changeset_start_v2=m.sqlite3changeset_start_v2)(e,t,s,i),Fo=o._sqlite3changeset_start_strm=(e,t,s)=>(Fo=o._sqlite3changeset_start_strm=m.sqlite3changeset_start_strm)(e,t,s),Po=o._sqlite3changeset_start_v2_strm=(e,t,s,i)=>(Po=o._sqlite3changeset_start_v2_strm=m.sqlite3changeset_start_v2_strm)(e,t,s,i),Oo=o._sqlite3changeset_next=e=>(Oo=o._sqlite3changeset_next=m.sqlite3changeset_next)(e),Lo=o._sqlite3changeset_op=(e,t,s,i,r)=>(Lo=o._sqlite3changeset_op=m.sqlite3changeset_op)(e,t,s,i,r),Co=o._sqlite3changeset_pk=(e,t,s)=>(Co=o._sqlite3changeset_pk=m.sqlite3changeset_pk)(e,t,s),Do=o._sqlite3changeset_old=(e,t,s)=>(Do=o._sqlite3changeset_old=m.sqlite3changeset_old)(e,t,s),Ro=o._sqlite3changeset_new=(e,t,s)=>(Ro=o._sqlite3changeset_new=m.sqlite3changeset_new)(e,t,s),No=o._sqlite3changeset_conflict=(e,t,s)=>(No=o._sqlite3changeset_conflict=m.sqlite3changeset_conflict)(e,t,s),Mo=o._sqlite3changeset_fk_conflicts=(e,t)=>(Mo=o._sqlite3changeset_fk_conflicts=m.sqlite3changeset_fk_conflicts)(e,t),jo=o._sqlite3changeset_finalize=e=>(jo=o._sqlite3changeset_finalize=m.sqlite3changeset_finalize)(e),Bo=o._sqlite3changeset_invert=(e,t,s,i)=>(Bo=o._sqlite3changeset_invert=m.sqlite3changeset_invert)(e,t,s,i),zo=o._sqlite3changeset_invert_strm=(e,t,s,i)=>(zo=o._sqlite3changeset_invert_strm=m.sqlite3changeset_invert_strm)(e,t,s,i),Uo=o._sqlite3changeset_apply_v2=(e,t,s,i,r,n,p,h,P)=>(Uo=o._sqlite3changeset_apply_v2=m.sqlite3changeset_apply_v2)(e,t,s,i,r,n,p,h,P),Wo=o._sqlite3changeset_apply=(e,t,s,i,r,n)=>(Wo=o._sqlite3changeset_apply=m.sqlite3changeset_apply)(e,t,s,i,r,n),Qo=o._sqlite3changeset_apply_v2_strm=(e,t,s,i,r,n,p,h,P)=>(Qo=o._sqlite3changeset_apply_v2_strm=m.sqlite3changeset_apply_v2_strm)(e,t,s,i,r,n,p,h,P),Ho=o._sqlite3changeset_apply_strm=(e,t,s,i,r,n)=>(Ho=o._sqlite3changeset_apply_strm=m.sqlite3changeset_apply_strm)(e,t,s,i,r,n),Vo=o._sqlite3changegroup_new=e=>(Vo=o._sqlite3changegroup_new=m.sqlite3changegroup_new)(e),Go=o._sqlite3changegroup_add=(e,t,s)=>(Go=o._sqlite3changegroup_add=m.sqlite3changegroup_add)(e,t,s),$o=o._sqlite3changegroup_output=(e,t,s)=>($o=o._sqlite3changegroup_output=m.sqlite3changegroup_output)(e,t,s),Ko=o._sqlite3changegroup_add_strm=(e,t,s)=>(Ko=o._sqlite3changegroup_add_strm=m.sqlite3changegroup_add_strm)(e,t,s),Jo=o._sqlite3changegroup_output_strm=(e,t,s)=>(Jo=o._sqlite3changegroup_output_strm=m.sqlite3changegroup_output_strm)(e,t,s),Xo=o._sqlite3changegroup_delete=e=>(Xo=o._sqlite3changegroup_delete=m.sqlite3changegroup_delete)(e),Yo=o._sqlite3changeset_concat=(e,t,s,i,r,n)=>(Yo=o._sqlite3changeset_concat=m.sqlite3changeset_concat)(e,t,s,i,r,n),Zo=o._sqlite3changeset_concat_strm=(e,t,s,i,r,n)=>(Zo=o._sqlite3changeset_concat_strm=m.sqlite3changeset_concat_strm)(e,t,s,i,r,n),ea=o._sqlite3session_config=(e,t)=>(ea=o._sqlite3session_config=m.sqlite3session_config)(e,t),ta=o._sqlite3_sourceid=()=>(ta=o._sqlite3_sourceid=m.sqlite3_sourceid)(),sa=o._sqlite3__wasm_pstack_ptr=()=>(sa=o._sqlite3__wasm_pstack_ptr=m.sqlite3__wasm_pstack_ptr)(),ra=o._sqlite3__wasm_pstack_restore=e=>(ra=o._sqlite3__wasm_pstack_restore=m.sqlite3__wasm_pstack_restore)(e),na=o._sqlite3__wasm_pstack_alloc=e=>(na=o._sqlite3__wasm_pstack_alloc=m.sqlite3__wasm_pstack_alloc)(e),ia=o._sqlite3__wasm_pstack_remaining=()=>(ia=o._sqlite3__wasm_pstack_remaining=m.sqlite3__wasm_pstack_remaining)(),oa=o._sqlite3__wasm_pstack_quota=()=>(oa=o._sqlite3__wasm_pstack_quota=m.sqlite3__wasm_pstack_quota)(),aa=o._sqlite3__wasm_db_error=(e,t,s)=>(aa=o._sqlite3__wasm_db_error=m.sqlite3__wasm_db_error)(e,t,s),la=o._sqlite3__wasm_test_struct=e=>(la=o._sqlite3__wasm_test_struct=m.sqlite3__wasm_test_struct)(e),_a=o._sqlite3__wasm_enum_json=()=>(_a=o._sqlite3__wasm_enum_json=m.sqlite3__wasm_enum_json)(),ca=o._sqlite3__wasm_vfs_unlink=(e,t)=>(ca=o._sqlite3__wasm_vfs_unlink=m.sqlite3__wasm_vfs_unlink)(e,t),ua=o._sqlite3__wasm_db_vfs=(e,t)=>(ua=o._sqlite3__wasm_db_vfs=m.sqlite3__wasm_db_vfs)(e,t),fa=o._sqlite3__wasm_db_reset=e=>(fa=o._sqlite3__wasm_db_reset=m.sqlite3__wasm_db_reset)(e),da=o._sqlite3__wasm_db_export_chunked=(e,t)=>(da=o._sqlite3__wasm_db_export_chunked=m.sqlite3__wasm_db_export_chunked)(e,t),pa=o._sqlite3__wasm_db_serialize=(e,t,s,i,r)=>(pa=o._sqlite3__wasm_db_serialize=m.sqlite3__wasm_db_serialize)(e,t,s,i,r),ma=o._sqlite3__wasm_vfs_create_file=(e,t,s,i)=>(ma=o._sqlite3__wasm_vfs_create_file=m.sqlite3__wasm_vfs_create_file)(e,t,s,i),ha=o._sqlite3__wasm_posix_create_file=(e,t,s)=>(ha=o._sqlite3__wasm_posix_create_file=m.sqlite3__wasm_posix_create_file)(e,t,s),qa=o._sqlite3__wasm_kvvfsMakeKeyOnPstack=(e,t)=>(qa=o._sqlite3__wasm_kvvfsMakeKeyOnPstack=m.sqlite3__wasm_kvvfsMakeKeyOnPstack)(e,t),ga=o._sqlite3__wasm_kvvfs_methods=()=>(ga=o._sqlite3__wasm_kvvfs_methods=m.sqlite3__wasm_kvvfs_methods)(),ba=o._sqlite3__wasm_vtab_config=(e,t,s)=>(ba=o._sqlite3__wasm_vtab_config=m.sqlite3__wasm_vtab_config)(e,t,s),ya=o._sqlite3__wasm_db_config_ip=(e,t,s,i)=>(ya=o._sqlite3__wasm_db_config_ip=m.sqlite3__wasm_db_config_ip)(e,t,s,i),va=o._sqlite3__wasm_db_config_pii=(e,t,s,i,r)=>(va=o._sqlite3__wasm_db_config_pii=m.sqlite3__wasm_db_config_pii)(e,t,s,i,r),wa=o._sqlite3__wasm_db_config_s=(e,t,s)=>(wa=o._sqlite3__wasm_db_config_s=m.sqlite3__wasm_db_config_s)(e,t,s),Ea=o._sqlite3__wasm_config_i=(e,t)=>(Ea=o._sqlite3__wasm_config_i=m.sqlite3__wasm_config_i)(e,t),xa=o._sqlite3__wasm_config_ii=(e,t,s)=>(xa=o._sqlite3__wasm_config_ii=m.sqlite3__wasm_config_ii)(e,t,s),Sa=o._sqlite3__wasm_config_j=(e,t)=>(Sa=o._sqlite3__wasm_config_j=m.sqlite3__wasm_config_j)(e,t),Aa=o._sqlite3__wasm_qfmt_token=(e,t)=>(Aa=o._sqlite3__wasm_qfmt_token=m.sqlite3__wasm_qfmt_token)(e,t),Ia=o._sqlite3__wasm_init_wasmfs=e=>(Ia=o._sqlite3__wasm_init_wasmfs=m.sqlite3__wasm_init_wasmfs)(e),ka=o._sqlite3__wasm_test_intptr=e=>(ka=o._sqlite3__wasm_test_intptr=m.sqlite3__wasm_test_intptr)(e),Ta=o._sqlite3__wasm_test_voidptr=e=>(Ta=o._sqlite3__wasm_test_voidptr=m.sqlite3__wasm_test_voidptr)(e),Fa=o._sqlite3__wasm_test_int64_max=()=>(Fa=o._sqlite3__wasm_test_int64_max=m.sqlite3__wasm_test_int64_max)(),Pa=o._sqlite3__wasm_test_int64_min=()=>(Pa=o._sqlite3__wasm_test_int64_min=m.sqlite3__wasm_test_int64_min)(),Oa=o._sqlite3__wasm_test_int64_times2=e=>(Oa=o._sqlite3__wasm_test_int64_times2=m.sqlite3__wasm_test_int64_times2)(e),La=o._sqlite3__wasm_test_int64_minmax=(e,t)=>(La=o._sqlite3__wasm_test_int64_minmax=m.sqlite3__wasm_test_int64_minmax)(e,t),Ca=o._sqlite3__wasm_test_int64ptr=e=>(Ca=o._sqlite3__wasm_test_int64ptr=m.sqlite3__wasm_test_int64ptr)(e),Da=o._sqlite3__wasm_test_stack_overflow=e=>(Da=o._sqlite3__wasm_test_stack_overflow=m.sqlite3__wasm_test_stack_overflow)(e),Ra=o._sqlite3__wasm_test_str_hello=e=>(Ra=o._sqlite3__wasm_test_str_hello=m.sqlite3__wasm_test_str_hello)(e),Na=o._sqlite3__wasm_SQLTester_strglob=(e,t)=>(Na=o._sqlite3__wasm_SQLTester_strglob=m.sqlite3__wasm_SQLTester_strglob)(e,t),Ma=o._malloc=e=>(Ma=o._malloc=m.malloc)(e),ja=o._free=e=>(ja=o._free=m.free)(e),Ba=o._realloc=(e,t)=>(Ba=o._realloc=m.realloc)(e,t),Ot=(e,t)=>(Ot=m.emscripten_builtin_memalign)(e,t),Lt=e=>(Lt=m._emscripten_stack_restore)(e),za=e=>(za=m._emscripten_stack_alloc)(e),Ct=()=>(Ct=m.emscripten_stack_get_current)();o.wasmMemory=Pe;var Je,Dt;Ue=function e(){Je||Rt(),Je||(Ue=e)};function Rt(){if(Le>0||!Dt&&(Dt=1,Gt(),Le>0))return;function e(){Je||(Je=1,o.calledRun=1,!qt&&($t(),xe(o),o.onRuntimeInitialized?.(),Kt()))}o.setStatus?(o.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>o.setStatus(""),1),e()},1)):e()}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return Rt(),o.runSQLite3PostLoadInit=function(e){"use strict";"use strict";if(globalThis.sqlite3ApiBootstrap=function t(s=globalThis.sqlite3ApiConfig||t.defaultConfig){if(t.sqlite3)return(t.sqlite3.config||console).warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),t.sqlite3;const i=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:typeof o<"u"&&o.HEAPU64?!0:!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},s||{});Object.assign(i,{allocExportName:i.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:i.useStdAlloc?"free":"sqlite3_free",reallocExportName:i.useStdAlloc?"realloc":"sqlite3_realloc"},i),["exports","memory","wasmfsOpfsDir"].forEach(a=>{typeof i[a]=="function"&&(i[a]=i[a]())}),delete globalThis.sqlite3ApiConfig,delete t.defaultConfig;const r=Object.create(null),n=Object.create(null),p=a=>r.sqlite3_js_rc_str&&r.sqlite3_js_rc_str(a)||"Unknown result code #"+a,h=a=>typeof a=="number"&&a===(a|0);class P extends Error{constructor(...c){let _;if(c.length)if(h(c[0]))if(_=c[0],c.length===1)super(p(c[0]));else{const g=p(_);typeof c[1]=="object"?super(g,c[1]):(c[0]=g+":",super(c.join(" ")))}else c.length===2&&typeof c[1]=="object"?super(...c):super(c.join(" "));this.resultCode=_||r.SQLITE_ERROR,this.name="SQLite3Error"}}P.toss=(...a)=>{throw new P(...a)};const R=P.toss;i.wasmfsOpfsDir&&!/^\/[^/]+$/.test(i.wasmfsOpfsDir)&&R("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const W=a=>typeof a!="bigint"&&a===(a|0)&&a<=2147483647&&a>=-2147483648,z=function a(c){return a._max||(a._max=BigInt("0x7fffffffffffffff"),a._min=~a._max),c>=a._min&&c<=a._max},G=a=>a>=-0x7fffffffn-1n&&a<=0x7fffffffn,A=function a(c){return a._min||(a._min=Number.MIN_SAFE_INTEGER,a._max=Number.MAX_SAFE_INTEGER),c>=a._min&&c<=a._max},I=a=>a&&a.constructor&&W(a.constructor.BYTES_PER_ELEMENT)?a:!1,T=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,E=a=>a.buffer instanceof T,b=(a,c,_)=>E(a)?a.slice(c,_):a.subarray(c,_),F=a=>a&&(a instanceof Uint8Array||a instanceof Int8Array||a instanceof ArrayBuffer),N=a=>a&&(a instanceof Uint8Array||a instanceof Int8Array||a instanceof ArrayBuffer),M=a=>F(a)||R("Value is not of a supported TypedArray type."),y=new TextDecoder("utf-8"),j=function(a,c,_){return y.decode(b(a,c,_))},u=function(a){return N(a)?j(a instanceof ArrayBuffer?new Uint8Array(a):a):Array.isArray(a)?a.join(""):(n.isPtr(a)&&(a=n.cstrToJs(a)),a)};class f extends Error{constructor(...c){c.length===2&&typeof c[1]=="object"?super(...c):c.length?super(c.join(" ")):super("Allocation failed."),this.resultCode=r.SQLITE_NOMEM,this.name="WasmAllocError"}}f.toss=(...a)=>{throw new f(...a)},Object.assign(r,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(a,c,_,g,B,J,te,Z,re)=>{},sqlite3_create_function:(a,c,_,g,B,J,te,Z)=>{},sqlite3_create_window_function:(a,c,_,g,B,J,te,Z,re,ae)=>{},sqlite3_prepare_v3:(a,c,_,g,B,J)=>{},sqlite3_prepare_v2:(a,c,_,g,B)=>{},sqlite3_exec:(a,c,_,g,B)=>{},sqlite3_randomness:(a,c)=>{}});const x={affirmBindableTypedArray:M,flexibleString:u,bigIntFits32:G,bigIntFits64:z,bigIntFitsDouble:A,isBindableTypedArray:F,isInt32:W,isSQLableTypedArray:N,isTypedArray:I,typedArrayToString:j,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:E,toss:function(...a){throw new Error(a.join(" "))},toss3:R,typedArrayPart:b,affirmDbHeader:function(a){a instanceof ArrayBuffer&&(a=new Uint8Array(a));const c="SQLite format 3";c.length>a.byteLength&&R("Input does not contain an SQLite3 database header.");for(let _=0;_<c.length;++_)c.charCodeAt(_)!==a[_]&&R("Input does not contain an SQLite3 database header.")},affirmIsDb:function(a){a instanceof ArrayBuffer&&(a=new Uint8Array(a));const c=a.byteLength;(c<512||c%512!==0)&&R("Byte array size",c,"is invalid for an SQLite3 db."),x.affirmDbHeader(a)}};Object.assign(n,{ptrSizeof:i.wasmPtrSizeof||4,ptrIR:i.wasmPtrIR||"i32",bigIntEnabled:!!i.bigIntEnabled,exports:i.exports||R("Missing API config.exports (WASM module exports)."),memory:i.memory||i.exports.memory||R("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),n.allocFromTypedArray=function(a){a instanceof ArrayBuffer&&(a=new Uint8Array(a)),M(a);const c=n.alloc(a.byteLength||1);return n.heapForSize(a.constructor).set(a.byteLength?a:[0],c),c};{const a=i.allocExportName,c=i.deallocExportName,_=i.reallocExportName;for(const g of[a,c,_])n.exports[g]instanceof Function||R("Missing required exports[",g,"] function.");n.alloc=function g(B){return g.impl(B)||f.toss("Failed to allocate",B," bytes.")},n.alloc.impl=n.exports[a],n.realloc=function g(B,J){const te=g.impl(B,J);return J?te||f.toss("Failed to reallocate",J," bytes."):0},n.realloc.impl=n.exports[_],n.dealloc=n.exports[c]}n.compileOptionUsed=function a(c){if(arguments.length){if(Array.isArray(c)){const _={};return c.forEach(g=>{_[g]=r.sqlite3_compileoption_used(g)}),_}else if(typeof c=="object")return Object.keys(c).forEach(_=>{c[_]=r.sqlite3_compileoption_used(_)}),c}else{if(a._result)return a._result;a._opt||(a._rx=/^([^=]+)=(.+)/,a._rxInt=/^-?\d+$/,a._opt=function(te,Z){const re=a._rx.exec(te);Z[0]=re?re[1]:te,Z[1]=re?a._rxInt.test(re[2])?+re[2]:re[2]:!0});const _={},g=[0,0];let B=0,J;for(;J=r.sqlite3_compileoption_get(B++);)a._opt(J,g),_[g[0]]=g[1];return a._result=_}return typeof c=="string"?!!r.sqlite3_compileoption_used(c):!1},n.pstack=Object.assign(Object.create(null),{restore:n.exports.sqlite3__wasm_pstack_restore,alloc:function(a){return typeof a=="string"&&!(a=n.sizeofIR(a))&&f.toss("Invalid value for pstack.alloc(",arguments[0],")"),n.exports.sqlite3__wasm_pstack_alloc(a)||f.toss("Could not allocate",a,"bytes from the pstack.")},allocChunks:function(a,c){typeof c=="string"&&!(c=n.sizeofIR(c))&&f.toss("Invalid size value for allocChunks(",arguments[1],")");const _=n.pstack.alloc(a*c),g=[];let B=0,J=0;for(;B<a;++B,J+=c)g.push(_+J);return g},allocPtr:(a=1,c=!0)=>a===1?n.pstack.alloc(c?8:n.ptrSizeof):n.pstack.allocChunks(a,c?8:n.ptrSizeof),call:function(a){const c=n.pstack.pointer;try{return a(d)}finally{n.pstack.restore(c)}}}),Object.defineProperties(n.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:n.exports.sqlite3__wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:n.exports.sqlite3__wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:n.exports.sqlite3__wasm_pstack_remaining}}),r.sqlite3_randomness=(...a)=>{if(a.length===1&&x.isTypedArray(a[0])&&a[0].BYTES_PER_ELEMENT===1){const c=a[0];if(c.byteLength===0)return n.exports.sqlite3_randomness(0,0),c;const _=n.pstack.pointer;try{let g=c.byteLength,B=0;const J=n.exports.sqlite3_randomness,te=n.heap8u(),Z=g<512?g:512,re=n.pstack.alloc(Z);do{const ae=g>Z?Z:g;J(ae,re),c.set(b(te,re,re+ae),B),g-=ae,B+=ae}while(g>0)}catch(g){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",g)}finally{n.pstack.restore(_)}return c}n.exports.sqlite3_randomness(...a)};let L;if(r.sqlite3_wasmfs_opfs_dir=function(){if(L!==void 0)return L;const a=i.wasmfsOpfsDir;if(!a||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return L="";try{return a&&n.xCallWrapped("sqlite3__wasm_init_wasmfs","i32",["string"],a)===0?L=a:L=""}catch{return L=""}},r.sqlite3_wasmfs_filename_is_persistent=function(a){const c=r.sqlite3_wasmfs_opfs_dir();return c&&a?a.startsWith(c+"/"):!1},r.sqlite3_js_db_uses_vfs=function(a,c,_=0){try{const g=r.sqlite3_vfs_find(c);return g?a?g===r.sqlite3_js_db_vfs(a,_)?g:!1:g===r.sqlite3_vfs_find(0)?g:!1:!1}catch{return!1}},r.sqlite3_js_vfs_list=function(){const a=[];let c=r.sqlite3_vfs_find(0);for(;c;){const _=new r.sqlite3_vfs(c);a.push(n.cstrToJs(_.$zName)),c=_.$pNext,_.dispose()}return a},r.sqlite3_js_db_export=function(a,c=0){a=n.xWrap.testConvertArg("sqlite3*",a),a||R("Invalid sqlite3* argument."),n.bigIntEnabled||R("BigInt64 support is not enabled.");const _=n.scopedAllocPush();let g;try{const B=n.scopedAlloc(8+n.ptrSizeof),J=B+8,te=c?n.isPtr(c)?c:n.scopedAllocCString(""+c):0;let Z=n.exports.sqlite3__wasm_db_serialize(a,te,J,B,0);Z&&R("Database serialization failed with code",d.capi.sqlite3_js_rc_str(Z)),g=n.peekPtr(J);const re=n.peek(B,"i64");return Z=re?n.heap8u().slice(g,g+Number(re)):new Uint8Array,Z}finally{g&&n.exports.sqlite3_free(g),n.scopedAllocPop(_)}},r.sqlite3_js_db_vfs=(a,c=0)=>x.sqlite3__wasm_db_vfs(a,c),r.sqlite3_js_aggregate_context=(a,c)=>r.sqlite3_aggregate_context(a,c)||(c?f.toss("Cannot allocate",c,"bytes for sqlite3_aggregate_context()"):0),r.sqlite3_js_posix_create_file=function(a,c,_){let g;c&&n.isPtr(c)?g=c:c instanceof ArrayBuffer||c instanceof Uint8Array?(g=n.allocFromTypedArray(c),(arguments.length<3||!x.isInt32(_)||_<0)&&(_=c.byteLength)):P.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!x.isInt32(_)||_<0)&&P.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const B=x.sqlite3__wasm_posix_create_file(a,g,_);B&&P.toss("Creation of file failed with sqlite3 result code",r.sqlite3_js_rc_str(B))}finally{n.dealloc(g)}},r.sqlite3_js_vfs_create_file=function(a,c,_,g){i.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let B;_?(n.isPtr(_)?B=_:_ instanceof ArrayBuffer&&(_=new Uint8Array(_)),_ instanceof Uint8Array?(B=n.allocFromTypedArray(_),(arguments.length<4||!x.isInt32(g)||g<0)&&(g=_.byteLength)):P.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):B=0,(!x.isInt32(g)||g<0)&&(n.dealloc(B),P.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const J=x.sqlite3__wasm_vfs_create_file(a,c,B,g);J&&P.toss("Creation of file failed with sqlite3 result code",r.sqlite3_js_rc_str(J))}finally{n.dealloc(B)}},r.sqlite3_js_sql_to_string=a=>{if(typeof a=="string")return a;const c=u(v);return c===v?void 0:c},x.isUIThread()){const a=function(c){const _=Object.create(null);return _.prefix="kvvfs-"+c,_.stores=[],(c==="session"||c==="")&&_.stores.push(globalThis.sessionStorage),(c==="local"||c==="")&&_.stores.push(globalThis.localStorage),_};r.sqlite3_js_kvvfs_clear=function(c=""){let _=0;const g=a(c);return g.stores.forEach(B=>{const J=[];let te;for(te=0;te<B.length;++te){const Z=B.key(te);Z.startsWith(g.prefix)&&J.push(Z)}J.forEach(Z=>B.removeItem(Z)),_+=J.length}),_},r.sqlite3_js_kvvfs_size=function(c=""){let _=0;const g=a(c);return g.stores.forEach(B=>{let J;for(J=0;J<B.length;++J){const te=B.key(J);te.startsWith(g.prefix)&&(_+=te.length,_+=B.getItem(te).length)}}),_*2}}r.sqlite3_db_config=function(a,c,..._){switch(c){case r.SQLITE_DBCONFIG_ENABLE_FKEY:case r.SQLITE_DBCONFIG_ENABLE_TRIGGER:case r.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case r.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case r.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case r.SQLITE_DBCONFIG_ENABLE_QPSG:case r.SQLITE_DBCONFIG_TRIGGER_EQP:case r.SQLITE_DBCONFIG_RESET_DATABASE:case r.SQLITE_DBCONFIG_DEFENSIVE:case r.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case r.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case r.SQLITE_DBCONFIG_DQS_DML:case r.SQLITE_DBCONFIG_DQS_DDL:case r.SQLITE_DBCONFIG_ENABLE_VIEW:case r.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case r.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case r.SQLITE_DBCONFIG_STMT_SCANSTATUS:case r.SQLITE_DBCONFIG_REVERSE_SCANORDER:case r.SQLITE_DBCONFIG_ENABLE_ATTACH_CREATE:case r.SQLITE_DBCONFIG_ENABLE_ATTACH_WRITE:case r.SQLITE_DBCONFIG_ENABLE_COMMENTS:return this.ip||(this.ip=n.xWrap("sqlite3__wasm_db_config_ip","int",["sqlite3*","int","int","*"])),this.ip(a,c,_[0],_[1]||0);case r.SQLITE_DBCONFIG_LOOKASIDE:return this.pii||(this.pii=n.xWrap("sqlite3__wasm_db_config_pii","int",["sqlite3*","int","*","int","int"])),this.pii(a,c,_[0],_[1],_[2]);case r.SQLITE_DBCONFIG_MAINDBNAME:return this.s||(this.s=n.xWrap("sqlite3__wasm_db_config_s","int",["sqlite3*","int","string:static"])),this.s(a,c,_[0]);default:return r.SQLITE_MISUSE}}.bind(Object.create(null)),r.sqlite3_value_to_js=function(a,c=!0){let _;const g=r.sqlite3_value_type(a);switch(g){case r.SQLITE_INTEGER:n.bigIntEnabled?(_=r.sqlite3_value_int64(a),x.bigIntFitsDouble(_)&&(_=Number(_))):_=r.sqlite3_value_double(a);break;case r.SQLITE_FLOAT:_=r.sqlite3_value_double(a);break;case r.SQLITE_TEXT:_=r.sqlite3_value_text(a);break;case r.SQLITE_BLOB:{const B=r.sqlite3_value_bytes(a),J=r.sqlite3_value_blob(a);B&&!J&&d.WasmAllocError.toss("Cannot allocate memory for blob argument of",B,"byte(s)"),_=B?n.heap8u().slice(J,J+Number(B)):null;break}case r.SQLITE_NULL:_=null;break;default:c&&R(r.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",g),_=void 0}return _},r.sqlite3_values_to_js=function(a,c,_=!0){let g;const B=[];for(g=0;g<a;++g)B.push(r.sqlite3_value_to_js(n.peekPtr(c+n.ptrSizeof*g),_));return B},r.sqlite3_result_error_js=function(a,c){c instanceof f?r.sqlite3_result_error_nomem(a):r.sqlite3_result_error(a,""+c,-1)},r.sqlite3_result_js=function(a,c){if(c instanceof Error){r.sqlite3_result_error_js(a,c);return}try{switch(typeof c){case"undefined":break;case"boolean":r.sqlite3_result_int(a,c?1:0);break;case"bigint":x.bigIntFits32(c)?r.sqlite3_result_int(a,Number(c)):x.bigIntFitsDouble(c)?r.sqlite3_result_double(a,Number(c)):n.bigIntEnabled?x.bigIntFits64(c)?r.sqlite3_result_int64(a,c):R("BigInt value",c.toString(),"is too BigInt for int64."):R("BigInt value",c.toString(),"is too BigInt.");break;case"number":{let _;x.isInt32(c)?_=r.sqlite3_result_int:n.bigIntEnabled&&Number.isInteger(c)&&x.bigIntFits64(BigInt(c))?_=r.sqlite3_result_int64:_=r.sqlite3_result_double,_(a,c);break}case"string":{const[_,g]=n.allocCString(c,!0);r.sqlite3_result_text(a,_,g,r.SQLITE_WASM_DEALLOC);break}case"object":if(c===null){r.sqlite3_result_null(a);break}else if(x.isBindableTypedArray(c)){const _=n.allocFromTypedArray(c);r.sqlite3_result_blob(a,_,c.byteLength,r.SQLITE_WASM_DEALLOC);break}default:R("Don't not how to handle this UDF result value:",typeof c,c)}}catch(_){r.sqlite3_result_error_js(a,_)}},r.sqlite3_column_js=function(a,c,_=!0){const g=r.sqlite3_column_value(a,c);return g===0?void 0:r.sqlite3_value_to_js(g,_)};const D=function(a,c,_){_=r[_],this.ptr?n.pokePtr(this.ptr,0):this.ptr=n.allocPtr();const g=_(a,c,this.ptr);if(g)return P.toss(g,arguments[2]+"() failed with code "+g);const B=n.peekPtr(this.ptr);return B?r.sqlite3_value_to_js(B,!0):void 0}.bind(Object.create(null));r.sqlite3_preupdate_new_js=(a,c)=>D(a,c,"sqlite3_preupdate_new"),r.sqlite3_preupdate_old_js=(a,c)=>D(a,c,"sqlite3_preupdate_old"),r.sqlite3changeset_new_js=(a,c)=>D(a,c,"sqlite3changeset_new"),r.sqlite3changeset_old_js=(a,c)=>D(a,c,"sqlite3changeset_old");const d={WasmAllocError:f,SQLite3Error:P,capi:r,util:x,wasm:n,config:i,version:Object.create(null),client:void 0,asyncPostInit:async function a(){if(a.isReady instanceof Promise)return a.isReady;let c=t.initializersAsync;delete t.initializersAsync;const _=async()=>(d.__isUnderTest||(delete d.util,delete d.StructBinder),d),g=J=>{throw i.error("an async sqlite3 initializer failed:",J),J};if(!c||!c.length)return a.isReady=_().catch(g);c=c.map(J=>J instanceof Function?async te=>J(d):J),c.push(_);let B=Promise.resolve(d);for(;c.length;)B=B.then(c.shift());return a.isReady=B.catch(g)},scriptInfo:void 0};try{t.initializers.forEach(a=>{a(d)})}catch(a){throw console.error("sqlite3 bootstrap initializer threw:",a),a}return delete t.initializers,t.sqlite3=d,d},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(t){"use strict";t.bigIntEnabled===void 0&&(t.bigIntEnabled=!!globalThis.BigInt64Array);const s=(...u)=>{throw new Error(u.join(" "))};t.exports||Object.defineProperty(t,"exports",{enumerable:!0,configurable:!0,get:()=>t.instance&&t.instance.exports});const i=t.pointerIR||"i32",r=t.ptrSizeof=i==="i32"?4:i==="i64"?8:s("Unhandled ptrSizeof:",i),n=Object.create(null);n.heapSize=0,n.memory=null,n.freeFuncIndexes=[],n.scopedAlloc=[],n.utf8Decoder=new TextDecoder,n.utf8Encoder=new TextEncoder("utf-8"),t.sizeofIR=u=>{switch(u){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return r;default:return(""+u).endsWith("*")?r:void 0}};const p=function(){if(!n.memory)n.memory=t.memory instanceof WebAssembly.Memory?t.memory:t.exports.memory;else if(n.heapSize===n.memory.buffer.byteLength)return n;const u=n.memory.buffer;return n.HEAP8=new Int8Array(u),n.HEAP8U=new Uint8Array(u),n.HEAP16=new Int16Array(u),n.HEAP16U=new Uint16Array(u),n.HEAP32=new Int32Array(u),n.HEAP32U=new Uint32Array(u),t.bigIntEnabled&&(n.HEAP64=new BigInt64Array(u),n.HEAP64U=new BigUint64Array(u)),n.HEAP32F=new Float32Array(u),n.HEAP64F=new Float64Array(u),n.heapSize=u.byteLength,n};t.heap8=()=>p().HEAP8,t.heap8u=()=>p().HEAP8U,t.heap16=()=>p().HEAP16,t.heap16u=()=>p().HEAP16U,t.heap32=()=>p().HEAP32,t.heap32u=()=>p().HEAP32U,t.heapForSize=function(u,f=!0){let x;const L=n.memory&&n.heapSize===n.memory.buffer.byteLength?n:p();switch(u){case Int8Array:return L.HEAP8;case Uint8Array:return L.HEAP8U;case Int16Array:return L.HEAP16;case Uint16Array:return L.HEAP16U;case Int32Array:return L.HEAP32;case Uint32Array:return L.HEAP32U;case 8:return f?L.HEAP8U:L.HEAP8;case 16:return f?L.HEAP16U:L.HEAP16;case 32:return f?L.HEAP32U:L.HEAP32;case 64:if(L.HEAP64)return f?L.HEAP64U:L.HEAP64;break;default:if(t.bigIntEnabled){if(u===globalThis.BigUint64Array)return L.HEAP64U;if(u===globalThis.BigInt64Array)return L.HEAP64;break}}s("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},t.functionTable=function(){return t.exports.__indirect_function_table},t.functionEntry=function(u){const f=t.functionTable();return u<f.length?f.get(u):void 0},t.jsFuncToWasm=function u(f,x){if(u._||(u._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(d,a,c){c<128?d[a](c):d[a](c%128|128,c>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(d){const a=u._.rxJSig.exec(d);return a?a[2]:d.substr(1)},letterType:d=>u._.sigTypes[d]||s("Invalid signature letter:",d),pushSigType:(d,a)=>d.push(u._.typeCodes[u._.letterType(a)])}),typeof f=="string"){const d=x;x=f,f=d}const L=u._.sigParams(x),D=[1,96];u._.uleb128Encode(D,"push",L.length);for(const d of L)u._.pushSigType(D,d);return x[0]==="v"?D.push(0):(D.push(1),u._.pushSigType(D,x[0])),u._.uleb128Encode(D,"unshift",D.length),D.unshift(0,97,115,109,1,0,0,0,1),D.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(D)),{e:{f}}).exports.f};const h=function(f,x,L){if(L&&!n.scopedAlloc.length&&s("No scopedAllocPush() scope is active."),typeof f=="string"){const c=x;x=f,f=c}(typeof x!="string"||!(f instanceof Function))&&s("Invalid arguments: expecting (function,signature) or (signature,function).");const D=t.functionTable(),d=D.length;let a;for(;n.freeFuncIndexes.length&&(a=n.freeFuncIndexes.pop(),D.get(a));){a=null;continue}a||(a=d,D.grow(1));try{return D.set(a,f),L&&n.scopedAlloc[n.scopedAlloc.length-1].push(a),a}catch(c){if(!(c instanceof TypeError))throw a===d&&n.freeFuncIndexes.push(d),c}try{const c=t.jsFuncToWasm(f,x);D.set(a,c),L&&n.scopedAlloc[n.scopedAlloc.length-1].push(a)}catch(c){throw a===d&&n.freeFuncIndexes.push(d),c}return a};t.installFunction=(u,f)=>h(u,f,!1),t.scopedInstallFunction=(u,f)=>h(u,f,!0),t.uninstallFunction=function(u){if(!u&&u!==0)return;const f=n.freeFuncIndexes,x=t.functionTable();f.push(u);const L=x.get(u);return x.set(u,null),L},t.peek=function(f,x="i8"){x.endsWith("*")&&(x=i);const L=n.memory&&n.heapSize===n.memory.buffer.byteLength?n:p(),D=Array.isArray(f)?[]:void 0;let d;do{switch(D&&(f=arguments[0].shift()),x){case"i1":case"i8":d=L.HEAP8[f>>0];break;case"i16":d=L.HEAP16[f>>1];break;case"i32":d=L.HEAP32[f>>2];break;case"float":case"f32":d=L.HEAP32F[f>>2];break;case"double":case"f64":d=Number(L.HEAP64F[f>>3]);break;case"i64":if(t.bigIntEnabled){d=BigInt(L.HEAP64[f>>3]);break}default:s("Invalid type for peek():",x)}D&&D.push(d)}while(D&&arguments[0].length);return D||d},t.poke=function(u,f,x="i8"){x.endsWith("*")&&(x=i);const L=n.memory&&n.heapSize===n.memory.buffer.byteLength?n:p();for(const D of Array.isArray(u)?u:[u])switch(x){case"i1":case"i8":L.HEAP8[D>>0]=f;continue;case"i16":L.HEAP16[D>>1]=f;continue;case"i32":L.HEAP32[D>>2]=f;continue;case"float":case"f32":L.HEAP32F[D>>2]=f;continue;case"double":case"f64":L.HEAP64F[D>>3]=f;continue;case"i64":if(L.HEAP64){L.HEAP64[D>>3]=BigInt(f);continue}default:s("Invalid type for poke(): "+x)}return this},t.peekPtr=(...u)=>t.peek(u.length===1?u[0]:u,i),t.pokePtr=(u,f=0)=>t.poke(u,f,i),t.peek8=(...u)=>t.peek(u.length===1?u[0]:u,"i8"),t.poke8=(u,f)=>t.poke(u,f,"i8"),t.peek16=(...u)=>t.peek(u.length===1?u[0]:u,"i16"),t.poke16=(u,f)=>t.poke(u,f,"i16"),t.peek32=(...u)=>t.peek(u.length===1?u[0]:u,"i32"),t.poke32=(u,f)=>t.poke(u,f,"i32"),t.peek64=(...u)=>t.peek(u.length===1?u[0]:u,"i64"),t.poke64=(u,f)=>t.poke(u,f,"i64"),t.peek32f=(...u)=>t.peek(u.length===1?u[0]:u,"f32"),t.poke32f=(u,f)=>t.poke(u,f,"f32"),t.peek64f=(...u)=>t.peek(u.length===1?u[0]:u,"f64"),t.poke64f=(u,f)=>t.poke(u,f,"f64"),t.getMemValue=t.peek,t.getPtrValue=t.peekPtr,t.setMemValue=t.poke,t.setPtrValue=t.pokePtr,t.isPtr32=u=>typeof u=="number"&&u===(u|0)&&u>=0,t.isPtr=t.isPtr32,t.cstrlen=function(u){if(!u||!t.isPtr(u))return null;const f=p().HEAP8U;let x=u;for(;f[x]!==0;++x);return x-u};const P=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,R=function(u,f,x){return n.utf8Decoder.decode(u.buffer instanceof P?u.slice(f,x):u.subarray(f,x))};t.cstrToJs=function(u){const f=t.cstrlen(u);return f?R(p().HEAP8U,u,u+f):f===null?f:""},t.jstrlen=function(u){if(typeof u!="string")return null;const f=u.length;let x=0;for(let L=0;L<f;++L){let D=u.charCodeAt(L);D>=55296&&D<=57343&&(D=65536+((D&1023)<<10)|u.charCodeAt(++L)&1023),D<=127?++x:D<=2047?x+=2:D<=65535?x+=3:x+=4}return x},t.jstrcpy=function(u,f,x=0,L=-1,D=!0){if((!f||!(f instanceof Int8Array)&&!(f instanceof Uint8Array))&&s("jstrcpy() target must be an Int8Array or Uint8Array."),L<0&&(L=f.length-x),!(L>0)||!(x>=0))return 0;let d=0,a=u.length;const c=x,_=x+L-(D?1:0);for(;d<a&&x<_;++d){let g=u.charCodeAt(d);if(g>=55296&&g<=57343&&(g=65536+((g&1023)<<10)|u.charCodeAt(++d)&1023),g<=127){if(x>=_)break;f[x++]=g}else if(g<=2047){if(x+1>=_)break;f[x++]=192|g>>6,f[x++]=128|g&63}else if(g<=65535){if(x+2>=_)break;f[x++]=224|g>>12,f[x++]=128|g>>6&63,f[x++]=128|g&63}else{if(x+3>=_)break;f[x++]=240|g>>18,f[x++]=128|g>>12&63,f[x++]=128|g>>6&63,f[x++]=128|g&63}}return D&&(f[x++]=0),x-c},t.cstrncpy=function(u,f,x){if((!u||!f)&&s("cstrncpy() does not accept NULL strings."),x<0)x=t.cstrlen(strPtr)+1;else if(!(x>0))return 0;const L=t.heap8u();let D=0,d;for(;D<x&&(d=L[f+D]);++D)L[u+D]=d;return D<x&&(L[u+D++]=0),D},t.jstrToUintArray=(u,f=!1)=>n.utf8Encoder.encode(f?u+"\0":u);const W=(u,f)=>{(!(u.alloc instanceof Function)||!(u.dealloc instanceof Function))&&s("Object is missing alloc() and/or dealloc() function(s)","required by",f+"().")},z=function(u,f,x,L){if(W(t,L),typeof u!="string")return null;{const D=n.utf8Encoder.encode(u),d=x(D.length+1),a=p().HEAP8U;return a.set(D,d),a[d+D.length]=0,f?[d,D.length]:d}};t.allocCString=(u,f=!1)=>z(u,f,t.alloc,"allocCString()"),t.scopedAllocPush=function(){W(t,"scopedAllocPush");const u=[];return n.scopedAlloc.push(u),u},t.scopedAllocPop=function(u){W(t,"scopedAllocPop");const f=arguments.length?n.scopedAlloc.indexOf(u):n.scopedAlloc.length-1;f<0&&s("Invalid state object for scopedAllocPop()."),arguments.length===0&&(u=n.scopedAlloc[f]),n.scopedAlloc.splice(f,1);for(let x;x=u.pop();)t.functionEntry(x)?t.uninstallFunction(x):t.dealloc(x)},t.scopedAlloc=function(u){n.scopedAlloc.length||s("No scopedAllocPush() scope is active.");const f=t.alloc(u);return n.scopedAlloc[n.scopedAlloc.length-1].push(f),f},Object.defineProperty(t.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>n.scopedAlloc.length,set:()=>s("The 'active' property is read-only.")}),t.scopedAllocCString=(u,f=!1)=>z(u,f,t.scopedAlloc,"scopedAllocCString()");const G=function(u,f){const x=t[u?"scopedAlloc":"alloc"]((f.length+1)*t.ptrSizeof);let L=0;return f.forEach(D=>{t.pokePtr(x+t.ptrSizeof*L++,t[u?"scopedAllocCString":"allocCString"](""+D))}),t.pokePtr(x+t.ptrSizeof*L,0),x};t.scopedAllocMainArgv=u=>G(!0,u),t.allocMainArgv=u=>G(!1,u),t.cArgvToJs=(u,f)=>{const x=[];for(let L=0;L<u;++L){const D=t.peekPtr(f+t.ptrSizeof*L);x.push(D?t.cstrToJs(D):null)}return x},t.scopedAllocCall=function(u){t.scopedAllocPush();try{return u()}finally{t.scopedAllocPop()}};const A=function(u,f,x){W(t,x);const L=f?"i64":i;let D=t[x](u*(f?8:r));if(t.poke(D,0,L),u===1)return D;const d=[D];for(let a=1;a<u;++a)D+=f?8:r,d[a]=D,t.poke(D,0,L);return d};t.allocPtr=(u=1,f=!0)=>A(u,f,"alloc"),t.scopedAllocPtr=(u=1,f=!0)=>A(u,f,"scopedAlloc"),t.xGet=function(u){return t.exports[u]||s("Cannot find exported symbol:",u)};const I=(u,f)=>s(u+"() requires",f,"argument(s).");t.xCall=function(u,...f){const x=u instanceof Function?u:t.xGet(u);return x instanceof Function||s("Exported symbol",u,"is not a function."),x.length!==f.length&&I(x===u?x.name:u,x.length),arguments.length===2&&Array.isArray(arguments[1])?x.apply(null,arguments[1]):x.apply(null,f)},n.xWrap=Object.create(null),n.xWrap.convert=Object.create(null),n.xWrap.convert.arg=new Map,n.xWrap.convert.result=new Map;const T=n.xWrap.convert.arg,E=n.xWrap.convert.result;t.bigIntEnabled&&T.set("i64",u=>BigInt(u));const b=i==="i32"?u=>u|0:u=>BigInt(u)|BigInt(0);T.set("i32",b).set("i16",u=>(u|0)&65535).set("i8",u=>(u|0)&255).set("f32",u=>Number(u).valueOf()).set("float",T.get("f32")).set("f64",T.get("f32")).set("double",T.get("f64")).set("int",T.get("i32")).set("null",u=>u).set(null,T.get("null")).set("**",b).set("*",b),E.set("*",b).set("pointer",b).set("number",u=>Number(u)).set("void",u=>{}).set("null",u=>u).set(null,E.get("null"));{const u=["i8","i16","i32","int","f32","float","f64","double"];t.bigIntEnabled&&u.push("i64");const f=T.get(i);for(const x of u)T.set(x+"*",f),E.set(x+"*",f),E.set(x,T.get(x)||s("Missing arg converter:",x))}const F=function(u){return typeof u=="string"?t.scopedAllocCString(u):u?b(u):null};T.set("string",F).set("utf8",F).set("pointer",F),E.set("string",u=>t.cstrToJs(u)).set("utf8",E.get("string")).set("string:dealloc",u=>{try{return u?t.cstrToJs(u):null}finally{t.dealloc(u)}}).set("utf8:dealloc",E.get("string:dealloc")).set("json",u=>JSON.parse(t.cstrToJs(u))).set("json:dealloc",u=>{try{return u?JSON.parse(t.cstrToJs(u)):null}finally{t.dealloc(u)}});const N=class{constructor(u){this.name=u.name||"unnamed adapter"}convertArg(u,f,x){s("AbstractArgAdapter must be subclassed.")}};T.FuncPtrAdapter=class Ie extends N{constructor(f){super(f),T.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",f),this.name=f.name||"unnamed",this.signature=f.signature,f.contextKey instanceof Function&&(this.contextKey=f.contextKey,f.bindScope||(f.bindScope="context")),this.bindScope=f.bindScope||s("FuncPtrAdapter options requires a bindScope (explicit or implied)."),Ie.bindScopes.indexOf(f.bindScope)<0&&s("Invalid options.bindScope ("+f.bindMod+") for FuncPtrAdapter. Expecting one of: ("+Ie.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=f.callProxy instanceof Function?f.callProxy:void 0}contextKey(f,x){return this}contextMap(f){const x=this.__cmap||(this.__cmap=new Map);let L=x.get(f);return L===void 0&&x.set(f,L=[]),L}convertArg(f,x,L){let D=this.singleton;if(!D&&this.isContext&&(D=this.contextMap(this.contextKey(x,L))),D&&D[0]===f)return D[1];if(f instanceof Function){this.callProxy&&(f=this.callProxy(f));const d=h(f,this.signature,this.isTransient);if(Ie.debugFuncInstall&&Ie.debugOut("FuncPtrAdapter installed",this,this.contextKey(x,L),"@"+d,f),D){if(D[1]){Ie.debugFuncInstall&&Ie.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(x,L),"@"+D[1],f);try{n.scopedAlloc[n.scopedAlloc.length-1].push(D[1])}catch{}}D[0]=f,D[1]=d}return d}else if(t.isPtr(f)||f===null||f===void 0){if(D&&D[1]&&D[1]!==f){Ie.debugFuncInstall&&Ie.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(x,L),"@"+D[1],f);try{n.scopedAlloc[n.scopedAlloc.length-1].push(D[1])}catch{}D[0]=D[1]=f|0}return f||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},T.FuncPtrAdapter.warnOnUse=!1,T.FuncPtrAdapter.debugFuncInstall=!1,T.FuncPtrAdapter.debugOut=console.debug.bind(console),T.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const M=u=>T.get(u)||s("Argument adapter not found:",u),y=u=>E.get(u)||s("Result adapter not found:",u);n.xWrap.convertArg=(u,...f)=>M(u)(...f),n.xWrap.convertArgNoCheck=(u,...f)=>T.get(u)(...f),n.xWrap.convertResult=(u,f)=>u===null?f:u?y(u)(f):void 0,n.xWrap.convertResultNoCheck=(u,f)=>u===null?f:u?E.get(u)(f):void 0,t.xWrap=function(u,f,...x){arguments.length===3&&Array.isArray(arguments[2])&&(x=arguments[2]),t.isPtr(u)&&(u=t.functionEntry(u)||s("Function pointer not found in WASM function table."));const L=u instanceof Function,D=L?u:t.xGet(u);if(L&&(u=D.name||"unnamed function"),x.length!==D.length&&I(u,D.length),f===null&&D.length===0)return D;f!=null&&y(f);for(const a of x)a instanceof N?T.set(a,(...c)=>a.convertArg(...c)):M(a);const d=n.xWrap;return D.length===0?(...a)=>a.length?I(u,D.length):d.convertResult(f,D.call(null)):function(...a){a.length!==D.length&&I(u,D.length);const c=t.scopedAllocPush();try{let _=0;for(;_<a.length;++_)a[_]=d.convertArgNoCheck(x[_],a[_],a,_);return d.convertResultNoCheck(f,D.apply(null,a))}finally{t.scopedAllocPop(c)}}};const j=function(u,f,x,L,D,d){if(typeof x=="string"){if(f===1)return d.get(x);if(f===2){if(L)L instanceof Function||s(D,"requires a function argument.");else return d.delete(x),u;return d.set(x,L),u}}s("Invalid arguments to",D)};return t.xWrap.resultAdapter=function u(f,x){return j(u,arguments.length,f,x,"resultAdapter()",E)},t.xWrap.argAdapter=function u(f,x){return j(u,arguments.length,f,x,"argAdapter()",T)},t.xWrap.FuncPtrAdapter=T.FuncPtrAdapter,t.xCallWrapped=function(u,f,x,...L){return Array.isArray(arguments[3])&&(L=arguments[3]),t.xWrap(u,f,x||[]).apply(null,L||[])},t.xWrap.testConvertArg=n.xWrap.convertArg,t.xWrap.testConvertResult=n.xWrap.convertResult,t},globalThis.WhWasmUtilInstaller.yawl=function(t){const s=()=>fetch(t.uri,{credentials:"same-origin"}),i=this,r=function(p){if(t.wasmUtilTarget){const h=(...R)=>{throw new Error(R.join(" "))},P=t.wasmUtilTarget;if(P.module=p.module,P.instance=p.instance,P.instance.exports.memory||(P.memory=t.imports&&t.imports.env&&t.imports.env.memory||h("Missing 'memory' object!")),!P.alloc&&p.instance.exports.malloc){const R=p.instance.exports;P.alloc=function(W){return R.malloc(W)||h("Allocation of",W,"bytes failed.")},P.dealloc=function(W){R.free(W)}}i(P)}return t.onload&&t.onload(p,t),p};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(s(),t.imports||{}).then(r)}:function(){return s().then(h=>h.arrayBuffer()).then(h=>WebAssembly.instantiate(h,t.imports||{})).then(r)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function t(s){const i=(...k)=>{throw new Error(k.join(" "))};!(s.heap instanceof WebAssembly.Memory)&&!(s.heap instanceof Function)&&i("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(k){s[k]instanceof Function||i("Config option '"+k+"' must be a function.")});const r=t,n=s.heap instanceof Function?s.heap:()=>new Uint8Array(s.heap.buffer),p=s.alloc,h=s.dealloc,P=s.log||console.log.bind(console),R=s.memberPrefix||"",W=s.memberSuffix||"",z=s.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!s.bigIntEnabled,G=globalThis.BigInt,A=globalThis.BigInt64Array,I=s.ptrSizeof||4,T=s.ptrIR||"i32";r.debugFlags||(r.__makeDebugFlags=function(k=null){k&&k.__flags&&(k=k.__flags);const $=function K(X){return arguments.length===0?K.__flags:(X<0?(delete K.__flags.getter,delete K.__flags.setter,delete K.__flags.alloc,delete K.__flags.dealloc):(K.__flags.getter=(1&X)!==0,K.__flags.setter=(2&X)!==0,K.__flags.alloc=(4&X)!==0,K.__flags.dealloc=(8&X)!==0),K._flags)};return Object.defineProperty($,"__flags",{iterable:!1,writable:!1,value:Object.create(k)}),k||$(0),$},r.debugFlags=r.__makeDebugFlags());const E=function(){const k=new ArrayBuffer(2);return new DataView(k).setInt16(0,256,!0),new Int16Array(k)[0]===256}(),b=k=>k[1]==="(",F=k=>k==="p"||k==="P",N=k=>k==="P",M=k=>b(k)?"p":k[0],y=function(k){switch(M(k)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return T;case"j":return"i64";case"f":return"float";case"d":return"double"}i("Unhandled signature IR:",k)},j=A?()=>!0:()=>i("BigInt64Array is not available."),u=function(k){switch(M(k)){case"p":case"P":case"s":{switch(I){case 4:return"getInt32";case 8:return j()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return j()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}i("Unhandled DataView getter for signature:",k)},f=function(k){switch(M(k)){case"p":case"P":case"s":{switch(I){case 4:return"setInt32";case 8:return j()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return j()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}i("Unhandled DataView setter for signature:",k)},x=function(k){switch(M(k)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return j()&&G;case"p":case"P":case"s":switch(I){case 4:return Number;case 8:return j()&&G}break}i("Unhandled DataView set wrapper for signature:",k)},L=(k,$)=>k+"::"+$,D=function(k,$){return()=>i(L(k,$),"is read-only.")},d=new WeakMap,a="(pointer-is-external)",c=function(k,$,K){if(K||(K=d.get($)),K){if(d.delete($),Array.isArray($.ondispose)){let X;for(;X=$.ondispose.shift();)try{X instanceof Function?X.call($):X instanceof se?X.dispose():typeof X=="number"&&h(X)}catch(_e){console.warn("ondispose() for",k.structName,"@",K,"threw. NOT propagating it.",_e)}}else if($.ondispose instanceof Function)try{$.ondispose()}catch(X){console.warn("ondispose() for",k.structName,"@",K,"threw. NOT propagating it.",X)}delete $.ondispose,k.debugFlags.__flags.dealloc&&P("debug.dealloc:",$[a]?"EXTERNAL":"",k.structName,"instance:",k.structInfo.sizeof,"bytes @"+K),$[a]||h(K)}},_=k=>({configurable:!1,writable:!1,iterable:!1,value:k}),g=function(k,$,K){let X=!K;K?Object.defineProperty($,a,_(K)):(K=p(k.structInfo.sizeof),K||i("Allocation of",k.structName,"structure failed."));try{k.debugFlags.__flags.alloc&&P("debug.alloc:",X?"":"EXTERNAL",k.structName,"instance:",k.structInfo.sizeof,"bytes @"+K),X&&n().fill(0,K,K+k.structInfo.sizeof),d.set($,K)}catch(_e){throw c(k,$,K),_e}},B=function(){const k=this.pointer;return k?new Uint8Array(n().slice(k,k+this.structInfo.sizeof)):null},te=_(k=>R+k+W),Z=function(k,$,K=!0){let X=k.members[$];if(!X&&(R||W)){for(const _e of Object.values(k.members))if(_e.key===$){X=_e;break}!X&&K&&i(L(k.name,$),"is not a mapped struct member.")}return X},re=function k($,K,X=!1){k._||(k._=fe=>fe.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const _e=Z($.structInfo,K,!0);return X?k._(_e.signature):_e.signature},ae={configurable:!1,enumerable:!1,get:function(){return d.get(this)},set:()=>i("Cannot assign the 'pointer' property of a struct.")},oe=_(function(){const k=[];for(const $ of Object.keys(this.structInfo.members))k.push(this.memberKey($));return k}),H=new TextDecoder("utf-8"),w=new TextEncoder,C=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Q=function(k,$,K){return H.decode(k.buffer instanceof C?k.slice($,K):k.subarray($,K))},q=function(k,$,K=!1){const X=Z(k.structInfo,$,K);return X&&X.signature.length===1&&X.signature[0]==="s"?X:!1},S=function(k){k.signature!=="s"&&i("Invalid member type signature for C-string value:",JSON.stringify(k))},O=function($,K){const X=Z($.structInfo,K,!0);S(X);const _e=$[X.key];if(!_e)return null;let fe=_e;const ue=n();for(;ue[fe]!==0;++fe);return _e===fe?"":Q(ue,_e,fe)},V=function(k,...$){k.ondispose?Array.isArray(k.ondispose)||(k.ondispose=[k.ondispose]):k.ondispose=[],k.ondispose.push(...$)},U=function(k){const $=w.encode(k),K=p($.length+1);K||i("Allocation error while duplicating string:",k);const X=n();return X.set($,K),X[K+$.length]=0,K},ee=function(k,$,K){const X=Z(k.structInfo,$,!0);S(X);const _e=U(K);return k[X.key]=_e,V(k,_e),k},se=function($,K){arguments[2]!==_&&i("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:_($),structInfo:_(K)})};se.prototype=Object.create(null,{dispose:_(function(){c(this.constructor,this)}),lookupMember:_(function(k,$=!0){return Z(this.structInfo,k,$)}),memberToJsString:_(function(k){return O(this,k)}),memberIsString:_(function(k,$=!0){return q(this,k,$)}),memberKey:te,memberKeys:oe,memberSignature:_(function(k,$=!1){return re(this,k,$)}),memoryDump:_(B),pointer:ae,setMemberCString:_(function(k,$){return ee(this,k,$)})}),Object.assign(se.prototype,{addOnDispose:function(...k){return V(this,...k),this}}),Object.defineProperties(se,{allocCString:_(U),isA:_(k=>k instanceof se),hasExternalPointer:_(k=>k instanceof se&&!!k[a]),memberKey:te});const Y=k=>Number.isFinite(k)||k instanceof(G||Number),qe=function k($,K,X){if(!k._){k._={getters:{},setters:{},sw:{}};const ge=["i","c","C","p","P","s","f","d","v()"];z&&ge.push("j"),ge.forEach(function(Ee){k._.getters[Ee]=u(Ee),k._.setters[Ee]=f(Ee),k._.sw[Ee]=x(Ee)});const Ua=/^[ipPsjfdcC]$/,Wa=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;k.sigCheck=function(Ee,Qa,Nt,ft){Object.prototype.hasOwnProperty.call(Ee,Nt)&&i(Ee.structName,"already has a property named",Nt+"."),Ua.test(ft)||Wa.test(ft)||i("Malformed signature for",L(Ee.structName,Qa)+":",ft)}}const _e=$.memberKey(K);k.sigCheck($.prototype,K,_e,X.signature),X.key=_e,X.name=K;const fe=M(X.signature),ue=L($.prototype.structName,_e),de=$.prototype.debugFlags.__flags,Be=Object.create(null);Be.configurable=!1,Be.enumerable=!1,Be.get=function(){de.getter&&P("debug.getter:",k._.getters[fe],"for",y(fe),ue,"@",this.pointer,"+",X.offset,"sz",X.sizeof);let ge=new DataView(n().buffer,this.pointer+X.offset,X.sizeof)[k._.getters[fe]](0,E);return de.getter&&P("debug.getter:",ue,"result =",ge),ge},X.readOnly?Be.set=D($.prototype.structName,_e):Be.set=function(ge){if(de.setter&&P("debug.setter:",k._.setters[fe],"for",y(fe),ue,"@",this.pointer,"+",X.offset,"sz",X.sizeof,ge),this.pointer||i("Cannot set struct property on disposed instance."),ge===null)ge=0;else for(;!Y(ge);){if(N(X.signature)&&ge instanceof se){ge=ge.pointer||0,de.setter&&P("debug.setter:",ue,"resolved to",ge);break}i("Invalid value for pointer-type",ue+".")}new DataView(n().buffer,this.pointer+X.offset,X.sizeof)[k._.setters[fe]](0,k._.sw[fe](ge),E)},Object.defineProperty($.prototype,_e,Be)},me=function k($,K){arguments.length===1?(K=$,$=K.name):K.name||(K.name=$),$||i("Struct name is required.");let X=!1;Object.keys(K.members).forEach(ue=>{const de=K.members[ue];de.sizeof?de.sizeof===1?de.signature==="c"||de.signature==="C"||i("Unexpected sizeof==1 member",L(K.name,ue),"with signature",de.signature):(de.sizeof%4!==0&&(console.warn("Invalid struct member description =",de,"from",K),i($,"member",ue,"sizeof is not aligned. sizeof="+de.sizeof)),de.offset%4!==0&&(console.warn("Invalid struct member description =",de,"from",K),i($,"member",ue,"offset is not aligned. offset="+de.offset))):i($,"member",ue,"is missing sizeof."),(!X||X.offset<de.offset)&&(X=de)}),X?K.sizeof<X.offset+X.sizeof&&i("Invalid struct config:",$,"max member offset ("+X.offset+") ","extends past end of struct (sizeof="+K.sizeof+")."):i("No member property descriptions found.");const _e=_(r.__makeDebugFlags(k.debugFlags)),fe=function ue(de){this instanceof ue?arguments.length?((de!==(de|0)||de<=0)&&i("Invalid pointer value for",$,"constructor."),g(ue,this,de)):g(ue,this):i("The",$,"constructor may only be called via 'new'.")};return Object.defineProperties(fe,{debugFlags:_e,isA:_(ue=>ue instanceof fe),memberKey:te,memberKeys:oe,methodInfoForKey:_(function(ue){}),structInfo:_(K),structName:_($)}),fe.prototype=new se($,K,_),Object.defineProperties(fe.prototype,{debugFlags:_e,constructor:_(fe)}),Object.keys(K.members).forEach(ue=>qe(fe,ue,K.members[ue])),fe};return me.StructType=se,me.config=s,me.allocCString=U,me.debugFlags||(me.debugFlags=r.__makeDebugFlags(r.debugFlags)),me},globalThis.sqlite3ApiBootstrap.initializers.push(function(t){"use strict";const s=(...E)=>{throw new Error(E.join(" "))},i=t.SQLite3Error.toss,r=t.capi,n=t.wasm,p=t.util;if(globalThis.WhWasmUtilInstaller(n),delete globalThis.WhWasmUtilInstaller,n.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_parameter_name","string","sqlite3_stmt*","int"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new n.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(E,b)=>E[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_decltype","string","sqlite3_stmt*","int"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new n.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:E=>E[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_readonly","int","sqlite3*","string"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new n.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:E=>{let b;return(F,N,M,y)=>{try{const j=n.cArgvToJs(N,M);return b||(b=n.cArgvToJs(N,y)),E(j,b)|0}catch(j){return j.resultCode||r.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_autocommit","int","sqlite3*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_interrupt",void 0,"sqlite3*"],["sqlite3_is_interrupted","int","sqlite3*"],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new n.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:E=>E[0]}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*","*"]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_busy","int","sqlite3_stmt*"],["sqlite3_stmt_readonly","int","sqlite3_stmt*"],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new n.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(E,b)=>E[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],n.exports.sqlite3_progress_handler&&n.bindingSignatures.push(["sqlite3_progress_handler",void 0,["sqlite3*","int",new n.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(E,b)=>E[0]}),"*"]]),n.exports.sqlite3_stmt_explain&&n.bindingSignatures.push(["sqlite3_stmt_explain","int","sqlite3_stmt*","int"],["sqlite3_stmt_isexplain","int","sqlite3_stmt*"]),n.exports.sqlite3_set_authorizer&&n.bindingSignatures.push(["sqlite3_set_authorizer","int",["sqlite3*",new n.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(E,b)=>E[0],callProxy:E=>(b,F,N,M,y,j)=>{try{return N=N&&n.cstrToJs(N),M=M&&n.cstrToJs(M),y=y&&n.cstrToJs(y),j=j&&n.cstrToJs(j),E(b,F,N,M,y,j)||0}catch(u){return u.resultCode||r.SQLITE_ERROR}}}),"*"]]),n.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new n.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:E=>E[0],callProxy:E=>(b,F,N,M,y)=>{E(b,F,n.cstrToJs(N),n.cstrToJs(M),y)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"]],n.bigIntEnabled&&n.exports.sqlite3_declare_vtab&&n.bindingSignatures.int64.push(["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]),n.bigIntEnabled&&n.exports.sqlite3_preupdate_hook&&n.bindingSignatures.int64.push(["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new n.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:E=>E[0],callProxy:E=>(b,F,N,M,y,j,u)=>{E(b,F,N,n.cstrToJs(M),n.cstrToJs(y),j,u)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]]),n.bigIntEnabled&&n.exports.sqlite3changegroup_add&&n.exports.sqlite3session_create&&n.exports.sqlite3_preupdate_hook){const E={signature:"i(ps)",callProxy:b=>(F,N)=>{try{return b(F,n.cstrToJs(N))|0}catch(M){return M.resultCode||r.SQLITE_ERROR}}};n.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new n.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new n.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new n.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...E}),new n.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new n.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new n.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...E}),new n.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new n.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...E}),new n.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new n.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new n.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...E}),new n.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new n.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new n.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new n.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new n.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new n.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new n.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new n.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new n.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new n.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new n.xWrap.FuncPtrAdapter({name:"xFilter",...E,contextKey:(b,F)=>b[0]}),"*"]])}n.bindingSignatures.wasmInternal=[["sqlite3__wasm_db_reset","int","sqlite3*"],["sqlite3__wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3__wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3__wasm_posix_create_file","int","string","*","int"],["sqlite3__wasm_vfs_unlink","int","sqlite3_vfs*","string"],["sqlite3__wasm_qfmt_token","string:dealloc","string","int"]],t.StructBinder=globalThis.Jaccwabyt({heap:n.heap8u,alloc:n.alloc,dealloc:n.dealloc,bigIntEnabled:n.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const E=n.xWrap.argAdapter("string");n.xWrap.argAdapter("string:flexible",y=>E(p.flexibleString(y))),n.xWrap.argAdapter("string:static",function(y){return n.isPtr(y)?y:(y=""+y,this[y]||(this[y]=n.allocCString(y)))}.bind(Object.create(null)));const b=n.xWrap.argAdapter("*"),F=function(){};n.xWrap.argAdapter("sqlite3_filename",b)("sqlite3_context*",b)("sqlite3_value*",b)("void*",b)("sqlite3_changegroup*",b)("sqlite3_changeset_iter*",b)("sqlite3_session*",b)("sqlite3_stmt*",y=>b(y instanceof(t?.oo1?.Stmt||F)?y.pointer:y))("sqlite3*",y=>b(y instanceof(t?.oo1?.DB||F)?y.pointer:y))("sqlite3_vfs*",y=>typeof y=="string"?r.sqlite3_vfs_find(y)||t.SQLite3Error.toss(r.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",y):b(y instanceof(r.sqlite3_vfs||F)?y.pointer:y)),n.exports.sqlite3_declare_vtab&&n.xWrap.argAdapter("sqlite3_index_info*",y=>b(y instanceof(r.sqlite3_index_info||F)?y.pointer:y))("sqlite3_module*",y=>b(y instanceof(r.sqlite3_module||F)?y.pointer:y));const N=n.xWrap.resultAdapter("*");n.xWrap.resultAdapter("sqlite3*",N)("sqlite3_context*",N)("sqlite3_stmt*",N)("sqlite3_value*",N)("sqlite3_vfs*",N)("void*",N),n.exports.sqlite3_step.length===0&&(n.xWrap.doArgcCheck=!1,t.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const y of n.bindingSignatures)r[y[0]]=n.xWrap.apply(null,y);for(const y of n.bindingSignatures.wasmInternal)p[y[0]]=n.xWrap.apply(null,y);const M=function(y){return()=>s(y+"() is unavailable due to lack","of BigInt support in this build.")};for(const y of n.bindingSignatures.int64)r[y[0]]=n.bigIntEnabled?n.xWrap.apply(null,y):M(y[0]);if(delete n.bindingSignatures,n.exports.sqlite3__wasm_db_error){const y=n.xWrap("sqlite3__wasm_db_error","int","sqlite3*","int","string");p.sqlite3__wasm_db_error=function(j,u,f){return u instanceof t.WasmAllocError?(u=r.SQLITE_NOMEM,f=0):u instanceof Error&&(f=f||""+u,u=u.resultCode||r.SQLITE_ERROR),j?y(j,u,f):u}}else p.sqlite3__wasm_db_error=function(y,j,u){return console.warn("sqlite3__wasm_db_error() is not exported.",arguments),j}}{const E=n.xCall("sqlite3__wasm_enum_json");E||s("Maintenance required: increase sqlite3__wasm_enum_json()'s","static buffer size!"),n.ctype=JSON.parse(n.cstrToJs(E));const b=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];n.bigIntEnabled&&b.push("serialize","session","vtab");for(const M of b)for(const y of Object.entries(n.ctype[M]))r[y[0]]=y[1];n.functionEntry(r.SQLITE_WASM_DEALLOC)||s("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+r.SQLITE_WASM_DEALLOC+").");const F=Object.create(null);for(const M of["resultCodes"])for(const y of Object.entries(n.ctype[M]))F[y[1]]=y[0];r.sqlite3_js_rc_str=M=>F[M];const N=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!p.isUIThread(),sqlite3_index_info:!n.bigIntEnabled,sqlite3_index_constraint:!n.bigIntEnabled,sqlite3_index_orderby:!n.bigIntEnabled,sqlite3_index_constraint_usage:!n.bigIntEnabled});for(const M of n.ctype.structs)N[M.name]||(r[M.name]=t.StructBinder(M));if(r.sqlite3_index_info){for(const M of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])r.sqlite3_index_info[M]=r[M],delete r[M];r.sqlite3_vtab_config=n.xWrap("sqlite3__wasm_vtab_config","int",["sqlite3*","int","int"])}}const h=(E,b,F)=>p.sqlite3__wasm_db_error(E,r.SQLITE_MISUSE,b+"() requires "+F+" argument"+(F===1?"":"s")+"."),P=E=>p.sqlite3__wasm_db_error(E,r.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),R=E=>n.xWrap.argAdapter("sqlite3*")(E),W=E=>n.isPtr(E)?n.cstrToJs(E):E,z=function(E,b){E=R(E);let F=this.dbMap.get(E);if(b)!F&&b>0&&this.dbMap.set(E,F=Object.create(null));else return this.dbMap.delete(E),F;return F}.bind(Object.assign(Object.create(null),{dbMap:new Map}));z.addCollation=function(E,b){const F=z(E,1);F.collation||(F.collation=new Set),F.collation.add(W(b).toLowerCase())},z._addUDF=function(E,b,F,N){b=W(b).toLowerCase();let M=N.get(b);M||N.set(b,M=new Set),M.add(F<0?-1:F)},z.addFunction=function(E,b,F){const N=z(E,1);N.udf||(N.udf=new Map),this._addUDF(E,b,F,N.udf)},n.exports.sqlite3_create_window_function&&(z.addWindowFunc=function(E,b,F){const N=z(E,1);N.wudf||(N.wudf=new Map),this._addUDF(E,b,F,N.wudf)}),z.cleanup=function(E){E=R(E);const b=[E];for(const M of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const y=n.exports[M];if(y){b.length=y.length;try{r[M](...b)}catch(j){t.config.warn("close-time call of",M+"(",b,") threw:",j)}}}const F=z(E,0);if(!F)return;if(F.collation){for(const M of F.collation)try{r.sqlite3_create_collation_v2(E,M,r.SQLITE_UTF8,0,0,0)}catch{}delete F.collation}let N;for(N=0;N<2;++N){const M=N?F.wudf:F.udf;if(!M)continue;const y=N?r.sqlite3_create_window_function:r.sqlite3_create_function_v2;for(const j of M){const u=j[0],f=j[1],x=[E,u,0,r.SQLITE_UTF8,0,0,0,0,0];N&&x.push(0);for(const L of f)try{x[2]=L,y.apply(null,x)}catch{}f.clear()}M.clear()}delete F.udf,delete F.wudf};{const E=n.xWrap("sqlite3_close_v2","int","sqlite3*");r.sqlite3_close_v2=function(b){if(arguments.length!==1)return h(b,"sqlite3_close_v2",1);if(b)try{z.cleanup(b)}catch{}return E(b)}}if(r.sqlite3session_create){const E=n.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);r.sqlite3session_delete=function(b){if(arguments.length!==1)return h(pDb,"sqlite3session_delete",1);b&&r.sqlite3session_table_filter(b,0,0),E(b)}}{const E=(F,N)=>"argv["+N+"]:"+F[0]+":"+n.cstrToJs(F[1]).toLowerCase(),b=n.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new n.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:E}),new n.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:E})]);r.sqlite3_create_collation_v2=function(F,N,M,y,j,u){if(arguments.length!==6)return h(F,"sqlite3_create_collation_v2",6);if((M&15)===0)M|=r.SQLITE_UTF8;else if(r.SQLITE_UTF8!==(M&15))return P(F);try{const f=b(F,N,M,y,j,u);return f===0&&j instanceof Function&&z.addCollation(F,N),f}catch(f){return p.sqlite3__wasm_db_error(F,f)}},r.sqlite3_create_collation=(F,N,M,y,j)=>arguments.length===5?r.sqlite3_create_collation_v2(F,N,M,y,j,0):h(F,"sqlite3_create_collation",5)}{const E=function(M,y){return M[0]+":"+(M[2]<0?-1:M[2])+":"+y+":"+n.cstrToJs(M[1]).toLowerCase()},b=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:E,callProxy:M=>(y,j,u)=>{try{M(y,...r.sqlite3_values_to_js(j,u))}catch(f){r.sqlite3_result_error_js(y,f)}}},xFinalAndValue:{signature:"v(p)",contextKey:E,callProxy:M=>y=>{try{r.sqlite3_result_js(y,M(y))}catch(j){r.sqlite3_result_error_js(y,j)}}},xFunc:{signature:"v(pip)",contextKey:E,callProxy:M=>(y,j,u)=>{try{r.sqlite3_result_js(y,M(y,...r.sqlite3_values_to_js(j,u)))}catch(f){r.sqlite3_result_error_js(y,f)}}},xDestroy:{signature:"v(p)",contextKey:E,callProxy:M=>y=>{try{M(y)}catch(j){console.error("UDF xDestroy method threw:",j)}}}}),F=n.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new n.xWrap.FuncPtrAdapter({name:"xFunc",...b.xFunc}),new n.xWrap.FuncPtrAdapter({name:"xStep",...b.xInverseAndStep}),new n.xWrap.FuncPtrAdapter({name:"xFinal",...b.xFinalAndValue}),new n.xWrap.FuncPtrAdapter({name:"xDestroy",...b.xDestroy})]),N=n.exports.sqlite3_create_window_function?n.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new n.xWrap.FuncPtrAdapter({name:"xStep",...b.xInverseAndStep}),new n.xWrap.FuncPtrAdapter({name:"xFinal",...b.xFinalAndValue}),new n.xWrap.FuncPtrAdapter({name:"xValue",...b.xFinalAndValue}),new n.xWrap.FuncPtrAdapter({name:"xInverse",...b.xInverseAndStep}),new n.xWrap.FuncPtrAdapter({name:"xDestroy",...b.xDestroy})]):void 0;r.sqlite3_create_function_v2=function M(y,j,u,f,x,L,D,d,a){if(M.length!==arguments.length)return h(y,"sqlite3_create_function_v2",M.length);if((f&15)===0)f|=r.SQLITE_UTF8;else if(r.SQLITE_UTF8!==(f&15))return P(y);try{const c=F(y,j,u,f,x,L,D,d,a);return c===0&&(L instanceof Function||D instanceof Function||d instanceof Function||a instanceof Function)&&z.addFunction(y,j,u),c}catch(c){return console.error("sqlite3_create_function_v2() setup threw:",c),p.sqlite3__wasm_db_error(y,c,"Creation of UDF threw: "+c)}},r.sqlite3_create_function=function M(y,j,u,f,x,L,D,d){return M.length===arguments.length?r.sqlite3_create_function_v2(y,j,u,f,x,L,D,d,0):h(y,"sqlite3_create_function",M.length)},N?r.sqlite3_create_window_function=function M(y,j,u,f,x,L,D,d,a,c){if(M.length!==arguments.length)return h(y,"sqlite3_create_window_function",M.length);if((f&15)===0)f|=r.SQLITE_UTF8;else if(r.SQLITE_UTF8!==(f&15))return P(y);try{const _=N(y,j,u,f,x,L,D,d,a,c);return _===0&&(L instanceof Function||D instanceof Function||d instanceof Function||a instanceof Function||c instanceof Function)&&z.addWindowFunc(y,j,u),_}catch(_){return console.error("sqlite3_create_window_function() setup threw:",_),p.sqlite3__wasm_db_error(y,_,"Creation of UDF threw: "+_)}}:delete r.sqlite3_create_window_function,r.sqlite3_create_function_v2.udfSetResult=r.sqlite3_create_function.udfSetResult=r.sqlite3_result_js,r.sqlite3_create_window_function&&(r.sqlite3_create_window_function.udfSetResult=r.sqlite3_result_js),r.sqlite3_create_function_v2.udfConvertArgs=r.sqlite3_create_function.udfConvertArgs=r.sqlite3_values_to_js,r.sqlite3_create_window_function&&(r.sqlite3_create_window_function.udfConvertArgs=r.sqlite3_values_to_js),r.sqlite3_create_function_v2.udfSetError=r.sqlite3_create_function.udfSetError=r.sqlite3_result_error_js,r.sqlite3_create_window_function&&(r.sqlite3_create_window_function.udfSetError=r.sqlite3_result_error_js)}{const E=(F,N)=>(typeof F=="string"?N=-1:p.isSQLableTypedArray(F)?(N=F.byteLength,F=p.typedArrayToString(F instanceof ArrayBuffer?new Uint8Array(F):F)):Array.isArray(F)&&(F=F.join(""),N=-1),[F,N]),b={basic:n.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:n.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};r.sqlite3_prepare_v3=function F(N,M,y,j,u,f){if(F.length!==arguments.length)return h(N,"sqlite3_prepare_v3",F.length);const[x,L]=E(M,y);switch(typeof x){case"string":return b.basic(N,x,L,j,u,null);case"number":return b.full(N,x,L,j,u,f);default:return p.sqlite3__wasm_db_error(N,r.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},r.sqlite3_prepare_v2=function F(N,M,y,j,u){return F.length===arguments.length?r.sqlite3_prepare_v3(N,M,y,0,j,u):h(N,"sqlite3_prepare_v2",F.length)}}{const E=n.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),b=n.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);r.sqlite3_bind_text=function F(N,M,y,j,u){if(F.length!==arguments.length)return h(r.sqlite3_db_handle(N),"sqlite3_bind_text",F.length);if(n.isPtr(y)||y===null)return E(N,M,y,j,u);y instanceof ArrayBuffer?y=new Uint8Array(y):Array.isArray(pMem)&&(y=pMem.join(""));let f,x;try{if(p.isSQLableTypedArray(y))f=n.allocFromTypedArray(y),x=y.byteLength;else if(typeof y=="string")[f,x]=n.allocCString(y);else return p.sqlite3__wasm_db_error(r.sqlite3_db_handle(N),r.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return E(N,M,f,x,r.SQLITE_WASM_DEALLOC)}catch(L){return n.dealloc(f),p.sqlite3__wasm_db_error(r.sqlite3_db_handle(N),L)}},r.sqlite3_bind_blob=function F(N,M,y,j,u){if(F.length!==arguments.length)return h(r.sqlite3_db_handle(N),"sqlite3_bind_blob",F.length);if(n.isPtr(y)||y===null)return b(N,M,y,j,u);y instanceof ArrayBuffer?y=new Uint8Array(y):Array.isArray(y)&&(y=y.join(""));let f,x;try{if(p.isBindableTypedArray(y))f=n.allocFromTypedArray(y),x=j>=0?j:y.byteLength;else if(typeof y=="string")[f,x]=n.allocCString(y);else return p.sqlite3__wasm_db_error(r.sqlite3_db_handle(N),r.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return b(N,M,f,x,r.SQLITE_WASM_DEALLOC)}catch(L){return n.dealloc(f),p.sqlite3__wasm_db_error(r.sqlite3_db_handle(N),L)}}}r.sqlite3_config=function(E,...b){if(arguments.length<2)return r.SQLITE_MISUSE;switch(E){case r.SQLITE_CONFIG_COVERING_INDEX_SCAN:case r.SQLITE_CONFIG_MEMSTATUS:case r.SQLITE_CONFIG_SMALL_MALLOC:case r.SQLITE_CONFIG_SORTERREF_SIZE:case r.SQLITE_CONFIG_STMTJRNL_SPILL:case r.SQLITE_CONFIG_URI:return n.exports.sqlite3__wasm_config_i(E,b[0]);case r.SQLITE_CONFIG_LOOKASIDE:return n.exports.sqlite3__wasm_config_ii(E,b[0],b[1]);case r.SQLITE_CONFIG_MEMDB_MAXSIZE:return n.exports.sqlite3__wasm_config_j(E,b[0]);case r.SQLITE_CONFIG_GETMALLOC:case r.SQLITE_CONFIG_GETMUTEX:case r.SQLITE_CONFIG_GETPCACHE2:case r.SQLITE_CONFIG_GETPCACHE:case r.SQLITE_CONFIG_HEAP:case r.SQLITE_CONFIG_LOG:case r.SQLITE_CONFIG_MALLOC:case r.SQLITE_CONFIG_MMAP_SIZE:case r.SQLITE_CONFIG_MULTITHREAD:case r.SQLITE_CONFIG_MUTEX:case r.SQLITE_CONFIG_PAGECACHE:case r.SQLITE_CONFIG_PCACHE2:case r.SQLITE_CONFIG_PCACHE:case r.SQLITE_CONFIG_PCACHE_HDRSZ:case r.SQLITE_CONFIG_PMASZ:case r.SQLITE_CONFIG_SERIALIZED:case r.SQLITE_CONFIG_SINGLETHREAD:case r.SQLITE_CONFIG_SQLLOG:case r.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return r.SQLITE_NOTFOUND}};{const E=new Set;r.sqlite3_auto_extension=function(b){if(b instanceof Function)b=n.installFunction("i(ppp)",b);else if(arguments.length!==1||!n.isPtr(b))return r.SQLITE_MISUSE;const F=n.exports.sqlite3_auto_extension(b);return b!==arguments[0]&&(F===0?E.add(b):n.uninstallFunction(b)),F},r.sqlite3_cancel_auto_extension=function(b){return!b||arguments.length!==1||!n.isPtr(b)?0:n.exports.sqlite3_cancel_auto_extension(b)},r.sqlite3_reset_auto_extension=function(){n.exports.sqlite3_reset_auto_extension();for(const b of E)n.uninstallFunction(b);E.clear()}}const G=r.sqlite3_vfs_find("kvvfs");if(G)if(p.isUIThread()){const E=new r.sqlite3_kvvfs_methods(n.exports.sqlite3__wasm_kvvfs_methods());delete r.sqlite3_kvvfs_methods;const b=n.exports.sqlite3__wasm_kvvfsMakeKeyOnPstack,F=n.pstack,N=y=>n.peek(y)===115?sessionStorage:localStorage,M={xRead:(y,j,u,f)=>{const x=F.pointer,L=n.scopedAllocPush();try{const D=b(y,j);if(!D)return-3;const d=n.cstrToJs(D),a=N(y).getItem(d);if(!a)return-1;const c=a.length;if(f<=0)return c;if(f===1)return n.poke(u,0),c;const _=n.scopedAllocCString(a);return f>c+1&&(f=c+1),n.heap8u().copyWithin(u,_,_+f-1),n.poke(u+f-1,0),f-1}catch(D){return console.error("kvstorageRead()",D),-2}finally{F.restore(x),n.scopedAllocPop(L)}},xWrite:(y,j,u)=>{const f=F.pointer;try{const x=b(y,j);if(!x)return 1;const L=n.cstrToJs(x);return N(y).setItem(L,n.cstrToJs(u)),0}catch(x){return console.error("kvstorageWrite()",x),r.SQLITE_IOERR}finally{F.restore(f)}},xDelete:(y,j)=>{const u=F.pointer;try{const f=b(y,j);return f?(N(y).removeItem(n.cstrToJs(f)),0):1}catch(f){return console.error("kvstorageDelete()",f),r.SQLITE_IOERR}finally{F.restore(u)}}};for(const y of Object.keys(M))E[E.memberKey(y)]=n.installFunction(E.memberSignature(y),M[y])}else r.sqlite3_vfs_unregister(G);n.xWrap.FuncPtrAdapter.warnOnUse=!0;const A=t.StructBinder,I=function E(b,F,N,M=E.installMethodArgcCheck){if(b instanceof A.StructType?!(N instanceof Function)&&!n.isPtr(N)&&s("Usage error: expecting a Function or WASM pointer to one."):s("Usage error: target object is-not-a StructType."),arguments.length===1)return(f,x)=>E(b,f,x,M);E.argcProxy||(E.argcProxy=function(f,x,L,D){return function(...d){return L.length!==arguments.length&&s("Argument mismatch for",f.structInfo.name+"::"+x+": Native signature is:",D),L.apply(this,d)}},E.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((f,x)=>{if(typeof f=="number")try{n.uninstallFunction(f)}catch{}}),delete this.ondispose.__removeFuncList)});const y=b.memberSignature(F);y.length<2&&s("Member",F,"does not have a function pointer signature:",y);const j=b.memberKey(F),u=M&&!n.isPtr(N)?E.argcProxy(b,j,N,y):N;if(n.isPtr(u))u&&!n.functionEntry(u)&&s("Pointer",u,"is not a WASM function table entry."),b[j]=u;else{const f=n.installFunction(u,b.memberSignature(F,!0));b[j]=f,(!b.ondispose||!b.ondispose.__removeFuncList)&&(b.addOnDispose("ondispose.__removeFuncList handler",E.removeFuncList),b.ondispose.__removeFuncList=[]),b.ondispose.__removeFuncList.push(j,f)}return(f,x)=>E(b,f,x,M)};I.installMethodArgcCheck=!1;const T=function(E,b,F=I.installMethodArgcCheck){const N=new Map;for(const M of Object.keys(b)){const y=b[M],j=N.get(y);if(j){const u=E.memberKey(M);E[u]=E[E.memberKey(j)]}else I(E,M,y,F),N.set(y,M)}return E};A.StructType.prototype.installMethod=function(b,F,N=I.installMethodArgcCheck){return arguments.length<3&&b&&typeof b=="object"?T(this,...arguments):I(this,...arguments)},A.StructType.prototype.installMethods=function(E,b=I.installMethodArgcCheck){return T(this,E,b)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){t.version={libVersion:"3.50.1",libVersionNumber:3050001,sourceId:"2025-06-06 14:52:32 b77dc5e0f596d2140d9ac682b2893ff65d3a4140aa86067a3efebe29dc914c95",downloadVersion:3500100}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){const s=(...d)=>{throw new Error(d.join(" "))},i=(...d)=>{throw new t.SQLite3Error(...d)},r=t.capi,n=t.wasm,p=t.util,h=new WeakMap,P=new WeakMap,R=(d,a,c)=>{const _=Object.getOwnPropertyDescriptor(d,a);return _?_.value:c},W=function(d,a){return a&&(d instanceof I&&(d=d.pointer),i(a,"sqlite3 result code",a+":",d?r.sqlite3_errmsg(d):r.sqlite3_errstr(a))),arguments[0]},z=n.installFunction("i(ippp)",function(d,a,c,_){r.SQLITE_TRACE_STMT===d&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+a+":",n.cstrToJs(_))}.bind({counter:0})),G=Object.create(null),A=function d(...a){if(!d._name2vfs){d._name2vfs=Object.create(null);const oe=typeof importScripts=="function"?H=>i("The VFS for",H,"is only available in the main window thread."):!1;d._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:oe||(()=>"local")},d._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:oe||(()=>"session")}}const c=d.normalizeArgs(...a);let _=c.filename,g=c.vfs,B=c.flags;(typeof _!="string"&&typeof _!="number"||typeof B!="string"||g&&typeof g!="string"&&typeof g!="number")&&(t.config.error("Invalid DB ctor args",c,arguments),i("Invalid arguments for DB constructor."));let J=typeof _=="number"?n.cstrToJs(_):_;const te=d._name2vfs[J];te&&(g=te.vfs,_=J=te.filename(J));let Z,re=0;B.indexOf("c")>=0&&(re|=r.SQLITE_OPEN_CREATE|r.SQLITE_OPEN_READWRITE),B.indexOf("w")>=0&&(re|=r.SQLITE_OPEN_READWRITE),re===0&&(re|=r.SQLITE_OPEN_READONLY),re|=r.SQLITE_OPEN_EXRESCODE;const ae=n.pstack.pointer;try{const oe=n.pstack.allocPtr();let H=r.sqlite3_open_v2(_,oe,re,g||0);Z=n.peekPtr(oe),W(Z,H),r.sqlite3_extended_result_codes(Z,1),B.indexOf("t")>=0&&r.sqlite3_trace_v2(Z,r.SQLITE_TRACE_STMT,z,Z)}catch(oe){throw Z&&r.sqlite3_close_v2(Z),oe}finally{n.pstack.restore(ae)}this.filename=J,h.set(this,Z),P.set(this,Object.create(null));try{const oe=r.sqlite3_js_db_vfs(Z)||i("Internal error: cannot get VFS for new db handle."),H=G[oe];H&&(H instanceof Function?H(this,t):W(Z,r.sqlite3_exec(Z,H,0,0,0)))}catch(oe){throw this.close(),oe}};A.setVfsPostOpenCallback=function(d,a){a instanceof Function||i("dbCtorHelper.setVfsPostOpenCallback() should not be used with a non-function argument.",arguments),G[d]=a},A.normalizeArgs=function(d=":memory:",a="c",c=null){const _={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(_,arguments[0]),_.flags===void 0&&(_.flags="c"),_.vfs===void 0&&(_.vfs=null),_.filename===void 0&&(_.filename=":memory:")):(_.filename=d,_.flags=a,_.vfs=c),_};const I=function(...d){A.apply(this,d)};I.dbCtorHelper=A;const T={null:1,number:2,string:3,boolean:4,blob:5};T.undefined==T.null,n.bigIntEnabled&&(T.bigint=T.number);const E=function(){T!==arguments[2]&&i(r.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],h.set(this,arguments[1]),this.parameterCount=r.sqlite3_bind_parameter_count(this.pointer)},b=function(d){return d.pointer||i("DB has been closed."),d},F=function(d,a){return(a!==(a|0)||a<0||a>=d.columnCount)&&i("Column index",a,"is out of range."),d},N=function(d,a){const c=Object.create(null);switch(c.opt=Object.create(null),a.length){case 1:typeof a[0]=="string"||p.isSQLableTypedArray(a[0])||Array.isArray(a[0])?c.sql=a[0]:a[0]&&typeof a[0]=="object"&&(c.opt=a[0],c.sql=c.opt.sql);break;case 2:c.sql=a[0],c.opt=a[1];break;default:i("Invalid argument count for exec().")}c.sql=p.flexibleString(c.sql),typeof c.sql!="string"&&i("Missing SQL argument or unsupported SQL value type.");const _=c.opt;switch(_.returnValue){case"resultRows":_.resultRows||(_.resultRows=[]),c.returnVal=()=>_.resultRows;break;case"saveSql":_.saveSql||(_.saveSql=[]),c.returnVal=()=>_.saveSql;break;case void 0:case"this":c.returnVal=()=>d;break;default:i("Invalid returnValue value:",_.returnValue)}if(!_.callback&&!_.returnValue&&_.rowMode!==void 0&&(_.resultRows||(_.resultRows=[]),c.returnVal=()=>_.resultRows),_.callback||_.resultRows)switch(_.rowMode===void 0?"array":_.rowMode){case"object":c.cbArg=(g,B)=>{B.columnNames||(B.columnNames=g.getColumnNames([]));const J=g.get([]),te=Object.create(null);for(const Z in B.columnNames)te[B.columnNames[Z]]=J[Z];return te};break;case"array":c.cbArg=g=>g.get([]);break;case"stmt":Array.isArray(_.resultRows)&&i("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),c.cbArg=g=>g;break;default:if(p.isInt32(_.rowMode)){c.cbArg=g=>g.get(_.rowMode);break}else if(typeof _.rowMode=="string"&&_.rowMode.length>1&&_.rowMode[0]==="$"){const g=_.rowMode.substr(1);c.cbArg=B=>{const J=B.get(Object.create(null))[g];return J===void 0?i(r.SQLITE_NOTFOUND,"exec(): unknown result column:",g):J};break}i("Invalid rowMode:",_.rowMode)}return c},M=(d,a,c,..._)=>{const g=d.prepare(a);try{const B=g.bind(c).step()?g.get(..._):void 0;return g.reset(),B}finally{g.finalize()}},y=(d,a,c,_)=>d.exec({sql:a,bind:c,rowMode:_,returnValue:"resultRows"});I.checkRc=(d,a)=>W(d,a),I.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return b(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const d=this.pointer;if(Object.keys(P.get(this)).forEach((a,c)=>{if(c&&c.pointer)try{c.finalize()}catch{}}),h.delete(this),P.delete(this),r.sqlite3_close_v2(d),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(d=!1,a=!1){const c=b(this).pointer;return d?a?r.sqlite3_total_changes64(c):r.sqlite3_total_changes(c):a?r.sqlite3_changes64(c):r.sqlite3_changes(c)},dbFilename:function(d="main"){return r.sqlite3_db_filename(b(this).pointer,d)},dbName:function(d=0){return r.sqlite3_db_name(b(this).pointer,d)},dbVfsName:function(d=0){let a;const c=r.sqlite3_js_db_vfs(b(this).pointer,d);if(c){const _=new r.sqlite3_vfs(c);try{a=n.cstrToJs(_.$zName)}finally{_.dispose()}}return a},prepare:function(d){b(this);const a=n.pstack.pointer;let c,_;try{c=n.pstack.alloc(8),I.checkRc(this,r.sqlite3_prepare_v2(this.pointer,d,-1,c,null)),_=n.peekPtr(c)}finally{n.pstack.restore(a)}_||i("Cannot prepare empty SQL.");const g=new E(this,_,T);return P.get(this)[_]=g,g},exec:function(){b(this);const d=N(this,arguments);if(!d.sql)return i("exec() requires an SQL string.");const a=d.opt,c=a.callback,_=Array.isArray(a.resultRows)?a.resultRows:void 0;let g,B=a.bind,J=!!(d.cbArg||a.columnNames||_);const te=n.scopedAllocPush(),Z=Array.isArray(a.saveSql)?a.saveSql:void 0;try{const re=p.isSQLableTypedArray(d.sql);let ae=re?d.sql.byteLength:n.jstrlen(d.sql);const oe=n.scopedAlloc(2*n.ptrSizeof+(ae+1)),H=oe+n.ptrSizeof;let w=H+n.ptrSizeof;const C=w+ae;for(re?n.heap8().set(d.sql,w):n.jstrcpy(d.sql,n.heap8(),w,ae,!1),n.poke(w+ae,0);w&&n.peek(w,"i8");){n.pokePtr([oe,H],0),I.checkRc(this,r.sqlite3_prepare_v3(this.pointer,w,ae,0,oe,H));const Q=n.peekPtr(oe);if(w=n.peekPtr(H),ae=C-w,!!Q){if(Z&&Z.push(r.sqlite3_sql(Q).trim()),g=new E(this,Q,T),B&&g.parameterCount&&(g.bind(B),B=null),J&&g.columnCount){let q=Array.isArray(a.columnNames)?0:1;if(J=!1,d.cbArg||_){const S=Object.create(null);for(;g.step();g._lockedByExec=!1){q++===0&&g.getColumnNames(S.columnNames=a.columnNames||[]),g._lockedByExec=!0;const O=d.cbArg(g,S);if(_&&_.push(O),c&&c.call(a,O,g)===!1)break}g._lockedByExec=!1}q===0&&g.getColumnNames(a.columnNames)}else g.step();g.reset().finalize(),g=null}}}finally{n.scopedAllocPop(te),g&&(delete g._lockedByExec,g.finalize())}return d.returnVal()},createFunction:function(a,c,_){const g=S=>S instanceof Function;switch(arguments.length){case 1:_=a,a=_.name,c=_.xFunc||0;break;case 2:g(c)||(_=c,c=_.xFunc||0);break;case 3:break;default:break}_||(_={}),typeof a!="string"&&i("Invalid arguments: missing function name.");let B=_.xStep||0,J=_.xFinal||0;const te=_.xValue||0,Z=_.xInverse||0;let re;g(c)?(re=!1,(g(B)||g(J))&&i("Ambiguous arguments: scalar or aggregate?"),B=J=null):g(B)?(g(J)||i("Missing xFinal() callback for aggregate or window UDF."),c=null):g(J)?i("Missing xStep() callback for aggregate or window UDF."):i("Missing function-type properties."),re===!1?(g(te)||g(Z))&&i("xValue and xInverse are not permitted for non-window UDFs."):g(te)?(g(Z)||i("xInverse must be provided if xValue is."),re=!0):g(Z)&&i("xValue must be provided if xInverse is.");const ae=_.pApp;ae!=null&&(typeof ae!="number"||!p.isInt32(ae))&&i("Invalid value for pApp property. Must be a legal WASM pointer value.");const oe=_.xDestroy||0;oe&&!g(oe)&&i("xDestroy property must be a function.");let H=0;R(_,"deterministic")&&(H|=r.SQLITE_DETERMINISTIC),R(_,"directOnly")&&(H|=r.SQLITE_DIRECTONLY),R(_,"innocuous")&&(H|=r.SQLITE_INNOCUOUS),a=a.toLowerCase();const w=c||B,C=R(_,"arity"),Q=typeof C=="number"?C:w.length?w.length-1:0;let q;return re?q=r.sqlite3_create_window_function(this.pointer,a,Q,r.SQLITE_UTF8|H,ae||0,B,J,te,Z,oe):q=r.sqlite3_create_function_v2(this.pointer,a,Q,r.SQLITE_UTF8|H,ae||0,c,B,J,oe),I.checkRc(this,q),this},selectValue:function(d,a,c){return M(this,d,a,0,c)},selectValues:function(d,a,c){const _=this.prepare(d),g=[];try{for(_.bind(a);_.step();)g.push(_.get(0,c));_.reset()}finally{_.finalize()}return g},selectArray:function(d,a){return M(this,d,a,[])},selectObject:function(d,a){return M(this,d,a,{})},selectArrays:function(d,a){return y(this,d,a,"array")},selectObjects:function(d,a){return y(this,d,a,"object")},openStatementCount:function(){return this.pointer?Object.keys(P.get(this)).length:0},transaction:function(d){let a="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&i(r.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),a+=" "+arguments[0],d=arguments[1]),b(this).exec(a);try{const c=d(this);return this.exec("COMMIT"),c}catch(c){throw this.exec("ROLLBACK"),c}},savepoint:function(d){b(this).exec("SAVEPOINT oo1");try{const a=d(this);return this.exec("RELEASE oo1"),a}catch(a){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),a}},checkRc:function(d){return W(this,d)}};const j=function(d){return d.pointer||i("Stmt has been closed."),d},u=function(d){let a=T[d==null?"null":typeof d];switch(a){case T.boolean:case T.null:case T.number:case T.string:return a;case T.bigint:if(n.bigIntEnabled)return a;default:return p.isBindableTypedArray(d)?T.blob:void 0}},f=function(d){return u(d)||i("Unsupported bind() argument type:",typeof d)},x=function(d,a){const c=typeof a=="number"?a:r.sqlite3_bind_parameter_index(d.pointer,a);return c===0||!p.isInt32(c)?i("Invalid bind() parameter name: "+a):(c<1||c>d.parameterCount)&&i("Bind index",a,"is out of range."),c},L=function(d,a){return d._lockedByExec&&i("Operation is illegal when statement is locked:",a),d},D=function d(a,c,_,g){L(j(a),"bind()"),d._||(d._tooBigInt=J=>i("BigInt value is too big to store without precision loss:",J),d._={string:function(J,te,Z,re){const[ae,oe]=n.allocCString(Z,!0);return(re?r.sqlite3_bind_blob:r.sqlite3_bind_text)(J.pointer,te,ae,oe,r.SQLITE_WASM_DEALLOC)}}),f(g),c=x(a,c);let B=0;switch(g==null?T.null:_){case T.null:B=r.sqlite3_bind_null(a.pointer,c);break;case T.string:B=d._.string(a,c,g,!1);break;case T.number:{let J;p.isInt32(g)?J=r.sqlite3_bind_int:typeof g=="bigint"?p.bigIntFits64(g)?n.bigIntEnabled?J=r.sqlite3_bind_int64:p.bigIntFitsDouble(g)?(g=Number(g),J=r.sqlite3_bind_double):d._tooBigInt(g):d._tooBigInt(g):(g=Number(g),n.bigIntEnabled&&Number.isInteger(g)?J=r.sqlite3_bind_int64:J=r.sqlite3_bind_double),B=J(a.pointer,c,g);break}case T.boolean:B=r.sqlite3_bind_int(a.pointer,c,g?1:0);break;case T.blob:{if(typeof g=="string"){B=d._.string(a,c,g,!0);break}else g instanceof ArrayBuffer?g=new Uint8Array(g):p.isBindableTypedArray(g)||i("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const J=n.alloc(g.byteLength||1);n.heap8().set(g.byteLength?g:[0],J),B=r.sqlite3_bind_blob(a.pointer,c,J,g.byteLength,r.SQLITE_WASM_DEALLOC);break}default:t.config.warn("Unsupported bind() argument type:",g),i("Unsupported bind() argument type: "+typeof g)}return B&&I.checkRc(a.db.pointer,B),a._mayGet=!1,a};E.prototype={finalize:function(){if(this.pointer){L(this,"finalize()");const d=r.sqlite3_finalize(this.pointer);return delete P.get(this.db)[this.pointer],h.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,d}},clearBindings:function(){return L(j(this),"clearBindings()"),r.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(d){L(this,"reset()"),d&&this.clearBindings();const a=r.sqlite3_reset(j(this).pointer);return this._mayGet=!1,W(this.db,a),this},bind:function(){j(this);let d,a;switch(arguments.length){case 1:d=1,a=arguments[0];break;case 2:d=arguments[0],a=arguments[1];break;default:i("Invalid bind() arguments.")}return a===void 0?this:(this.parameterCount||i("This statement has no bindable parameters."),this._mayGet=!1,a===null?D(this,d,T.null,a):Array.isArray(a)?(arguments.length!==1&&i("When binding an array, an index argument is not permitted."),a.forEach((c,_)=>D(this,_+1,f(c),c)),this):(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),typeof a=="object"&&!p.isBindableTypedArray(a)?(arguments.length!==1&&i("When binding an object, an index argument is not permitted."),Object.keys(a).forEach(c=>D(this,c,f(a[c]),a[c])),this):D(this,d,f(a),a)))},bindAsBlob:function(d,a){j(this),arguments.length===1&&(a=d,d=1);const c=f(a);return T.string!==c&&T.blob!==c&&T.null!==c&&i("Invalid value type for bindAsBlob()"),D(this,d,T.blob,a)},step:function(){L(this,"step()");const d=r.sqlite3_step(j(this).pointer);switch(d){case r.SQLITE_DONE:return this._mayGet=!1;case r.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,t.config.warn("sqlite3_step() rc=",d,r.sqlite3_js_rc_str(d),"SQL =",r.sqlite3_sql(this.pointer)),I.checkRc(this.db.pointer,d)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const d=this.step();return this.reset(),d}finally{try{this.finalize()}catch{}}},get:function(d,a){if(j(this)._mayGet||i("Stmt.step() has not (recently) returned true."),Array.isArray(d)){let c=0;const _=this.columnCount;for(;c<_;)d[c]=this.get(c++);return d}else if(d&&typeof d=="object"){let c=0;const _=this.columnCount;for(;c<_;)d[r.sqlite3_column_name(this.pointer,c)]=this.get(c++);return d}switch(F(this,d),a===void 0?r.sqlite3_column_type(this.pointer,d):a){case r.SQLITE_NULL:return null;case r.SQLITE_INTEGER:if(n.bigIntEnabled){const c=r.sqlite3_column_int64(this.pointer,d);return c>=Number.MIN_SAFE_INTEGER&&c<=Number.MAX_SAFE_INTEGER?Number(c).valueOf():c}else{const c=r.sqlite3_column_double(this.pointer,d);return(c>Number.MAX_SAFE_INTEGER||c<Number.MIN_SAFE_INTEGER)&&i("Integer is out of range for JS integer range: "+c),p.isInt32(c)?c|0:c}case r.SQLITE_FLOAT:return r.sqlite3_column_double(this.pointer,d);case r.SQLITE_TEXT:return r.sqlite3_column_text(this.pointer,d);case r.SQLITE_BLOB:{const c=r.sqlite3_column_bytes(this.pointer,d),_=r.sqlite3_column_blob(this.pointer,d),g=new Uint8Array(c);return c&&g.set(n.heap8u().slice(_,_+c),0),c&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(g.buffer),g}default:i("Don't know how to translate","type of result column #"+d+".")}i("Not reached.")},getInt:function(d){return this.get(d,r.SQLITE_INTEGER)},getFloat:function(d){return this.get(d,r.SQLITE_FLOAT)},getString:function(d){return this.get(d,r.SQLITE_TEXT)},getBlob:function(d){return this.get(d,r.SQLITE_BLOB)},getJSON:function(d){const a=this.get(d,r.SQLITE_STRING);return a===null?a:JSON.parse(a)},getColumnName:function(d){return r.sqlite3_column_name(F(j(this),d).pointer,d)},getColumnNames:function(d=[]){F(j(this),0);const a=this.columnCount;for(let c=0;c<a;++c)d.push(r.sqlite3_column_name(this.pointer,c));return d},getParamIndex:function(d){return j(this).parameterCount?r.sqlite3_bind_parameter_index(this.pointer,d):void 0},getParamName:function(d){return j(this).parameterCount?r.sqlite3_bind_parameter_name(this.pointer,d):void 0},isBusy:function(){return r.sqlite3_stmt_busy(j(this))!==0},isReadOnly:function(){return r.sqlite3_stmt_readonly(j(this))!==0}};{const d={enumerable:!0,get:function(){return h.get(this)},set:()=>i("The pointer property is read-only.")};Object.defineProperty(E.prototype,"pointer",d),Object.defineProperty(I.prototype,"pointer",d)}if(Object.defineProperty(E.prototype,"columnCount",{enumerable:!1,get:function(){return r.sqlite3_column_count(this.pointer)},set:()=>i("The columnCount property is read-only.")}),t.oo1={DB:I,Stmt:E},p.isUIThread()){t.oo1.JsStorageDb=function(a="session"){const c=A.normalizeArgs(...arguments);a=c.filename,a!=="session"&&a!=="local"&&i("JsStorageDb db name must be one of 'session' or 'local'."),c.vfs="kvvfs",A.call(this,c)};const d=t.oo1.JsStorageDb;d.prototype=Object.create(I.prototype),d.clearStorage=r.sqlite3_js_kvvfs_clear,d.prototype.clearStorage=function(){return d.clearStorage(b(this).filename)},d.storageSize=r.sqlite3_js_kvvfs_size,d.prototype.storageSize=function(){return d.storageSize(b(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){const s=t.util;t.initWorker1API=function(){"use strict";const i=(...A)=>{throw new Error(A.join(" "))};globalThis.WorkerGlobalScope instanceof Function||i("initWorker1API() must be run from a Worker thread.");const r=this.sqlite3||i("Missing this.sqlite3 object."),n=r.oo1.DB,p=function(A){let I=h.idMap.get(A);return I||(I="db#"+ ++h.idSeq+"@"+A.pointer,h.idMap.set(A,I),I)},h={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(A){const I=new n(A);return this.dbs[p(I)]=I,this.dbList.indexOf(I)<0&&this.dbList.push(I),I},close:function(A,I){if(A){delete this.dbs[p(A)];const T=A.filename,E=s.sqlite3__wasm_db_vfs(A.pointer,0);A.close();const b=this.dbList.indexOf(A);b>=0&&this.dbList.splice(b,1),I&&T&&E&&s.sqlite3__wasm_vfs_unlink(E,T)}},post:function(A,I){I&&I.length?(globalThis.postMessage(A,Array.from(I)),I.length=0):globalThis.postMessage(A)},dbs:Object.create(null),getDb:function(A,I=!0){return this.dbs[A]||(I?i("Unknown (or closed) DB ID:",A):void 0)}},P=function(A=h.dbList[0]){return A&&A.pointer?A:i("DB is not opened.")},R=function(A,I=!0){const T=h.getDb(A.dbId,!1)||h.dbList[0];return I?P(T):T},W=function(){return h.dbList[0]&&p(h.dbList[0])},z=A=>A===""||A[0]===":",G={open:function(A){const I=Object.create(null),T=A.args||Object.create(null);T.simulateError&&i("Throwing because of simulateError flag.");const E=Object.create(null);I.vfs=T.vfs,I.filename=T.filename||"";const b=h.open(I);return E.filename=b.filename,E.persistent=!!r.capi.sqlite3_js_db_uses_vfs(b.pointer,"opfs"),E.dbId=p(b),E.vfs=b.dbVfsName(),E},close:function(A){const I=R(A,!1),T={filename:I&&I.filename};if(I){const E=A.args&&typeof A.args=="object"?!!A.args.unlink:!1;h.close(I,E)}return T},exec:function(A){const I=typeof A.args=="string"?{sql:A.args}:A.args||Object.create(null);I.rowMode==="stmt"?i("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):I.sql||i("'exec' requires input SQL.");const T=R(A);(I.callback||Array.isArray(I.resultRows))&&(T._blobXfer=h.xfer);const E=I.callback;let b=0;const F=!!I.columnNames;typeof E=="string"&&(F||(I.columnNames=[]),I.callback=function(N,M){h.post({type:E,columnNames:I.columnNames,rowNumber:++b,row:N},h.xfer)});try{const N=I.countChanges?T.changes(!0,I.countChanges===64):void 0;T.exec(I),N!==void 0&&(I.changeCount=T.changes(!0,I.countChanges===64)-N);const M=I.lastInsertRowId?r.capi.sqlite3_last_insert_rowid(T):void 0;M!==void 0&&(I.lastInsertRowId=M),I.callback instanceof Function&&(I.callback=E,h.post({type:E,columnNames:I.columnNames,rowNumber:null,row:void 0}))}finally{delete T._blobXfer,I.callback&&(I.callback=E)}return I},"config-get":function(){const A=Object.create(null),I=r.config;return["bigIntEnabled"].forEach(function(T){Object.getOwnPropertyDescriptor(I,T)&&(A[T]=I[T])}),A.version=r.version,A.vfsList=r.capi.sqlite3_js_vfs_list(),A},export:function(A){const I=R(A),T={byteArray:r.capi.sqlite3_js_db_export(I.pointer),filename:I.filename,mimetype:"application/x-sqlite3"};return h.xfer.push(T.byteArray.buffer),T},toss:function(A){i("Testing worker exception")}};globalThis.onmessage=async function(A){A=A.data;let I,T=A.dbId,E=A.type;const b=performance.now();try{G.hasOwnProperty(E)&&G[E]instanceof Function?I=await G[E](A):i("Unknown db worker message type:",A.type)}catch(F){E="error",I={operation:A.type,message:F.message,errorClass:F.name,input:A},F.stack&&(I.stack=typeof F.stack=="string"?F.stack.split(/\n\s*/):F.stack)}T||(T=I.dbId||W()),h.post({type:E,dbId:T,messageId:A.messageId,workerReceivedTime:b,workerRespondTime:performance.now(),departureTime:A.departureTime,result:I},h.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({sqlite3:t})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){const s=t.wasm,i=t.capi,r=t.util.toss3,n=Object.create(null);t.vfs=n,i.sqlite3_vfs.prototype.registerVfs=function(p=!1){this instanceof t.capi.sqlite3_vfs||r("Expecting a sqlite3_vfs-type argument.");const h=i.sqlite3_vfs_register(this,p?1:0);return h&&r("sqlite3_vfs_register(",this,") failed with rc",h),this.pointer!==i.sqlite3_vfs_find(this.$zName)&&r("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},n.installVfs=function(p){let h=0;const P=["io","vfs"];for(const R of P){const W=p[R];W&&(++h,W.struct.installMethods(W.methods,!!W.applyArgcCheck),R==="vfs"&&(!W.struct.$zName&&typeof W.name=="string"&&W.struct.addOnDispose(W.struct.$zName=s.allocCString(W.name)),W.struct.registerVfs(!!W.asDefault)))}return h||r("Misuse: installVfs() options object requires at least","one of:",P),this}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){if(!t.wasm.exports.sqlite3_declare_vtab)return;const s=t.wasm,i=t.capi,r=t.util.toss3,n=Object.create(null);t.vtab=n;const p=i.sqlite3_index_info;p.prototype.nthConstraint=function(R,W=!1){if(R<0||R>=this.$nConstraint)return!1;const z=this.$aConstraint+p.sqlite3_index_constraint.structInfo.sizeof*R;return W?z:new p.sqlite3_index_constraint(z)},p.prototype.nthConstraintUsage=function(R,W=!1){if(R<0||R>=this.$nConstraint)return!1;const z=this.$aConstraintUsage+p.sqlite3_index_constraint_usage.structInfo.sizeof*R;return W?z:new p.sqlite3_index_constraint_usage(z)},p.prototype.nthOrderBy=function(R,W=!1){if(R<0||R>=this.$nOrderBy)return!1;const z=this.$aOrderBy+p.sqlite3_index_orderby.structInfo.sizeof*R;return W?z:new p.sqlite3_index_orderby(z)};const h=function(R,W){return function(z,G=!1){if(arguments.length===0&&(z=new W),z instanceof W)return this.set(z.pointer,z),z;s.isPtr(z)||t.SQLite3Error.toss("Invalid argument to",R+"()");let A=this.get(z);return G&&this.delete(z),A}.bind(new Map)},P=function(R,W){const z=h(R,W);return Object.assign(Object.create(null),{StructType:W,create:G=>{const A=z();return s.pokePtr(G,A.pointer),A},get:G=>z(G),unget:G=>z(G,!0),dispose:G=>{const A=z(G,!0);A&&A.dispose()}})};n.xVtab=P("xVtab",i.sqlite3_vtab),n.xCursor=P("xCursor",i.sqlite3_vtab_cursor),n.xIndexInfo=R=>new i.sqlite3_index_info(R),n.xError=function R(W,z,G){if(R.errorReporter instanceof Function)try{R.errorReporter("sqlite3_module::"+W+"(): "+z.message)}catch{}let A;return z instanceof t.WasmAllocError?A=i.SQLITE_NOMEM:arguments.length>2?A=G:z instanceof t.SQLite3Error&&(A=z.resultCode),A||i.SQLITE_ERROR},n.xError.errorReporter=console.error.bind(console),n.xRowid=(R,W)=>s.poke(R,W,"i64"),n.setupModule=function(R){let W=!1;const z=this instanceof i.sqlite3_module?this:R.struct||(W=new i.sqlite3_module);try{const G=R.methods||r("Missing 'methods' object.");for(const A of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const I=A[0],T=A[1];G[I]===!0?G[I]=G[T]:G[T]===!0&&(G[T]=G[I])}if(R.catchExceptions){const A=function(E,b){return["xConnect","xCreate"].indexOf(E)>=0?function(F,N,M,y,j,u){try{return b(...arguments)||0}catch(f){return f instanceof t.WasmAllocError||(s.dealloc(s.peekPtr(u)),s.pokePtr(u,s.allocCString(f.message))),n.xError(E,f)}}:function(...F){try{return b(...F)||0}catch(N){return n.xError(E,N)}}},I=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],T=Object.create(null);for(const E of I){const b=G[E];if(b instanceof Function)E==="xConnect"&&G.xCreate===b?T[E]=G.xCreate:E==="xCreate"&&G.xConnect===b?T[E]=G.xConnect:T[E]=A(E,b);else continue}z.installMethods(T,!1)}else z.installMethods(G,!!R.applyArgcCheck);if(z.$iVersion===0){let A;typeof R.iVersion=="number"?A=R.iVersion:z.$xShadowName?A=3:z.$xSavePoint||z.$xRelease||z.$xRollbackTo?A=2:A=1,z.$iVersion=A}}catch(G){throw W&&W.dispose(),G}return z},i.sqlite3_module.prototype.setupModule=function(R){return n.setupModule.call(this,R)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){const s=function i(r){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory)return Promise.reject(new Error("Missing required OPFS APIs."));(!r||typeof r!="object")&&(r=Object.create(null));const n=new URL(globalThis.location.href).searchParams;return n.has("opfs-disable")?Promise.resolve(t):(r.verbose===void 0&&(r.verbose=n.has("opfs-verbose")?+n.get("opfs-verbose")||2:1),r.sanityChecks===void 0&&(r.sanityChecks=n.has("opfs-sanity-check")),r.proxyUri===void 0&&(r.proxyUri=i.defaultProxyUri),typeof r.proxyUri=="function"&&(r.proxyUri=r.proxyUri()),new Promise(function(h,P){const R=[t.config.error,t.config.warn,t.config.log],W=(q,...S)=>{r.verbose>q&&R[q]("OPFS syncer:",...S)},z=(...q)=>W(2,...q),G=(...q)=>W(1,...q),A=(...q)=>W(0,...q),I=t.util.toss,T=t.capi,E=t.util,b=t.wasm,F=T.sqlite3_vfs,N=T.sqlite3_file,M=T.sqlite3_io_methods,y=Object.create(null),j=()=>globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory;y.metrics={dump:function(){let q,S=0,O=0,V=0;for(q in _.opIds){const U=g[q];S+=U.count,O+=U.time,V+=U.wait,U.avgTime=U.count&&U.time?U.time/U.count:0,U.avgWait=U.count&&U.wait?U.wait/U.count:0}t.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",g,`
Total of`,S,"op(s) for",O,"ms (incl. "+V+" ms of waiting on the async side)"),t.config.log("Serialization metrics:",g.s11n),d.postMessage({type:"opfs-async-metrics"})},reset:function(){let q;const S=V=>V.count=V.time=V.wait=0;for(q in _.opIds)S(g[q]=Object.create(null));let O=g.s11n=Object.create(null);O=O.serialize=Object.create(null),O.count=O.time=0,O=g.s11n.deserialize=Object.create(null),O.count=O.time=0}};const u=new M,f=new F().addOnDispose(()=>u.dispose());let x;const L=q=>(x=!0,f.dispose(),P(q)),D=()=>(x=!1,h(t)),d=new Worker(new URL(ke.p+ke.u(765),ke.b));setTimeout(()=>{x===void 0&&L(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),d._originalOnError=d.onerror,d.onerror=function(q){A("Error initializing OPFS asyncer:",q),L(new Error("Loading OPFS async Worker failed for unknown reasons."))};const a=T.sqlite3_vfs_find(null),c=a?new F(a):null;u.$iVersion=1,f.$iVersion=2,f.$szOsFile=T.sqlite3_file.structInfo.sizeof,f.$mxPathname=1024,f.$zName=b.allocCString("opfs"),f.$xDlOpen=f.$xDlError=f.$xDlSym=f.$xDlClose=null,f.addOnDispose("$zName",f.$zName,"cleanup default VFS wrapper",()=>c?c.dispose():null);const _=Object.create(null);_.verbose=r.verbose,_.littleEndian=(()=>{const q=new ArrayBuffer(2);return new DataView(q).setInt16(0,256,!0),new Int16Array(q)[0]===256})(),_.asyncIdleWaitTime=150,_.asyncS11nExceptions=1,_.fileBufferSize=1024*64,_.sabS11nOffset=_.fileBufferSize,_.sabS11nSize=f.$mxPathname*2,_.sabIO=new SharedArrayBuffer(_.fileBufferSize+_.sabS11nSize),_.opIds=Object.create(null);const g=Object.create(null);{let q=0;_.opIds.whichOp=q++,_.opIds.rc=q++,_.opIds.xAccess=q++,_.opIds.xClose=q++,_.opIds.xDelete=q++,_.opIds.xDeleteNoWait=q++,_.opIds.xFileSize=q++,_.opIds.xLock=q++,_.opIds.xOpen=q++,_.opIds.xRead=q++,_.opIds.xSleep=q++,_.opIds.xSync=q++,_.opIds.xTruncate=q++,_.opIds.xUnlock=q++,_.opIds.xWrite=q++,_.opIds.mkdir=q++,_.opIds["opfs-async-metrics"]=q++,_.opIds["opfs-async-shutdown"]=q++,_.opIds.retry=q++,_.sabOP=new SharedArrayBuffer(q*4),y.metrics.reset()}_.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_CANTOPEN","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(q=>{(_.sq3Codes[q]=T[q])===void 0&&I("Maintenance required: not found:",q)}),_.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,OPFS_UNLINK_BEFORE_OPEN:2,defaultUnlockAsap:!1});const B=(q,...S)=>{const O=_.opIds[q]||I("Invalid op ID:",q);_.s11n.serialize(...S),Atomics.store(_.sabOPView,_.opIds.rc,-1),Atomics.store(_.sabOPView,_.opIds.whichOp,O),Atomics.notify(_.sabOPView,_.opIds.whichOp);const V=performance.now();for(;Atomics.wait(_.sabOPView,_.opIds.rc,-1)!=="not-equal";);const U=Atomics.load(_.sabOPView,_.opIds.rc);if(g[q].wait+=performance.now()-V,U&&_.asyncS11nExceptions){const ee=_.s11n.deserialize();ee&&A(q+"() async error:",...ee)}return U};y.debug={asyncShutdown:()=>{G("Shutting down OPFS async listener. The OPFS VFS will no longer work."),B("opfs-async-shutdown")},asyncRestart:()=>{G("Attempting to restart OPFS VFS async listener. Might work, might not."),d.postMessage({type:"opfs-async-restart"})}};const J=()=>{if(_.s11n)return _.s11n;const q=new TextDecoder,S=new TextEncoder("utf-8"),O=new Uint8Array(_.sabIO,_.sabS11nOffset,_.sabS11nSize),V=new DataView(_.sabIO,_.sabS11nOffset,_.sabS11nSize);_.s11n=Object.create(null);const U=Object.create(null);U.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},U.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},U.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},U.string={id:4};const ee=Y=>U[typeof Y]||I("Maintenance required: this value type cannot be serialized.",Y),se=Y=>{switch(Y){case U.number.id:return U.number;case U.bigint.id:return U.bigint;case U.boolean.id:return U.boolean;case U.string.id:return U.string;default:I("Invalid type ID:",Y)}};return _.s11n.deserialize=function(Y=!1){++g.s11n.deserialize.count;const qe=performance.now(),me=O[0],k=me?[]:null;if(me){const $=[];let K=1,X,_e,fe;for(X=0;X<me;++X,++K)$.push(se(O[K]));for(X=0;X<me;++X){const ue=$[X];ue.getter?(fe=V[ue.getter](K,_.littleEndian),K+=ue.size):(_e=V.getInt32(K,_.littleEndian),K+=4,fe=q.decode(O.slice(K,K+_e)),K+=_e),k.push(fe)}}return Y&&(O[0]=0),g.s11n.deserialize.time+=performance.now()-qe,k},_.s11n.serialize=function(...Y){const qe=performance.now();if(++g.s11n.serialize.count,Y.length){const me=[];let k=0,$=1;for(O[0]=Y.length&255;k<Y.length;++k,++$)me.push(ee(Y[k])),O[$]=me[k].id;for(k=0;k<Y.length;++k){const K=me[k];if(K.setter)V[K.setter]($,Y[k],_.littleEndian),$+=K.size;else{const X=S.encode(Y[k]);V.setInt32($,X.byteLength,_.littleEndian),$+=4,O.set(X,$),$+=X.byteLength}}}else O[0]=0;g.s11n.serialize.time+=performance.now()-qe},_.s11n},te=function q(S=16){q._chars||(q._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",q._n=q._chars.length);const O=[];let V=0;for(;V<S;++V){const U=Math.random()*(q._n*64)%q._n|0;O[V]=q._chars[U]}return O.join("")},Z=Object.create(null),re=Object.create(null);re.op=void 0,re.start=void 0;const ae=q=>{re.start=performance.now(),re.op=q,++g[q].count},oe=()=>g[re.op].time+=performance.now()-re.start,H={xCheckReservedLock:function(q,S){return b.poke(S,0,"i32"),0},xClose:function(q){ae("xClose");let S=0;const O=Z[q];return O&&(delete Z[q],S=B("xClose",q),O.sq3File&&O.sq3File.dispose()),oe(),S},xDeviceCharacteristics:function(q){return T.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(q,S,O){return T.SQLITE_NOTFOUND},xFileSize:function(q,S){ae("xFileSize");let O=B("xFileSize",q);if(O==0)try{const V=_.s11n.deserialize()[0];b.poke(S,V,"i64")}catch(V){A("Unexpected error reading xFileSize() result:",V),O=_.sq3Codes.SQLITE_IOERR}return oe(),O},xLock:function(q,S){ae("xLock");const O=Z[q];let V=0;return O.lockType?O.lockType=S:(V=B("xLock",q,S),V===0&&(O.lockType=S)),oe(),V},xRead:function(q,S,O,V){ae("xRead");const U=Z[q];let ee;try{ee=B("xRead",q,O,Number(V)),(ee===0||T.SQLITE_IOERR_SHORT_READ===ee)&&b.heap8u().set(U.sabView.subarray(0,O),S)}catch(se){A("xRead(",arguments,") failed:",se,U),ee=T.SQLITE_IOERR_READ}return oe(),ee},xSync:function(q,S){ae("xSync"),++g.xSync.count;const O=B("xSync",q,S);return oe(),O},xTruncate:function(q,S){ae("xTruncate");const O=B("xTruncate",q,Number(S));return oe(),O},xUnlock:function(q,S){ae("xUnlock");const O=Z[q];let V=0;return T.SQLITE_LOCK_NONE===S&&O.lockType&&(V=B("xUnlock",q,S)),V===0&&(O.lockType=S),oe(),V},xWrite:function(q,S,O,V){ae("xWrite");const U=Z[q];let ee;try{U.sabView.set(b.heap8u().subarray(S,S+O)),ee=B("xWrite",q,O,Number(V))}catch(se){A("xWrite(",arguments,") failed:",se,U),ee=T.SQLITE_IOERR_WRITE}return oe(),ee}},w={xAccess:function(q,S,O,V){ae("xAccess");const U=B("xAccess",b.cstrToJs(S));return b.poke(V,U?0:1,"i32"),oe(),0},xCurrentTime:function(q,S){return b.poke(S,24405875e-1+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(q,S){return b.poke(S,24405875e-1*864e5+new Date().getTime(),"i64"),0},xDelete:function(q,S,O){ae("xDelete");const V=B("xDelete",b.cstrToJs(S),O,!1);return oe(),V},xFullPathname:function(q,S,O,V){return b.cstrncpy(V,S,O)<O?0:T.SQLITE_CANTOPEN},xGetLastError:function(q,S,O){return G("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(S,O,V,U,ee){ae("xOpen");let se=0;O===0?O=te():b.isPtr(O)&&(T.sqlite3_uri_boolean(O,"opfs-unlock-asap",0)&&(se|=_.opfsFlags.OPFS_UNLOCK_ASAP),T.sqlite3_uri_boolean(O,"delete-before-open",0)&&(se|=_.opfsFlags.OPFS_UNLINK_BEFORE_OPEN),O=b.cstrToJs(O));const Y=Object.create(null);Y.fid=V,Y.filename=O,Y.sab=new SharedArrayBuffer(_.fileBufferSize),Y.flags=U,Y.readOnly=!(t.SQLITE_OPEN_CREATE&U)&&!!(U&T.SQLITE_OPEN_READONLY);const qe=B("xOpen",V,O,U,se);return qe||(Y.readOnly&&b.poke(ee,T.SQLITE_OPEN_READONLY,"i32"),Z[V]=Y,Y.sabView=_.sabFileBufView,Y.sq3File=new N(V),Y.sq3File.$pMethods=u.pointer,Y.lockType=T.SQLITE_LOCK_NONE),oe(),qe}};c&&(f.$xRandomness=c.$xRandomness,f.$xSleep=c.$xSleep),f.$xRandomness||(w.xRandomness=function(q,S,O){const V=b.heap8u();let U=0;for(;U<S;++U)V[O+U]=Math.random()*255e3&255;return U}),f.$xSleep||(w.xSleep=function(q,S){return Atomics.wait(_.sabOPView,_.opIds.xSleep,0,S),0}),y.getResolvedPath=function(q,S){const O=new URL(q,"file://irrelevant").pathname;return S?O.split("/").filter(V=>!!V):O},y.getDirForFilename=async function(S,O=!1){const V=y.getResolvedPath(S,!0),U=V.pop();let ee=y.rootDirectory;for(const se of V)se&&(ee=await ee.getDirectoryHandle(se,{create:!!O}));return[ee,U]},y.mkdir=async function(q){try{return await y.getDirForFilename(q+"/filepart",!0),!0}catch{return!1}},y.entryExists=async function(q){try{const[S,O]=await y.getDirForFilename(q);return await S.getFileHandle(O),!0}catch{return!1}},y.randomFilename=te,y.treeList=async function(){const q=async function O(V,U){U.name=V.name,U.dirs=[],U.files=[];for await(const ee of V.values())if(ee.kind==="directory"){const se=Object.create(null);U.dirs.push(se),await O(ee,se)}else U.files.push(ee.name)},S=Object.create(null);return await q(y.rootDirectory,S),S},y.rmfr=async function(){const q=y.rootDirectory,S={recurse:!0};for await(const O of q.values())q.removeEntry(O.name,S)},y.unlink=async function(q,S=!1,O=!1){try{const[V,U]=await y.getDirForFilename(q,!1);return await V.removeEntry(U,{recursive:S}),!0}catch(V){if(O)throw new Error("unlink(",arguments[0],") failed: "+V.message,{cause:V});return!1}},y.traverse=async function(q){const S={recursive:!0,directory:y.rootDirectory};typeof q=="function"&&(q={callback:q}),q=Object.assign(S,q||{}),async function V(U,ee){for await(const se of U.values()){if(q.callback(se,U,ee)===!1)return!1;if(q.recursive&&se.kind==="directory"&&await V(se,ee+1)===!1)break}}(q.directory,0)};const C=async function(q,S){const[O,V]=await y.getDirForFilename(q,!0);let ee=await(await O.getFileHandle(V,{create:!0})).createSyncAccessHandle(),se=0,Y,qe=!1,me=!1;try{for(ee.truncate(0);(Y=await S())!==void 0;)Y instanceof ArrayBuffer&&(Y=new Uint8Array(Y)),se===0&&Y.byteLength>=15&&(E.affirmDbHeader(Y),qe=!0),ee.write(Y,{at:se}),se+=Y.byteLength;if((se<512||se%512!==0)&&I("Input size",se,"is not correct for an SQLite database."),!qe){const k=new Uint8Array(20);ee.read(k,{at:0}),E.affirmDbHeader(k)}return ee.write(new Uint8Array([1,1]),{at:18}),se}catch(k){throw await ee.close(),ee=void 0,await O.removeEntry(V).catch(()=>{}),k}finally{ee&&await ee.close()}};if(y.importDb=async function(q,S){if(S instanceof Function)return C(q,S);S instanceof ArrayBuffer&&(S=new Uint8Array(S)),E.affirmIsDb(S);const O=S.byteLength,[V,U]=await y.getDirForFilename(q,!0);let ee,se,Y=0;try{return ee=await(await V.getFileHandle(U,{create:!0})).createSyncAccessHandle(),ee.truncate(0),Y=ee.write(S,{at:0}),Y!=O&&I("Expected to write "+O+" bytes but wrote "+Y+"."),ee.write(new Uint8Array([1,1]),{at:18}),Y}catch(qe){throw ee&&(await ee.close(),ee=void 0),await V.removeEntry(U).catch(()=>{}),qe}finally{ee&&await ee.close()}},t.oo1){const q=function(...S){const O=t.oo1.DB.dbCtorHelper.normalizeArgs(...S);O.vfs=f.$zName,t.oo1.DB.dbCtorHelper.call(this,O)};q.prototype=Object.create(t.oo1.DB.prototype),t.oo1.OpfsDb=q,q.importDb=y.importDb,t.oo1.DB.dbCtorHelper.setVfsPostOpenCallback(f.pointer,function(S,O){O.capi.sqlite3_busy_timeout(S,1e4)})}const Q=function(){const q=b.scopedAllocPush(),S=new N;try{const O=S.pointer,V=T.SQLITE_OPEN_CREATE|T.SQLITE_OPEN_READWRITE|T.SQLITE_OPEN_MAIN_DB,U=b.scopedAlloc(8),ee="/sanity/check/file"+te(8),se=b.scopedAllocCString(ee);let Y;if(_.s11n.serialize("This is \xE4 string."),Y=_.s11n.deserialize(),z("deserialize() says:",Y),Y[0]!=="This is \xE4 string."&&I("String d13n error."),w.xAccess(f.pointer,se,0,U),Y=b.peek(U,"i32"),z("xAccess(",ee,") exists ?=",Y),Y=w.xOpen(f.pointer,se,O,V,U),z("open rc =",Y,"state.sabOPView[xOpen] =",_.sabOPView[_.opIds.xOpen]),Y!==0){A("open failed with code",Y);return}w.xAccess(f.pointer,se,0,U),Y=b.peek(U,"i32"),Y||I("xAccess() failed to detect file."),Y=H.xSync(S.pointer,0),Y&&I("sync failed w/ rc",Y),Y=H.xTruncate(S.pointer,1024),Y&&I("truncate failed w/ rc",Y),b.poke(U,0,"i64"),Y=H.xFileSize(S.pointer,U),Y&&I("xFileSize failed w/ rc",Y),z("xFileSize says:",b.peek(U,"i64")),Y=H.xWrite(S.pointer,se,10,1),Y&&I("xWrite() failed!");const qe=b.scopedAlloc(16);Y=H.xRead(S.pointer,qe,6,2),b.poke(qe+6,0);let me=b.cstrToJs(qe);z("xRead() got:",me),me!=="sanity"&&I("Unexpected xRead() value."),w.xSleep&&(z("xSleep()ing before close()ing..."),w.xSleep(f.pointer,2e3),z("waking up from xSleep()")),Y=H.xClose(O),z("xClose rc =",Y,"sabOPView =",_.sabOPView),z("Deleting file:",ee),w.xDelete(f.pointer,se,4660),w.xAccess(f.pointer,se,0,U),Y=b.peek(U,"i32"),Y&&I("Expecting 0 from xAccess(",ee,") after xDelete()."),G("End of OPFS sanity checks.")}finally{S.dispose(),b.scopedAllocPop(q)}};d.onmessage=function({data:q}){switch(q.type){case"opfs-unavailable":L(new Error(q.payload.join(" ")));break;case"opfs-async-loaded":d.postMessage({type:"opfs-async-init",args:_});break;case"opfs-async-inited":{if(x===!0)break;try{t.vfs.installVfs({io:{struct:u,methods:H},vfs:{struct:f,methods:w}}),_.sabOPView=new Int32Array(_.sabOP),_.sabFileBufView=new Uint8Array(_.sabIO,0,_.fileBufferSize),_.sabS11nView=new Uint8Array(_.sabIO,_.sabS11nOffset,_.sabS11nSize),J(),r.sanityChecks&&(G("Running sanity checks because of opfs-sanity-check URL arg..."),Q()),j()?navigator.storage.getDirectory().then(S=>{d.onerror=d._originalOnError,delete d._originalOnError,t.opfs=y,y.rootDirectory=S,z("End of OPFS sqlite3_vfs setup.",f),D()}).catch(L):D()}catch(S){A(S),L(S)}break}default:{const S="Unexpected message from the OPFS async worker: "+JSON.stringify(q);A(S),L(new Error(S));break}}}}))};s.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async i=>{try{let r=s.defaultProxyUri;return i.scriptInfo.sqlite3Dir&&(s.defaultProxyUri=i.scriptInfo.sqlite3Dir+r),s().catch(n=>{i.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",n.message)})}catch(r){return i.config.error("installOpfsVfs() exception:",r),Promise.reject(r)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){"use strict";const s=t.util.toss,i=t.util.toss3,r=Object.create(null),n=t.capi,p=t.util,h=t.wasm,P=4096,R=512,W=4,z=8,G=R+W,A=R,I=G,T=P,E=n.SQLITE_OPEN_MAIN_DB|n.SQLITE_OPEN_MAIN_JOURNAL|n.SQLITE_OPEN_SUPER_JOURNAL|n.SQLITE_OPEN_WAL,b=n.SQLITE_OPEN_MEMORY,F=".opaque",N=()=>Math.random().toString(36).slice(2),M=new TextDecoder,y=new TextEncoder,j=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2,forceReinitIfPreviouslyFailed:!1}),u=[t.config.error,t.config.warn,t.config.log],f=t.config.log,x=t.config.warn,L=t.config.error,D=new Map,d=H=>D.get(H),a=(H,w)=>{w?D.set(H,w):D.delete(H)},c=new Map,_=H=>c.get(H),g=(H,w)=>{w?c.set(H,w):c.delete(H)},B={xCheckReservedLock:function(H,w){const C=_(H);return C.log("xCheckReservedLock"),C.storeErr(),h.poke32(w,1),0},xClose:function(H){const w=_(H);w.storeErr();const C=w.getOFileForS3File(H);if(C)try{w.log(`xClose ${C.path}`),w.mapS3FileToOFile(H,!1),C.sah.flush(),C.flags&n.SQLITE_OPEN_DELETEONCLOSE&&w.deletePath(C.path)}catch(Q){return w.storeErr(Q,n.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(H){return n.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(H,w,C){return n.SQLITE_NOTFOUND},xFileSize:function(H,w){const C=_(H);C.log("xFileSize");const q=C.getOFileForS3File(H).sah.getSize()-T;return h.poke64(w,BigInt(q)),0},xLock:function(H,w){const C=_(H);C.log(`xLock ${w}`),C.storeErr();const Q=C.getOFileForS3File(H);return Q.lockType=w,0},xRead:function(H,w,C,Q){const q=_(H);q.storeErr();const S=q.getOFileForS3File(H);q.log(`xRead ${S.path} ${C} @ ${Q}`);try{const O=S.sah.read(h.heap8u().subarray(w,w+C),{at:T+Number(Q)});return O<C?(h.heap8u().fill(0,w+O,w+C),n.SQLITE_IOERR_SHORT_READ):0}catch(O){return q.storeErr(O,n.SQLITE_IOERR)}},xSectorSize:function(H){return P},xSync:function(H,w){const C=_(H);C.log(`xSync ${w}`),C.storeErr();const Q=C.getOFileForS3File(H);try{return Q.sah.flush(),0}catch(q){return C.storeErr(q,n.SQLITE_IOERR)}},xTruncate:function(H,w){const C=_(H);C.log(`xTruncate ${w}`),C.storeErr();const Q=C.getOFileForS3File(H);try{return Q.sah.truncate(T+Number(w)),0}catch(q){return C.storeErr(q,n.SQLITE_IOERR)}},xUnlock:function(H,w){const C=_(H);C.log("xUnlock");const Q=C.getOFileForS3File(H);return Q.lockType=w,0},xWrite:function(H,w,C,Q){const q=_(H);q.storeErr();const S=q.getOFileForS3File(H);q.log(`xWrite ${S.path} ${C} ${Q}`);try{const O=S.sah.write(h.heap8u().subarray(w,w+C),{at:T+Number(Q)});return C===O?0:s("Unknown write() failure.")}catch(O){return q.storeErr(O,n.SQLITE_IOERR)}}},J=new n.sqlite3_io_methods;J.$iVersion=1,t.vfs.installVfs({io:{struct:J,methods:B}});const te={xAccess:function(H,w,C,Q){const q=d(H);q.storeErr();try{const S=q.getPath(w);h.poke32(Q,q.hasFilename(S)?1:0)}catch{h.poke32(Q,0)}return 0},xCurrentTime:function(H,w){return h.poke(w,24405875e-1+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(H,w){return h.poke(w,24405875e-1*864e5+new Date().getTime(),"i64"),0},xDelete:function(H,w,C){const Q=d(H);Q.log(`xDelete ${h.cstrToJs(w)}`),Q.storeErr();try{return Q.deletePath(Q.getPath(w)),0}catch(q){return Q.storeErr(q),n.SQLITE_IOERR_DELETE}},xFullPathname:function(H,w,C,Q){return h.cstrncpy(Q,w,C)<C?0:n.SQLITE_CANTOPEN},xGetLastError:function(H,w,C){const Q=d(H),q=Q.popErr();if(Q.log(`xGetLastError ${w} e =`,q),q){const S=h.scopedAllocPush();try{const[O,V]=h.scopedAllocCString(q.message,!0);h.cstrncpy(C,O,w),V>w&&h.poke8(C+w-1,0)}catch{return n.SQLITE_NOMEM}finally{h.scopedAllocPop(S)}}return q?q.sqlite3Rc||n.SQLITE_IOERR:0},xOpen:function(w,C,Q,q,S){const O=d(w);try{q&=~b,O.log(`xOpen ${h.cstrToJs(C)} ${q}`);const V=C&&h.peek8(C)?O.getPath(C):N();let U=O.getSAHForPath(V);!U&&q&n.SQLITE_OPEN_CREATE&&(O.getFileCount()<O.getCapacity()?(U=O.nextAvailableSAH(),O.setAssociatedPath(U,V,q)):s("SAH pool is full. Cannot create file",V)),U||s("file not found:",V);const ee={path:V,flags:q,sah:U};O.mapS3FileToOFile(Q,ee),ee.lockType=n.SQLITE_LOCK_NONE;const se=new n.sqlite3_file(Q);return se.$pMethods=J.pointer,se.dispose(),h.poke32(S,q),0}catch(V){return O.storeErr(V),n.SQLITE_CANTOPEN}}},Z=function(H){t.capi.sqlite3_vfs_find(H)&&i("VFS name is already registered:",H);const w=new n.sqlite3_vfs,C=n.sqlite3_vfs_find(null),Q=C?new n.sqlite3_vfs(C):null;return w.$iVersion=2,w.$szOsFile=n.sqlite3_file.structInfo.sizeof,w.$mxPathname=R,w.addOnDispose(w.$zName=h.allocCString(H),()=>a(w.pointer,0)),Q&&(w.$xRandomness=Q.$xRandomness,w.$xSleep=Q.$xSleep,Q.dispose()),!w.$xRandomness&&!te.xRandomness&&(te.xRandomness=function(q,S,O){const V=h.heap8u();let U=0;for(;U<S;++U)V[O+U]=Math.random()*255e3&255;return U}),!w.$xSleep&&!te.xSleep&&(te.xSleep=(q,S)=>0),t.vfs.installVfs({vfs:{struct:w,methods:te}}),w};class re{vfsDir;#e;#o;#l;#r=new Map;#t=new Map;#n=new Set;#a=new Map;#s=new Uint8Array(G);#_;#i;#u;constructor(w=Object.create(null)){this.#u=w.verbosity??j.verbosity,this.vfsName=w.name||j.name,this.#i=Z(this.vfsName),a(this.#i.pointer,this),this.vfsDir=w.directory||"."+this.vfsName,this.#_=new DataView(this.#s.buffer,this.#s.byteOffset),this.isReady=this.reset(!!(w.clearOnInit??j.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(w.initialCapacity||j.initialCapacity)})}#c(w,...C){this.#u>w&&u[w](this.vfsName+":",...C)}log(...w){this.#c(2,...w)}warn(...w){this.#c(1,...w)}error(...w){this.#c(0,...w)}getVfs(){return this.#i}getCapacity(){return this.#r.size}getFileCount(){return this.#t.size}getFileNames(){const w=[];for(const C of this.#t.keys())w.push(C);return w}async addCapacity(w){for(let C=0;C<w;++C){const Q=N(),S=await(await this.#o.getFileHandle(Q,{create:!0})).createSyncAccessHandle();this.#r.set(S,Q),this.setAssociatedPath(S,"",0)}return this.getCapacity()}async reduceCapacity(w){let C=0;for(const Q of Array.from(this.#n)){if(C===w||this.getFileCount()===this.getCapacity())break;const q=this.#r.get(Q);Q.close(),await this.#o.removeEntry(q),this.#r.delete(Q),this.#n.delete(Q),++C}return C}releaseAccessHandles(){for(const w of this.#r.keys())w.close();this.#r.clear(),this.#t.clear(),this.#n.clear()}async acquireAccessHandles(w=!1){const C=[];for await(const[Q,q]of this.#o)q.kind==="file"&&C.push([Q,q]);return Promise.all(C.map(async([Q,q])=>{try{const S=await q.createSyncAccessHandle();if(this.#r.set(S,Q),w)S.truncate(T),this.setAssociatedPath(S,"",0);else{const O=this.getAssociatedPath(S);O?this.#t.set(O,S):this.#n.add(S)}}catch(S){throw this.storeErr(S),this.releaseAccessHandles(),S}}))}getAssociatedPath(w){w.read(this.#s,{at:0});const C=this.#_.getUint32(A);if(this.#s[0]&&(C&n.SQLITE_OPEN_DELETEONCLOSE||(C&E)===0))return x(`Removing file with unexpected flags ${C.toString(16)}`,this.#s),this.setAssociatedPath(w,"",0),"";const Q=new Uint32Array(z/4);w.read(Q,{at:I});const q=this.computeDigest(this.#s,C);if(Q.every((S,O)=>S===q[O])){const S=this.#s.findIndex(O=>O===0);return S===0&&w.truncate(T),S?M.decode(this.#s.subarray(0,S)):""}else return x("Disassociating file with bad digest."),this.setAssociatedPath(w,"",0),""}setAssociatedPath(w,C,Q){const q=y.encodeInto(C,this.#s);R<=q.written+1&&s("Path too long:",C),C&&Q&&(Q|=b),this.#s.fill(0,q.written,R),this.#_.setUint32(A,Q);const S=this.computeDigest(this.#s,Q);w.write(this.#s,{at:0}),w.write(S,{at:I}),w.flush(),C?(this.#t.set(C,w),this.#n.delete(w)):(w.truncate(T),this.#n.add(w))}computeDigest(w,C){if(C&b){let Q=3735928559,q=1103547991;for(const S of w)Q=Math.imul(Q^S,2654435761),q=Math.imul(q^S,104729);return new Uint32Array([Q>>>0,q>>>0])}else return new Uint32Array([0,0])}async reset(w){await this.isReady;let C=await navigator.storage.getDirectory(),Q,q;for(const S of this.vfsDir.split("/"))S&&(Q=C,C=await C.getDirectoryHandle(S,{create:!0}));return this.#e=C,this.#l=Q,this.#o=await this.#e.getDirectoryHandle(F,{create:!0}),this.releaseAccessHandles(),this.acquireAccessHandles(w)}getPath(w){return h.isPtr(w)&&(w=h.cstrToJs(w)),(w instanceof URL?w:new URL(w,"file://localhost/")).pathname}deletePath(w){const C=this.#t.get(w);return C&&(this.#t.delete(w),this.setAssociatedPath(C,"",0)),!!C}storeErr(w,C){return w&&(w.sqlite3Rc=C||n.SQLITE_IOERR,this.error(w)),this.$error=w,C}popErr(){const w=this.$error;return this.$error=void 0,w}nextAvailableSAH(){const[w]=this.#n.keys();return w}getOFileForS3File(w){return this.#a.get(w)}mapS3FileToOFile(w,C){C?(this.#a.set(w,C),g(w,this)):(this.#a.delete(w),g(w,!1))}hasFilename(w){return this.#t.has(w)}getSAHForPath(w){return this.#t.get(w)}async removeVfs(){if(!this.#i.pointer||!this.#o)return!1;n.sqlite3_vfs_unregister(this.#i.pointer),this.#i.dispose(),delete r[this.vfsName];try{this.releaseAccessHandles(),await this.#e.removeEntry(F,{recursive:!0}),this.#o=void 0,await this.#l.removeEntry(this.#e.name,{recursive:!0}),this.#e=this.#l=void 0}catch(w){t.config.error(this.vfsName,"removeVfs() failed with no recovery strategy:",w)}return!0}pauseVfs(){return this.#a.size>0&&t.SQLite3Error.toss(n.SQLITE_MISUSE,"Cannot pause VFS",this.vfsName,"because it has opened files."),this.#r.size>0&&(n.sqlite3_vfs_unregister(this.vfsName),this.releaseAccessHandles()),this}isPaused(){return this.#r.size===0}async unpauseVfs(){return this.#r.size===0?this.acquireAccessHandles(!1).then(()=>n.sqlite3_vfs_register(this.#i,0),this):this}exportFile(w){const C=this.#t.get(w)||s("File not found:",w),Q=C.getSize()-T,q=new Uint8Array(Q>0?Q:0);if(Q>0){const S=C.read(q,{at:T});S!=Q&&s("Expected to read "+Q+" bytes but read "+S+".")}return q}async importDbChunked(w,C){const Q=this.#t.get(w)||this.nextAvailableSAH()||s("No available handles to import to.");Q.truncate(0);let q=0,S,O=!1,V=!1;try{for(;(S=await C())!==void 0;)S instanceof ArrayBuffer&&(S=new Uint8Array(S)),q===0&&S.byteLength>=15&&(p.affirmDbHeader(S),O=!0),Q.write(S,{at:T+q}),q+=S.byteLength;if((q<512||q%512!==0)&&s("Input size",q,"is not correct for an SQLite database."),!O){const U=new Uint8Array(20);Q.read(U,{at:0}),p.affirmDbHeader(U)}Q.write(new Uint8Array([1,1]),{at:T+18})}catch(U){throw this.setAssociatedPath(Q,"",0),U}return this.setAssociatedPath(Q,w,n.SQLITE_OPEN_MAIN_DB),q}importDb(w,C){if(C instanceof ArrayBuffer)C=new Uint8Array(C);else if(C instanceof Function)return this.importDbChunked(w,C);const Q=this.#t.get(w)||this.nextAvailableSAH()||s("No available handles to import to."),q=C.byteLength;(q<512||q%512!=0)&&s("Byte array size is invalid for an SQLite db.");const S="SQLite format 3";for(let V=0;V<S.length;++V)S.charCodeAt(V)!==C[V]&&s("Input does not contain an SQLite database header.");const O=Q.write(C,{at:T});return O!=q?(this.setAssociatedPath(Q,"",0),s("Expected to write "+q+" bytes but wrote "+O+".")):(Q.write(new Uint8Array([1,1]),{at:T+18}),this.setAssociatedPath(Q,w,n.SQLITE_OPEN_MAIN_DB)),O}}class ae{#e;constructor(w){this.#e=w,this.vfsName=w.vfsName}async addCapacity(w){return this.#e.addCapacity(w)}async reduceCapacity(w){return this.#e.reduceCapacity(w)}getCapacity(){return this.#e.getCapacity(this.#e)}getFileCount(){return this.#e.getFileCount()}getFileNames(){return this.#e.getFileNames()}async reserveMinimumCapacity(w){const C=this.#e.getCapacity();return C<w?this.#e.addCapacity(w-C):C}exportFile(w){return this.#e.exportFile(w)}importDb(w,C){return this.#e.importDb(w,C)}async wipeFiles(){return this.#e.reset(!0)}unlink(w){return this.#e.deletePath(w)}async removeVfs(){return this.#e.removeVfs()}pauseVfs(){return this.#e.pauseVfs(),this}async unpauseVfs(){return this.#e.unpauseVfs().then(()=>this)}isPaused(){return this.#e.isPaused()}}const oe=async()=>{const H=await navigator.storage.getDirectory(),w=".opfs-sahpool-sync-check-"+N(),q=(await(await H.getFileHandle(w,{create:!0})).createSyncAccessHandle()).close();return await q,await H.removeEntry(w),q?.then&&s("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0};t.installOpfsSAHPoolVfs=async function(H=Object.create(null)){H=Object.assign(Object.create(null),j,H||{});const w=H.name;if(H.$testThrowPhase1)throw H.$testThrowPhase1;if(r[w])try{return await r[w]}catch(C){if(H.forceReinitIfPreviouslyFailed)delete r[w];else throw C}return!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory?r[w]=Promise.reject(new Error("Missing required OPFS APIs.")):r[w]=oe().then(async function(){if(H.$testThrowPhase2)throw H.$testThrowPhase2;const C=new re(H);return C.isReady.then(async()=>{const Q=new ae(C);if(t.oo1){const q=t.oo1,S=C.getVfs(),O=function(...V){const U=q.DB.dbCtorHelper.normalizeArgs(...V);U.vfs=S.$zName,q.DB.dbCtorHelper.call(this,U)};O.prototype=Object.create(q.DB.prototype),Q.OpfsSAHPoolDb=O}return C.log("VFS initialized."),Q}).catch(async Q=>{throw await C.removeVfs().catch(()=>{}),Q})}).catch(C=>r[w]=Promise.reject(C))}}),typeof o<"u"){const t=Object.assign(Object.create(null),{exports:typeof m>"u"?o.asm:m,memory:o.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=t;let s;try{s=globalThis.sqlite3ApiBootstrap()}catch(i){throw console.error("sqlite3ApiBootstrap() error:",i),i}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}o.sqlite3=s}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")},ye=Ye,ye}})();Xe=function(){const Ce=Xe;if(!Ce)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const be=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(be.debugModule=be.urlParams.has("sqlite3.debugModule")?(...ye)=>console.warn("sqlite3.debugModule:",...ye):()=>{},be.urlParams.has("sqlite3.dir"))be.sqlite3Dir=be.urlParams.get("sqlite3.dir")+"/";else if(be.moduleScript){const ye=be.moduleScript.src.split("/");ye.pop(),be.sqlite3Dir=ye.join("/")+"/"}if(globalThis.sqlite3InitModule=function ye(...o){return Ce(...o).then(xe=>{xe.runSQLite3PostLoadInit(xe);const Se=xe.sqlite3;Se.scriptInfo=be,ye.__isUnderTest&&(Se.__isUnderTest=!0);const Ye=Se.asyncPostInit;return delete Se.asyncPostInit,Ye()}).catch(xe=>{throw console.error("Exception loading sqlite3 module:",xe),xe})},globalThis.sqlite3InitModule.ready=Ce.ready,globalThis.sqlite3InitModuleState.moduleScript){const ye=globalThis.sqlite3InitModuleState;let o=ye.moduleScript.src.split("/");o.pop(),ye.scriptDir=o.join("/")+"/"}return be.debugModule("sqlite3InitModuleState =",be),globalThis.sqlite3InitModule}();const Mt=Xe},7382:(dt,pt,ke)=>{dt.exports=ke.p+"458c91ff00c27087ba85.wasm"}}]);
